<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello Sine Test</title>
  </head>
  <body>
    <h1>Realtime Sine Test</h1>
    <p>Play 440Hz sine wave for 1 second, 880Hz for 1 second, then stop</p>
    <button id="start">Run</button>

    <script>
      const audioContext = new AudioContext();
      const osc = audioContext.createOscillator();
      osc.type = 'sine';
      osc.frequency.value = 440;
      osc.connect(audioContext.destination);
      const startButton = document.getElementById('start');

      startButton.addEventListener('click', () => {
        startButton.disabled = true;
        osc.start();

        // after 1 second, change to 880 Hz
        setTimeout(() => {
          osc.frequency.value = 880;
          osc.stop(audioContext.currentTime + 1);
        }, 1000);
      }, { once: true });
    </script>
  </body>
</html>