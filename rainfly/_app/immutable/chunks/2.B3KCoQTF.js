const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./monaco.BL-T1Oqh.js","./editor.api.C4fQGNrv.js","../assets/editor.mWdEp5Nj.css","./preload-helper.C1FmrZbK.js","../assets/monaco.BnEVz9Wd.css","./index.BTFUwuwz.js"])))=>i.map(i=>d[i]);
import{s as $t,d as Ht,x as be,u as Vt,g as Gt,e as Kt,r as oe,b as At,y as Ye,t as Me,z as Ut,n as Yt,A as ze,c as se,o as $e,B as qe,C as Wt}from"./scheduler.C0ao50Yb.js";import{S as It,i as Ot,e as at,t as Rt,s as bt,c as ot,a as dt,b as Dt,f as wt,d as X,o as rt,z as mt,g as ut,h as nt,A as Lt,j as we,n as ct,l as ht,u as yt,v as kt,w as Et,x as Ct,B as Mt,C as le,D as Xe,p as ce,k as De,q as Je,m as Qe}from"./index.D6Y8EUia.js";import{w as We}from"./index.zclZ7hQ-.js";import{_ as Le}from"./preload-helper.C1FmrZbK.js";const tr=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Ae=new Map,er=(v,u)=>(Ae.set(v,u),{destroy:()=>Ae.delete(v)});function rr(v){let u,e,c,l,t,s,i;const r=v[6].default,o=Ht(r,v,v[5],null);return{c(){u=at("div"),e=Rt(v[0]),c=bt(),l=at("dialog"),o&&o.c(),this.h()},l(p){u=ot(p,"DIV",{class:!0,role:!0,tabindex:!0});var d=dt(u);e=Dt(d,v[0]),c=wt(d),l=ot(d,"DIALOG",{class:!0});var b=dt(l);o&&o.l(b),b.forEach(X),d.forEach(X),this.h()},h(){rt(l,"class","bg-secondary m-0 py-1 rounded-b shadow-md w-max z-50 svelte-vgxygr"),mt(l,"fold",!v[2]),mt(l,"unfold",v[2]),rt(u,"class","flex hover:text-accent items-center relative select-none"),rt(u,"role","button"),rt(u,"tabindex","0"),mt(u,"text-accent",v[2])},m(p,d){ut(p,u,d),nt(u,e),nt(u,c),nt(u,l),o&&o.m(l,null),v[7](l),t=!0,s||(i=[Lt(u,"click",v[3]),Lt(u,"keydown",v[3]),be(er.call(null,u,v[4]))],s=!0)},p(p,[d]){(!t||d&1)&&we(e,p[0]),o&&o.p&&(!t||d&32)&&Vt(o,r,p,p[5],t?Kt(r,p[5],d,null):Gt(p[5]),null),(!t||d&4)&&mt(l,"fold",!p[2]),(!t||d&4)&&mt(l,"unfold",p[2]),(!t||d&4)&&mt(u,"text-accent",p[2])},i(p){t||(ct(o,p),t=!0)},o(p){ht(o,p),t=!1},d(p){p&&X(u),o&&o.d(p),v[7](null),s=!1,oe(i)}}}function nr(v,u,e){let{$$slots:c={},$$scope:l}=u,{name:t}=u,s,i=!1;const r=()=>{i?setTimeout(()=>s.close(),200):s.show(),e(2,i=!i)},o=()=>{setTimeout(()=>s.close(),200),e(2,i=!1)};function p(d){At[d?"unshift":"push"](()=>{s=d,e(1,s)})}return v.$$set=d=>{"name"in d&&e(0,t=d.name),"$$scope"in d&&e(5,l=d.$$scope)},[t,s,i,r,o,l,c,p]}class Ie extends It{constructor(u){super(),Ot(this,u,nr,rr,$t,{name:0})}}const ir=v=>({}),Pe=v=>({});function sr(v){let u,e,c,l,t;const s=v[1].icon,i=Ht(s,v,v[0],Pe),r=v[1].default,o=Ht(r,v,v[0],null);return{c(){u=at("button"),i&&i.c(),e=bt(),o&&o.c(),this.h()},l(p){u=ot(p,"BUTTON",{class:!0});var d=dt(u);i&&i.l(d),e=wt(d),o&&o.l(d),d.forEach(X),this.h()},h(){rt(u,"class","flex gap-2 hover:border-l-blue-600 hover:text-accent items-center px-4 py-2 transition min-w-32")},m(p,d){ut(p,u,d),i&&i.m(u,null),nt(u,e),o&&o.m(u,null),c=!0,l||(t=Lt(u,"click",v[2]),l=!0)},p(p,[d]){i&&i.p&&(!c||d&1)&&Vt(i,s,p,p[0],c?Kt(s,p[0],d,ir):Gt(p[0]),Pe),o&&o.p&&(!c||d&1)&&Vt(o,r,p,p[0],c?Kt(r,p[0],d,null):Gt(p[0]),null)},i(p){c||(ct(i,p),ct(o,p),c=!0)},o(p){ht(i,p),ht(o,p),c=!1},d(p){p&&X(u),i&&i.d(p),o&&o.d(p),l=!1,t()}}}function ar(v,u,e){let{$$slots:c={},$$scope:l}=u;function t(s){Ye.call(this,v,s)}return v.$$set=s=>{"$$scope"in s&&e(0,l=s.$$scope)},[l,c,t]}class ae extends It{constructor(u){super(),Ot(this,u,ar,sr,$t,{})}}var he=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function or(v){return v&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v}function xn(v){if(v.__esModule)return v;var u=v.default;if(typeof u=="function"){var e=function c(){return this instanceof c?Reflect.construct(u,arguments,this.constructor):u.apply(this,arguments)};e.prototype=u.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(v).forEach(function(c){var l=Object.getOwnPropertyDescriptor(v,c);Object.defineProperty(e,c,l.get?l:{enumerable:!0,get:function(){return v[c]}})}),e}function de(v){throw new Error('Could not dynamically require "'+v+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ze={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(v,u){(function(e){v.exports=e()})(function(){return function e(c,l,t){function s(o,p){if(!l[o]){if(!c[o]){var d=typeof de=="function"&&de;if(!p&&d)return d(o,!0);if(i)return i(o,!0);var b=new Error("Cannot find module '"+o+"'");throw b.code="MODULE_NOT_FOUND",b}var h=l[o]={exports:{}};c[o][0].call(h.exports,function(w){var f=c[o][1][w];return s(f||w)},h,h.exports,e,c,l,t)}return l[o].exports}for(var i=typeof de=="function"&&de,r=0;r<t.length;r++)s(t[r]);return s}({1:[function(e,c,l){var t=e("./utils"),s=e("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(r){for(var o,p,d,b,h,w,f,_=[],m=0,k=r.length,C=k,S=t.getTypeOf(r)!=="string";m<r.length;)C=k-m,d=S?(o=r[m++],p=m<k?r[m++]:0,m<k?r[m++]:0):(o=r.charCodeAt(m++),p=m<k?r.charCodeAt(m++):0,m<k?r.charCodeAt(m++):0),b=o>>2,h=(3&o)<<4|p>>4,w=1<C?(15&p)<<2|d>>6:64,f=2<C?63&d:64,_.push(i.charAt(b)+i.charAt(h)+i.charAt(w)+i.charAt(f));return _.join("")},l.decode=function(r){var o,p,d,b,h,w,f=0,_=0,m="data:";if(r.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var k,C=3*(r=r.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(r.charAt(r.length-1)===i.charAt(64)&&C--,r.charAt(r.length-2)===i.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=s.uint8array?new Uint8Array(0|C):new Array(0|C);f<r.length;)o=i.indexOf(r.charAt(f++))<<2|(b=i.indexOf(r.charAt(f++)))>>4,p=(15&b)<<4|(h=i.indexOf(r.charAt(f++)))>>2,d=(3&h)<<6|(w=i.indexOf(r.charAt(f++))),k[_++]=o,h!==64&&(k[_++]=p),w!==64&&(k[_++]=d);return k}},{"./support":30,"./utils":32}],2:[function(e,c,l){var t=e("./external"),s=e("./stream/DataWorker"),i=e("./stream/Crc32Probe"),r=e("./stream/DataLengthProbe");function o(p,d,b,h,w){this.compressedSize=p,this.uncompressedSize=d,this.crc32=b,this.compression=h,this.compressedContent=w}o.prototype={getContentWorker:function(){var p=new s(t.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new r("data_length")),d=this;return p.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new s(t.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(p,d,b){return p.pipe(new i).pipe(new r("uncompressedSize")).pipe(d.compressWorker(b)).pipe(new r("compressedSize")).withStreamInfo("compression",d)},c.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,c,l){var t=e("./stream/GenericWorker");l.STORE={magic:"\0\0",compressWorker:function(){return new t("STORE compression")},uncompressWorker:function(){return new t("STORE decompression")}},l.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,c,l){var t=e("./utils"),s=function(){for(var i,r=[],o=0;o<256;o++){i=o;for(var p=0;p<8;p++)i=1&i?3988292384^i>>>1:i>>>1;r[o]=i}return r}();c.exports=function(i,r){return i!==void 0&&i.length?t.getTypeOf(i)!=="string"?function(o,p,d,b){var h=s,w=b+d;o^=-1;for(var f=b;f<w;f++)o=o>>>8^h[255&(o^p[f])];return-1^o}(0|r,i,i.length,0):function(o,p,d,b){var h=s,w=b+d;o^=-1;for(var f=b;f<w;f++)o=o>>>8^h[255&(o^p.charCodeAt(f))];return-1^o}(0|r,i,i.length,0):0}},{"./utils":32}],5:[function(e,c,l){l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},{}],6:[function(e,c,l){var t=null;t=typeof Promise<"u"?Promise:e("lie"),c.exports={Promise:t}},{lie:37}],7:[function(e,c,l){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=e("pako"),i=e("./utils"),r=e("./stream/GenericWorker"),o=t?"uint8array":"array";function p(d,b){r.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=b,this.meta={}}l.magic="\b\0",i.inherits(p,r),p.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(i.transformTo(o,d.data),!1)},p.prototype.flush=function(){r.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(b){d.push({data:b,meta:d.meta})}},l.compressWorker=function(d){return new p("Deflate",d)},l.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,c,l){function t(h,w){var f,_="";for(f=0;f<w;f++)_+=String.fromCharCode(255&h),h>>>=8;return _}function s(h,w,f,_,m,k){var C,S,A=h.file,P=h.compression,I=k!==o.utf8encode,B=i.transformTo("string",k(A.name)),T=i.transformTo("string",o.utf8encode(A.name)),j=A.comment,q=i.transformTo("string",k(j)),E=i.transformTo("string",o.utf8encode(j)),L=T.length!==A.name.length,a=E.length!==j.length,z="",G="",N="",Q=A.dir,W=A.date,et={crc32:0,compressedSize:0,uncompressedSize:0};w&&!f||(et.crc32=h.crc32,et.compressedSize=h.compressedSize,et.uncompressedSize=h.uncompressedSize);var R=0;w&&(R|=8),I||!L&&!a||(R|=2048);var O=0,tt=0;Q&&(O|=16),m==="UNIX"?(tt=798,O|=function(V,_t){var zt=V;return V||(zt=_t?16893:33204),(65535&zt)<<16}(A.unixPermissions,Q)):(tt=20,O|=function(V){return 63&(V||0)}(A.dosPermissions)),C=W.getUTCHours(),C<<=6,C|=W.getUTCMinutes(),C<<=5,C|=W.getUTCSeconds()/2,S=W.getUTCFullYear()-1980,S<<=4,S|=W.getUTCMonth()+1,S<<=5,S|=W.getUTCDate(),L&&(G=t(1,1)+t(p(B),4)+T,z+="up"+t(G.length,2)+G),a&&(N=t(1,1)+t(p(q),4)+E,z+="uc"+t(N.length,2)+N);var K="";return K+=`
\0`,K+=t(R,2),K+=P.magic,K+=t(C,2),K+=t(S,2),K+=t(et.crc32,4),K+=t(et.compressedSize,4),K+=t(et.uncompressedSize,4),K+=t(B.length,2),K+=t(z.length,2),{fileRecord:d.LOCAL_FILE_HEADER+K+B+z,dirRecord:d.CENTRAL_FILE_HEADER+t(tt,2)+K+t(q.length,2)+"\0\0\0\0"+t(O,4)+t(_,4)+B+z+q}}var i=e("../utils"),r=e("../stream/GenericWorker"),o=e("../utf8"),p=e("../crc32"),d=e("../signature");function b(h,w,f,_){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=f,this.encodeFileName=_,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(b,r),b.prototype.push=function(h){var w=h.meta.percent||0,f=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,r.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:f?(w+100*(f-_-1))/f:100}}))},b.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var w=this.streamFiles&&!h.file.dir;if(w){var f=s(h,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(h){this.accumulate=!1;var w=this.streamFiles&&!h.file.dir,f=s(h,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),w)this.push({data:function(_){return d.DATA_DESCRIPTOR+t(_.crc32,4)+t(_.compressedSize,4)+t(_.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var h=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var f=this.bytesWritten-h,_=function(m,k,C,S,A){var P=i.transformTo("string",A(S));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+t(m,2)+t(m,2)+t(k,4)+t(C,4)+t(P.length,2)+P}(this.dirRecords.length,f,h,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(h){this._sources.push(h);var w=this;return h.on("data",function(f){w.processChunk(f)}),h.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),h.on("error",function(f){w.error(f)}),this},b.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(h){var w=this._sources;if(!r.prototype.error.call(this,h))return!1;for(var f=0;f<w.length;f++)try{w[f].error(h)}catch{}return!0},b.prototype.lock=function(){r.prototype.lock.call(this);for(var h=this._sources,w=0;w<h.length;w++)h[w].lock()},c.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,c,l){var t=e("../compressions"),s=e("./ZipFileWorker");l.generateWorker=function(i,r,o){var p=new s(r.streamFiles,o,r.platform,r.encodeFileName),d=0;try{i.forEach(function(b,h){d++;var w=function(k,C){var S=k||C,A=t[S];if(!A)throw new Error(S+" is not a valid compression method !");return A}(h.options.compression,r.compression),f=h.options.compressionOptions||r.compressionOptions||{},_=h.dir,m=h.date;h._compressWorker(w,f).withStreamInfo("file",{name:b,dir:_,date:m,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(p)}),p.entriesCount=d}catch(b){p.error(b)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,c,l){function t(){if(!(this instanceof t))return new t;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new t;for(var i in this)typeof this[i]!="function"&&(s[i]=this[i]);return s}}(t.prototype=e("./object")).loadAsync=e("./load"),t.support=e("./support"),t.defaults=e("./defaults"),t.version="3.10.1",t.loadAsync=function(s,i){return new t().loadAsync(s,i)},t.external=e("./external"),c.exports=t},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,c,l){var t=e("./utils"),s=e("./external"),i=e("./utf8"),r=e("./zipEntries"),o=e("./stream/Crc32Probe"),p=e("./nodejsUtils");function d(b){return new s.Promise(function(h,w){var f=b.decompressed.getContentWorker().pipe(new o);f.on("error",function(_){w(_)}).on("end",function(){f.streamInfo.crc32!==b.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}c.exports=function(b,h){var w=this;return h=t.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),p.isNode&&p.isStream(b)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):t.prepareContent("the loaded zip file",b,!0,h.optimizedBinaryString,h.base64).then(function(f){var _=new r(h);return _.load(f),_}).then(function(f){var _=[s.Promise.resolve(f)],m=f.files;if(h.checkCRC32)for(var k=0;k<m.length;k++)_.push(d(m[k]));return s.Promise.all(_)}).then(function(f){for(var _=f.shift(),m=_.files,k=0;k<m.length;k++){var C=m[k],S=C.fileNameStr,A=t.resolve(C.fileNameStr);w.file(A,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:h.createFolders}),C.dir||(w.file(A).unsafeOriginalName=S)}return _.zipComment.length&&(w.comment=_.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,c,l){var t=e("../utils"),s=e("../stream/GenericWorker");function i(r,o){s.call(this,"Nodejs stream input adapter for "+r),this._upstreamEnded=!1,this._bindStream(o)}t.inherits(i,s),i.prototype._bindStream=function(r){var o=this;(this._stream=r).pause(),r.on("data",function(p){o.push({data:p,meta:{percent:0}})}).on("error",function(p){o.isPaused?this.generatedError=p:o.error(p)}).on("end",function(){o.isPaused?o._upstreamEnded=!0:o.end()})},i.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},c.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,c,l){var t=e("readable-stream").Readable;function s(i,r,o){t.call(this,r),this._helper=i;var p=this;i.on("data",function(d,b){p.push(d)||p._helper.pause(),o&&o(b)}).on("error",function(d){p.emit("error",d)}).on("end",function(){p.push(null)})}e("../utils").inherits(s,t),s.prototype._read=function(){this._helper.resume()},c.exports=s},{"../utils":32,"readable-stream":16}],14:[function(e,c,l){c.exports={isNode:typeof Buffer<"u",newBufferFrom:function(t,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,s);if(typeof t=="number")throw new Error('The "data" argument must not be a number');return new Buffer(t,s)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var s=new Buffer(t);return s.fill(0),s},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&typeof t.on=="function"&&typeof t.pause=="function"&&typeof t.resume=="function"}}},{}],15:[function(e,c,l){function t(A,P,I){var B,T=i.getTypeOf(P),j=i.extend(I||{},p);j.date=j.date||new Date,j.compression!==null&&(j.compression=j.compression.toUpperCase()),typeof j.unixPermissions=="string"&&(j.unixPermissions=parseInt(j.unixPermissions,8)),j.unixPermissions&&16384&j.unixPermissions&&(j.dir=!0),j.dosPermissions&&16&j.dosPermissions&&(j.dir=!0),j.dir&&(A=m(A)),j.createFolders&&(B=_(A))&&k.call(this,B,!0);var q=T==="string"&&j.binary===!1&&j.base64===!1;I&&I.binary!==void 0||(j.binary=!q),(P instanceof d&&P.uncompressedSize===0||j.dir||!P||P.length===0)&&(j.base64=!1,j.binary=!0,P="",j.compression="STORE",T="string");var E=null;E=P instanceof d||P instanceof r?P:w.isNode&&w.isStream(P)?new f(A,P):i.prepareContent(A,P,j.binary,j.optimizedBinaryString,j.base64);var L=new b(A,E,j);this.files[A]=L}var s=e("./utf8"),i=e("./utils"),r=e("./stream/GenericWorker"),o=e("./stream/StreamHelper"),p=e("./defaults"),d=e("./compressedObject"),b=e("./zipObject"),h=e("./generate"),w=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),_=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var P=A.lastIndexOf("/");return 0<P?A.substring(0,P):""},m=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},k=function(A,P){return P=P!==void 0?P:p.createFolders,A=m(A),this.files[A]||t.call(this,A,null,{dir:!0,createFolders:P}),this.files[A]};function C(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var P,I,B;for(P in this.files)B=this.files[P],(I=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&A(I,B)},filter:function(A){var P=[];return this.forEach(function(I,B){A(I,B)&&P.push(B)}),P},file:function(A,P,I){if(arguments.length!==1)return A=this.root+A,t.call(this,A,P,I),this;if(C(A)){var B=A;return this.filter(function(j,q){return!q.dir&&B.test(j)})}var T=this.files[this.root+A];return T&&!T.dir?T:null},folder:function(A){if(!A)return this;if(C(A))return this.filter(function(T,j){return j.dir&&A.test(T)});var P=this.root+A,I=k.call(this,P),B=this.clone();return B.root=I.name,B},remove:function(A){A=this.root+A;var P=this.files[A];if(P||(A.slice(-1)!=="/"&&(A+="/"),P=this.files[A]),P&&!P.dir)delete this.files[A];else for(var I=this.filter(function(T,j){return j.name.slice(0,A.length)===A}),B=0;B<I.length;B++)delete this.files[I[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var P,I={};try{if((I=i.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");i.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var B=I.comment||this.comment||"";P=h.generateWorker(this,I,B)}catch(T){(P=new r("error")).error(T)}return new o(P,I.type||"string",I.mimeType)},generateAsync:function(A,P){return this.generateInternalStream(A).accumulate(P)},generateNodeStream:function(A,P){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(P)}};c.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,c,l){c.exports=e("stream")},{stream:void 0}],17:[function(e,c,l){var t=e("./DataReader");function s(i){t.call(this,i);for(var r=0;r<this.data.length;r++)i[r]=255&i[r]}e("../utils").inherits(s,t),s.prototype.byteAt=function(i){return this.data[this.zero+i]},s.prototype.lastIndexOfSignature=function(i){for(var r=i.charCodeAt(0),o=i.charCodeAt(1),p=i.charCodeAt(2),d=i.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===r&&this.data[b+1]===o&&this.data[b+2]===p&&this.data[b+3]===d)return b-this.zero;return-1},s.prototype.readAndCheckSignature=function(i){var r=i.charCodeAt(0),o=i.charCodeAt(1),p=i.charCodeAt(2),d=i.charCodeAt(3),b=this.readData(4);return r===b[0]&&o===b[1]&&p===b[2]&&d===b[3]},s.prototype.readData=function(i){if(this.checkOffset(i),i===0)return[];var r=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,r},c.exports=s},{"../utils":32,"./DataReader":18}],18:[function(e,c,l){var t=e("../utils");function s(i){this.data=i,this.length=i.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(i){this.checkIndex(this.index+i)},checkIndex:function(i){if(this.length<this.zero+i||i<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+i+"). Corrupted zip ?")},setIndex:function(i){this.checkIndex(i),this.index=i},skip:function(i){this.setIndex(this.index+i)},byteAt:function(){},readInt:function(i){var r,o=0;for(this.checkOffset(i),r=this.index+i-1;r>=this.index;r--)o=(o<<8)+this.byteAt(r);return this.index+=i,o},readString:function(i){return t.transformTo("string",this.readData(i))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var i=this.readInt(4);return new Date(Date.UTC(1980+(i>>25&127),(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(31&i)<<1))}},c.exports=s},{"../utils":32}],19:[function(e,c,l){var t=e("./Uint8ArrayReader");function s(i){t.call(this,i)}e("../utils").inherits(s,t),s.prototype.readData=function(i){this.checkOffset(i);var r=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,r},c.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,c,l){var t=e("./DataReader");function s(i){t.call(this,i)}e("../utils").inherits(s,t),s.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},s.prototype.lastIndexOfSignature=function(i){return this.data.lastIndexOf(i)-this.zero},s.prototype.readAndCheckSignature=function(i){return i===this.readData(4)},s.prototype.readData=function(i){this.checkOffset(i);var r=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,r},c.exports=s},{"../utils":32,"./DataReader":18}],21:[function(e,c,l){var t=e("./ArrayReader");function s(i){t.call(this,i)}e("../utils").inherits(s,t),s.prototype.readData=function(i){if(this.checkOffset(i),i===0)return new Uint8Array(0);var r=this.data.subarray(this.zero+this.index,this.zero+this.index+i);return this.index+=i,r},c.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(e,c,l){var t=e("../utils"),s=e("../support"),i=e("./ArrayReader"),r=e("./StringReader"),o=e("./NodeBufferReader"),p=e("./Uint8ArrayReader");c.exports=function(d){var b=t.getTypeOf(d);return t.checkSupport(b),b!=="string"||s.uint8array?b==="nodebuffer"?new o(d):s.uint8array?new p(t.transformTo("uint8array",d)):new i(t.transformTo("array",d)):new r(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,c,l){l.LOCAL_FILE_HEADER="PK",l.CENTRAL_FILE_HEADER="PK",l.CENTRAL_DIRECTORY_END="PK",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK",l.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,c,l){var t=e("./GenericWorker"),s=e("../utils");function i(r){t.call(this,"ConvertWorker to "+r),this.destType=r}s.inherits(i,t),i.prototype.processChunk=function(r){this.push({data:s.transformTo(this.destType,r.data),meta:r.meta})},c.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(e,c,l){var t=e("./GenericWorker"),s=e("../crc32");function i(){t.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(i,t),i.prototype.processChunk=function(r){this.streamInfo.crc32=s(r.data,this.streamInfo.crc32||0),this.push(r)},c.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,c,l){var t=e("../utils"),s=e("./GenericWorker");function i(r){s.call(this,"DataLengthProbe for "+r),this.propName=r,this.withStreamInfo(r,0)}t.inherits(i,s),i.prototype.processChunk=function(r){if(r){var o=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=o+r.data.length}s.prototype.processChunk.call(this,r)},c.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(e,c,l){var t=e("../utils"),s=e("./GenericWorker");function i(r){s.call(this,"DataWorker");var o=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,r.then(function(p){o.dataIsReady=!0,o.data=p,o.max=p&&p.length||0,o.type=t.getTypeOf(p),o.isPaused||o._tickAndRepeat()},function(p){o.error(p)})}t.inherits(i,s),i.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,t.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(t.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var r=null,o=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":r=this.data.substring(this.index,o);break;case"uint8array":r=this.data.subarray(this.index,o);break;case"array":case"nodebuffer":r=this.data.slice(this.index,o)}return this.index=o,this.push({data:r,meta:{percent:this.max?this.index/this.max*100:0}})},c.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(e,c,l){function t(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}t.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,i){return this._listeners[s].push(i),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,i){if(this._listeners[s])for(var r=0;r<this._listeners[s].length;r++)this._listeners[s][r].call(this,i)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var i=this;return s.on("data",function(r){i.processChunk(r)}),s.on("end",function(){i.end()}),s.on("error",function(r){i.error(r)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,i){return this.extraStreamInfo[s]=i,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},c.exports=t},{}],29:[function(e,c,l){var t=e("../utils"),s=e("./ConvertWorker"),i=e("./GenericWorker"),r=e("../base64"),o=e("../support"),p=e("../external"),d=null;if(o.nodestream)try{d=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(w,f){return new p.Promise(function(_,m){var k=[],C=w._internalType,S=w._outputType,A=w._mimeType;w.on("data",function(P,I){k.push(P),f&&f(I)}).on("error",function(P){k=[],m(P)}).on("end",function(){try{var P=function(I,B,T){switch(I){case"blob":return t.newBlob(t.transformTo("arraybuffer",B),T);case"base64":return r.encode(B);default:return t.transformTo(I,B)}}(S,function(I,B){var T,j=0,q=null,E=0;for(T=0;T<B.length;T++)E+=B[T].length;switch(I){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(q=new Uint8Array(E),T=0;T<B.length;T++)q.set(B[T],j),j+=B[T].length;return q;case"nodebuffer":return Buffer.concat(B);default:throw new Error("concat : unsupported type '"+I+"'")}}(C,k),A);_(P)}catch(I){m(I)}k=[]}).resume()})}function h(w,f,_){var m=f;switch(f){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=f,this._mimeType=_,t.checkSupport(m),this._worker=w.pipe(new s(m)),w.lock()}catch(k){this._worker=new i("error"),this._worker.error(k)}}h.prototype={accumulate:function(w){return b(this,w)},on:function(w,f){var _=this;return w==="data"?this._worker.on(w,function(m){f.call(_,m.data,m.meta)}):this._worker.on(w,function(){t.delay(f,arguments,_)}),this},resume:function(){return t.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(t.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},w)}},c.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,c,l){if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Buffer<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var t=new ArrayBuffer(0);try{l.blob=new Blob([t],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(t),l.blob=s.getBlob("application/zip").size===0}catch{l.blob=!1}}}try{l.nodestream=!!e("readable-stream").Readable}catch{l.nodestream=!1}},{"readable-stream":16}],31:[function(e,c,l){for(var t=e("./utils"),s=e("./support"),i=e("./nodejsUtils"),r=e("./stream/GenericWorker"),o=new Array(256),p=0;p<256;p++)o[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;o[254]=o[254]=1;function d(){r.call(this,"utf-8 decode"),this.leftOver=null}function b(){r.call(this,"utf-8 encode")}l.utf8encode=function(h){return s.nodebuffer?i.newBufferFrom(h,"utf-8"):function(w){var f,_,m,k,C,S=w.length,A=0;for(k=0;k<S;k++)(64512&(_=w.charCodeAt(k)))==55296&&k+1<S&&(64512&(m=w.charCodeAt(k+1)))==56320&&(_=65536+(_-55296<<10)+(m-56320),k++),A+=_<128?1:_<2048?2:_<65536?3:4;for(f=s.uint8array?new Uint8Array(A):new Array(A),k=C=0;C<A;k++)(64512&(_=w.charCodeAt(k)))==55296&&k+1<S&&(64512&(m=w.charCodeAt(k+1)))==56320&&(_=65536+(_-55296<<10)+(m-56320),k++),_<128?f[C++]=_:(_<2048?f[C++]=192|_>>>6:(_<65536?f[C++]=224|_>>>12:(f[C++]=240|_>>>18,f[C++]=128|_>>>12&63),f[C++]=128|_>>>6&63),f[C++]=128|63&_);return f}(h)},l.utf8decode=function(h){return s.nodebuffer?t.transformTo("nodebuffer",h).toString("utf-8"):function(w){var f,_,m,k,C=w.length,S=new Array(2*C);for(f=_=0;f<C;)if((m=w[f++])<128)S[_++]=m;else if(4<(k=o[m]))S[_++]=65533,f+=k-1;else{for(m&=k===2?31:k===3?15:7;1<k&&f<C;)m=m<<6|63&w[f++],k--;1<k?S[_++]=65533:m<65536?S[_++]=m:(m-=65536,S[_++]=55296|m>>10&1023,S[_++]=56320|1023&m)}return S.length!==_&&(S.subarray?S=S.subarray(0,_):S.length=_),t.applyFromCharCode(S)}(h=t.transformTo(s.uint8array?"uint8array":"array",h))},t.inherits(d,r),d.prototype.processChunk=function(h){var w=t.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var f=w;(w=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),w.set(f,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var _=function(k,C){var S;for((C=C||k.length)>k.length&&(C=k.length),S=C-1;0<=S&&(192&k[S])==128;)S--;return S<0||S===0?C:S+o[k[S]]>C?S:C}(w),m=w;_!==w.length&&(s.uint8array?(m=w.subarray(0,_),this.leftOver=w.subarray(_,w.length)):(m=w.slice(0,_),this.leftOver=w.slice(_,w.length))),this.push({data:l.utf8decode(m),meta:h.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=d,t.inherits(b,r),b.prototype.processChunk=function(h){this.push({data:l.utf8encode(h.data),meta:h.meta})},l.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,c,l){var t=e("./support"),s=e("./base64"),i=e("./nodejsUtils"),r=e("./external");function o(f){return f}function p(f,_){for(var m=0;m<f.length;++m)_[m]=255&f.charCodeAt(m);return _}e("setimmediate"),l.newBlob=function(f,_){l.checkSupport("blob");try{return new Blob([f],{type:_})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(f),m.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(f,_,m){var k=[],C=0,S=f.length;if(S<=m)return String.fromCharCode.apply(null,f);for(;C<S;)_==="array"||_==="nodebuffer"?k.push(String.fromCharCode.apply(null,f.slice(C,Math.min(C+m,S)))):k.push(String.fromCharCode.apply(null,f.subarray(C,Math.min(C+m,S)))),C+=m;return k.join("")},stringifyByChar:function(f){for(var _="",m=0;m<f.length;m++)_+=String.fromCharCode(f[m]);return _},applyCanBeUsed:{uint8array:function(){try{return t.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return t.nodebuffer&&String.fromCharCode.apply(null,i.allocBuffer(1)).length===1}catch{return!1}}()}};function b(f){var _=65536,m=l.getTypeOf(f),k=!0;if(m==="uint8array"?k=d.applyCanBeUsed.uint8array:m==="nodebuffer"&&(k=d.applyCanBeUsed.nodebuffer),k)for(;1<_;)try{return d.stringifyByChunk(f,m,_)}catch{_=Math.floor(_/2)}return d.stringifyByChar(f)}function h(f,_){for(var m=0;m<f.length;m++)_[m]=f[m];return _}l.applyFromCharCode=b;var w={};w.string={string:o,array:function(f){return p(f,new Array(f.length))},arraybuffer:function(f){return w.string.uint8array(f).buffer},uint8array:function(f){return p(f,new Uint8Array(f.length))},nodebuffer:function(f){return p(f,i.allocBuffer(f.length))}},w.array={string:b,array:o,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return i.newBufferFrom(f)}},w.arraybuffer={string:function(f){return b(new Uint8Array(f))},array:function(f){return h(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:o,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return i.newBufferFrom(new Uint8Array(f))}},w.uint8array={string:b,array:function(f){return h(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:o,nodebuffer:function(f){return i.newBufferFrom(f)}},w.nodebuffer={string:b,array:function(f){return h(f,new Array(f.length))},arraybuffer:function(f){return w.nodebuffer.uint8array(f).buffer},uint8array:function(f){return h(f,new Uint8Array(f.length))},nodebuffer:o},l.transformTo=function(f,_){if(_=_||"",!f)return _;l.checkSupport(f);var m=l.getTypeOf(_);return w[m][f](_)},l.resolve=function(f){for(var _=f.split("/"),m=[],k=0;k<_.length;k++){var C=_[k];C==="."||C===""&&k!==0&&k!==_.length-1||(C===".."?m.pop():m.push(C))}return m.join("/")},l.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":t.nodebuffer&&i.isBuffer(f)?"nodebuffer":t.uint8array&&f instanceof Uint8Array?"uint8array":t.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(f){if(!t[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(f){var _,m,k="";for(m=0;m<(f||"").length;m++)k+="\\x"+((_=f.charCodeAt(m))<16?"0":"")+_.toString(16).toUpperCase();return k},l.delay=function(f,_,m){setImmediate(function(){f.apply(m||null,_||[])})},l.inherits=function(f,_){function m(){}m.prototype=_.prototype,f.prototype=new m},l.extend=function(){var f,_,m={};for(f=0;f<arguments.length;f++)for(_ in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],_)&&m[_]===void 0&&(m[_]=arguments[f][_]);return m},l.prepareContent=function(f,_,m,k,C){return r.Promise.resolve(_).then(function(S){return t.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new r.Promise(function(A,P){var I=new FileReader;I.onload=function(B){A(B.target.result)},I.onerror=function(B){P(B.target.error)},I.readAsArrayBuffer(S)}):S}).then(function(S){var A=l.getTypeOf(S);return A?(A==="arraybuffer"?S=l.transformTo("uint8array",S):A==="string"&&(C?S=s.decode(S):m&&k!==!0&&(S=function(P){return p(P,t.uint8array?new Uint8Array(P.length):new Array(P.length))}(S))),S):r.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,c,l){var t=e("./reader/readerFor"),s=e("./utils"),i=e("./signature"),r=e("./zipEntry"),o=e("./support");function p(d){this.files=[],this.loadOptions=d}p.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(b)+", expected "+s.pretty(d)+")")}},isSignature:function(d,b){var h=this.reader.index;this.reader.setIndex(d);var w=this.reader.readString(4)===b;return this.reader.setIndex(h),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),b=o.uint8array?"uint8array":"array",h=s.transformTo(b,d);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,b,h,w=this.zip64EndOfCentralSize-44;0<w;)d=this.reader.readInt(2),b=this.reader.readInt(4),h=this.reader.readData(b),this.zip64ExtensibleData[d]={id:d,length:b,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,b;for(d=0;d<this.files.length;d++)b=this.files[d],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(d=new r({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var b=d;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var w=b-h;if(0<w)this.isSignature(b,i.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(d){this.reader=t(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},c.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,c,l){var t=e("./reader/readerFor"),s=e("./utils"),i=e("./compressedObject"),r=e("./crc32"),o=e("./utf8"),p=e("./compressions"),d=e("./support");function b(h,w){this.options=h,this.loadOptions=w}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var w,f;if(h.skip(22),this.fileNameLength=h.readInt(2),f=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(_){for(var m in p)if(Object.prototype.hasOwnProperty.call(p,m)&&p[m].magic===_)return p[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,w,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var w=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(w),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=t(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var w,f,_,m=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<m;)w=h.readInt(2),f=h.readInt(2),_=h.readData(f),this.extraFields[w]={id:w,length:f,value:_};h.setIndex(m)},handleUTF8:function(){var h=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var f=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var m=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var w=t(h.value);return w.readInt(1)!==1||r(this.fileName)!==w.readInt(4)?null:o.utf8decode(w.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var w=t(h.value);return w.readInt(1)!==1||r(this.fileComment)!==w.readInt(4)?null:o.utf8decode(w.readData(h.length-5))}return null}},c.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,c,l){function t(w,f,_){this.name=w,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=f,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var s=e("./stream/StreamHelper"),i=e("./stream/DataWorker"),r=e("./utf8"),o=e("./compressedObject"),p=e("./stream/GenericWorker");t.prototype={internalStream:function(w){var f=null,_="string";try{if(!w)throw new Error("No output type specified.");var m=(_=w.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),f=this._decompressWorker();var k=!this._dataBinary;k&&!m&&(f=f.pipe(new r.Utf8EncodeWorker)),!k&&m&&(f=f.pipe(new r.Utf8DecodeWorker))}catch(C){(f=new p("error")).error(C)}return new s(f,_,"")},async:function(w,f){return this.internalStream(w).accumulate(f)},nodeStream:function(w,f){return this.internalStream(w||"nodebuffer").toNodejsStream(f)},_compressWorker:function(w,f){if(this._data instanceof o&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new r.Utf8EncodeWorker)),o.createWorkerFrom(_,w,f)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof p?this._data:new i(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<d.length;h++)t.prototype[d[h]]=b;c.exports=t},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,c,l){(function(t){var s,i,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var o=0,p=new r(w),d=t.document.createTextNode("");p.observe(d,{characterData:!0}),s=function(){d.data=o=++o%2}}else if(t.setImmediate||t.MessageChannel===void 0)s="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var f=t.document.createElement("script");f.onreadystatechange=function(){w(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},t.document.documentElement.appendChild(f)}:function(){setTimeout(w,0)};else{var b=new t.MessageChannel;b.port1.onmessage=w,s=function(){b.port2.postMessage(0)}}var h=[];function w(){var f,_;i=!0;for(var m=h.length;m;){for(_=h,h=[],f=-1;++f<m;)_[f]();m=h.length}i=!1}c.exports=function(f){h.push(f)!==1||i||s()}}).call(this,typeof he<"u"?he:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,c,l){var t=e("immediate");function s(){}var i={},r=["REJECTED"],o=["FULFILLED"],p=["PENDING"];function d(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,m!==s&&f(this,m)}function b(m,k,C){this.promise=m,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function h(m,k,C){t(function(){var S;try{S=k(C)}catch(A){return i.reject(m,A)}S===m?i.reject(m,new TypeError("Cannot resolve promise with itself")):i.resolve(m,S)})}function w(m){var k=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof k=="function")return function(){k.apply(m,arguments)}}function f(m,k){var C=!1;function S(I){C||(C=!0,i.reject(m,I))}function A(I){C||(C=!0,i.resolve(m,I))}var P=_(function(){k(A,S)});P.status==="error"&&S(P.value)}function _(m,k){var C={};try{C.value=m(k),C.status="success"}catch(S){C.status="error",C.value=S}return C}(c.exports=d).prototype.finally=function(m){if(typeof m!="function")return this;var k=this.constructor;return this.then(function(C){return k.resolve(m()).then(function(){return C})},function(C){return k.resolve(m()).then(function(){throw C})})},d.prototype.catch=function(m){return this.then(null,m)},d.prototype.then=function(m,k){if(typeof m!="function"&&this.state===o||typeof k!="function"&&this.state===r)return this;var C=new this.constructor(s);return this.state!==p?h(C,this.state===o?m:k,this.outcome):this.queue.push(new b(C,m,k)),C},b.prototype.callFulfilled=function(m){i.resolve(this.promise,m)},b.prototype.otherCallFulfilled=function(m){h(this.promise,this.onFulfilled,m)},b.prototype.callRejected=function(m){i.reject(this.promise,m)},b.prototype.otherCallRejected=function(m){h(this.promise,this.onRejected,m)},i.resolve=function(m,k){var C=_(w,k);if(C.status==="error")return i.reject(m,C.value);var S=C.value;if(S)f(m,S);else{m.state=o,m.outcome=k;for(var A=-1,P=m.queue.length;++A<P;)m.queue[A].callFulfilled(k)}return m},i.reject=function(m,k){m.state=r,m.outcome=k;for(var C=-1,S=m.queue.length;++C<S;)m.queue[C].callRejected(k);return m},d.resolve=function(m){return m instanceof this?m:i.resolve(new this(s),m)},d.reject=function(m){var k=new this(s);return i.reject(k,m)},d.all=function(m){var k=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=m.length,S=!1;if(!C)return this.resolve([]);for(var A=new Array(C),P=0,I=-1,B=new this(s);++I<C;)T(m[I],I);return B;function T(j,q){k.resolve(j).then(function(E){A[q]=E,++P!==C||S||(S=!0,i.resolve(B,A))},function(E){S||(S=!0,i.reject(B,E))})}},d.race=function(m){var k=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=m.length,S=!1;if(!C)return this.resolve([]);for(var A=-1,P=new this(s);++A<C;)I=m[A],k.resolve(I).then(function(B){S||(S=!0,i.resolve(P,B))},function(B){S||(S=!0,i.reject(P,B))});var I;return P}},{immediate:36}],38:[function(e,c,l){var t={};(0,e("./lib/utils/common").assign)(t,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),c.exports=t},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,c,l){var t=e("./zlib/deflate"),s=e("./utils/common"),i=e("./utils/strings"),r=e("./zlib/messages"),o=e("./zlib/zstream"),p=Object.prototype.toString,d=0,b=-1,h=0,w=8;function f(m){if(!(this instanceof f))return new f(m);this.options=s.assign({level:b,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},m||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var C=t.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(C!==d)throw new Error(r[C]);if(k.header&&t.deflateSetHeader(this.strm,k.header),k.dictionary){var S;if(S=typeof k.dictionary=="string"?i.string2buf(k.dictionary):p.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(C=t.deflateSetDictionary(this.strm,S))!==d)throw new Error(r[C]);this._dict_set=!0}}function _(m,k){var C=new f(k);if(C.push(m,!0),C.err)throw C.msg||r[C.err];return C.result}f.prototype.push=function(m,k){var C,S,A=this.strm,P=this.options.chunkSize;if(this.ended)return!1;S=k===~~k?k:k===!0?4:0,typeof m=="string"?A.input=i.string2buf(m):p.call(m)==="[object ArrayBuffer]"?A.input=new Uint8Array(m):A.input=m,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new s.Buf8(P),A.next_out=0,A.avail_out=P),(C=t.deflate(A,S))!==1&&C!==d)return this.onEnd(C),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(i.buf2binstring(s.shrinkBuf(A.output,A.next_out))):this.onData(s.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&C!==1);return S===4?(C=t.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===d):S!==2||(this.onEnd(d),!(A.avail_out=0))},f.prototype.onData=function(m){this.chunks.push(m)},f.prototype.onEnd=function(m){m===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},l.Deflate=f,l.deflate=_,l.deflateRaw=function(m,k){return(k=k||{}).raw=!0,_(m,k)},l.gzip=function(m,k){return(k=k||{}).gzip=!0,_(m,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,c,l){var t=e("./zlib/inflate"),s=e("./utils/common"),i=e("./utils/strings"),r=e("./zlib/constants"),o=e("./zlib/messages"),p=e("./zlib/zstream"),d=e("./zlib/gzheader"),b=Object.prototype.toString;function h(f){if(!(this instanceof h))return new h(f);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},f||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||f&&f.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&!(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var m=t.inflateInit2(this.strm,_.windowBits);if(m!==r.Z_OK)throw new Error(o[m]);this.header=new d,t.inflateGetHeader(this.strm,this.header)}function w(f,_){var m=new h(_);if(m.push(f,!0),m.err)throw m.msg||o[m.err];return m.result}h.prototype.push=function(f,_){var m,k,C,S,A,P,I=this.strm,B=this.options.chunkSize,T=this.options.dictionary,j=!1;if(this.ended)return!1;k=_===~~_?_:_===!0?r.Z_FINISH:r.Z_NO_FLUSH,typeof f=="string"?I.input=i.binstring2buf(f):b.call(f)==="[object ArrayBuffer]"?I.input=new Uint8Array(f):I.input=f,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new s.Buf8(B),I.next_out=0,I.avail_out=B),(m=t.inflate(I,r.Z_NO_FLUSH))===r.Z_NEED_DICT&&T&&(P=typeof T=="string"?i.string2buf(T):b.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,m=t.inflateSetDictionary(this.strm,P)),m===r.Z_BUF_ERROR&&j===!0&&(m=r.Z_OK,j=!1),m!==r.Z_STREAM_END&&m!==r.Z_OK)return this.onEnd(m),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&m!==r.Z_STREAM_END&&(I.avail_in!==0||k!==r.Z_FINISH&&k!==r.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=i.utf8border(I.output,I.next_out),S=I.next_out-C,A=i.buf2string(I.output,C),I.next_out=S,I.avail_out=B-S,S&&s.arraySet(I.output,I.output,C,S,0),this.onData(A)):this.onData(s.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(j=!0)}while((0<I.avail_in||I.avail_out===0)&&m!==r.Z_STREAM_END);return m===r.Z_STREAM_END&&(k=r.Z_FINISH),k===r.Z_FINISH?(m=t.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===r.Z_OK):k!==r.Z_SYNC_FLUSH||(this.onEnd(r.Z_OK),!(I.avail_out=0))},h.prototype.onData=function(f){this.chunks.push(f)},h.prototype.onEnd=function(f){f===r.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},l.Inflate=h,l.inflate=w,l.inflateRaw=function(f,_){return(_=_||{}).raw=!0,w(f,_)},l.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,c,l){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(r){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var p=o.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var d in p)p.hasOwnProperty(d)&&(r[d]=p[d])}}return r},l.shrinkBuf=function(r,o){return r.length===o?r:r.subarray?r.subarray(0,o):(r.length=o,r)};var s={arraySet:function(r,o,p,d,b){if(o.subarray&&r.subarray)r.set(o.subarray(p,p+d),b);else for(var h=0;h<d;h++)r[b+h]=o[p+h]},flattenChunks:function(r){var o,p,d,b,h,w;for(o=d=0,p=r.length;o<p;o++)d+=r[o].length;for(w=new Uint8Array(d),o=b=0,p=r.length;o<p;o++)h=r[o],w.set(h,b),b+=h.length;return w}},i={arraySet:function(r,o,p,d,b){for(var h=0;h<d;h++)r[b+h]=o[p+h]},flattenChunks:function(r){return[].concat.apply([],r)}};l.setTyped=function(r){r?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,s)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,i))},l.setTyped(t)},{}],42:[function(e,c,l){var t=e("./common"),s=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{i=!1}for(var r=new t.Buf8(256),o=0;o<256;o++)r[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function p(d,b){if(b<65537&&(d.subarray&&i||!d.subarray&&s))return String.fromCharCode.apply(null,t.shrinkBuf(d,b));for(var h="",w=0;w<b;w++)h+=String.fromCharCode(d[w]);return h}r[254]=r[254]=1,l.string2buf=function(d){var b,h,w,f,_,m=d.length,k=0;for(f=0;f<m;f++)(64512&(h=d.charCodeAt(f)))==55296&&f+1<m&&(64512&(w=d.charCodeAt(f+1)))==56320&&(h=65536+(h-55296<<10)+(w-56320),f++),k+=h<128?1:h<2048?2:h<65536?3:4;for(b=new t.Buf8(k),f=_=0;_<k;f++)(64512&(h=d.charCodeAt(f)))==55296&&f+1<m&&(64512&(w=d.charCodeAt(f+1)))==56320&&(h=65536+(h-55296<<10)+(w-56320),f++),h<128?b[_++]=h:(h<2048?b[_++]=192|h>>>6:(h<65536?b[_++]=224|h>>>12:(b[_++]=240|h>>>18,b[_++]=128|h>>>12&63),b[_++]=128|h>>>6&63),b[_++]=128|63&h);return b},l.buf2binstring=function(d){return p(d,d.length)},l.binstring2buf=function(d){for(var b=new t.Buf8(d.length),h=0,w=b.length;h<w;h++)b[h]=d.charCodeAt(h);return b},l.buf2string=function(d,b){var h,w,f,_,m=b||d.length,k=new Array(2*m);for(h=w=0;h<m;)if((f=d[h++])<128)k[w++]=f;else if(4<(_=r[f]))k[w++]=65533,h+=_-1;else{for(f&=_===2?31:_===3?15:7;1<_&&h<m;)f=f<<6|63&d[h++],_--;1<_?k[w++]=65533:f<65536?k[w++]=f:(f-=65536,k[w++]=55296|f>>10&1023,k[w++]=56320|1023&f)}return p(k,w)},l.utf8border=function(d,b){var h;for((b=b||d.length)>d.length&&(b=d.length),h=b-1;0<=h&&(192&d[h])==128;)h--;return h<0||h===0?b:h+r[d[h]]>b?h:b}},{"./common":41}],43:[function(e,c,l){c.exports=function(t,s,i,r){for(var o=65535&t|0,p=t>>>16&65535|0,d=0;i!==0;){for(i-=d=2e3<i?2e3:i;p=p+(o=o+s[r++]|0)|0,--d;);o%=65521,p%=65521}return o|p<<16|0}},{}],44:[function(e,c,l){c.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,c,l){var t=function(){for(var s,i=[],r=0;r<256;r++){s=r;for(var o=0;o<8;o++)s=1&s?3988292384^s>>>1:s>>>1;i[r]=s}return i}();c.exports=function(s,i,r,o){var p=t,d=o+r;s^=-1;for(var b=o;b<d;b++)s=s>>>8^p[255&(s^i[b])];return-1^s}},{}],46:[function(e,c,l){var t,s=e("../utils/common"),i=e("./trees"),r=e("./adler32"),o=e("./crc32"),p=e("./messages"),d=0,b=4,h=0,w=-2,f=-1,_=4,m=2,k=8,C=9,S=286,A=30,P=19,I=2*S+1,B=15,T=3,j=258,q=j+T+1,E=42,L=113,a=1,z=2,G=3,N=4;function Q(n,F){return n.msg=p[F],F}function W(n){return(n<<1)-(4<n?9:0)}function et(n){for(var F=n.length;0<=--F;)n[F]=0}function R(n){var F=n.state,D=F.pending;D>n.avail_out&&(D=n.avail_out),D!==0&&(s.arraySet(n.output,F.pending_buf,F.pending_out,D,n.next_out),n.next_out+=D,F.pending_out+=D,n.total_out+=D,n.avail_out-=D,F.pending-=D,F.pending===0&&(F.pending_out=0))}function O(n,F){i._tr_flush_block(n,0<=n.block_start?n.block_start:-1,n.strstart-n.block_start,F),n.block_start=n.strstart,R(n.strm)}function tt(n,F){n.pending_buf[n.pending++]=F}function K(n,F){n.pending_buf[n.pending++]=F>>>8&255,n.pending_buf[n.pending++]=255&F}function V(n,F){var D,y,g=n.max_chain_length,x=n.strstart,U=n.prev_length,M=n.nice_match,$=n.strstart>n.w_size-q?n.strstart-(n.w_size-q):0,Z=n.window,Y=n.w_mask,H=n.prev,J=n.strstart+j,pt=Z[x+U-1],st=Z[x+U];n.prev_length>=n.good_match&&(g>>=2),M>n.lookahead&&(M=n.lookahead);do if(Z[(D=F)+U]===st&&Z[D+U-1]===pt&&Z[D]===Z[x]&&Z[++D]===Z[x+1]){x+=2,D++;do;while(Z[++x]===Z[++D]&&Z[++x]===Z[++D]&&Z[++x]===Z[++D]&&Z[++x]===Z[++D]&&Z[++x]===Z[++D]&&Z[++x]===Z[++D]&&Z[++x]===Z[++D]&&Z[++x]===Z[++D]&&x<J);if(y=j-(J-x),x=J-j,U<y){if(n.match_start=F,M<=(U=y))break;pt=Z[x+U-1],st=Z[x+U]}}while((F=H[F&Y])>$&&--g!=0);return U<=n.lookahead?U:n.lookahead}function _t(n){var F,D,y,g,x,U,M,$,Z,Y,H=n.w_size;do{if(g=n.window_size-n.lookahead-n.strstart,n.strstart>=H+(H-q)){for(s.arraySet(n.window,n.window,H,H,0),n.match_start-=H,n.strstart-=H,n.block_start-=H,F=D=n.hash_size;y=n.head[--F],n.head[F]=H<=y?y-H:0,--D;);for(F=D=H;y=n.prev[--F],n.prev[F]=H<=y?y-H:0,--D;);g+=H}if(n.strm.avail_in===0)break;if(U=n.strm,M=n.window,$=n.strstart+n.lookahead,Z=g,Y=void 0,Y=U.avail_in,Z<Y&&(Y=Z),D=Y===0?0:(U.avail_in-=Y,s.arraySet(M,U.input,U.next_in,Y,$),U.state.wrap===1?U.adler=r(U.adler,M,Y,$):U.state.wrap===2&&(U.adler=o(U.adler,M,Y,$)),U.next_in+=Y,U.total_in+=Y,Y),n.lookahead+=D,n.lookahead+n.insert>=T)for(x=n.strstart-n.insert,n.ins_h=n.window[x],n.ins_h=(n.ins_h<<n.hash_shift^n.window[x+1])&n.hash_mask;n.insert&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[x+T-1])&n.hash_mask,n.prev[x&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=x,x++,n.insert--,!(n.lookahead+n.insert<T)););}while(n.lookahead<q&&n.strm.avail_in!==0)}function zt(n,F){for(var D,y;;){if(n.lookahead<q){if(_t(n),n.lookahead<q&&F===d)return a;if(n.lookahead===0)break}if(D=0,n.lookahead>=T&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+T-1])&n.hash_mask,D=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),D!==0&&n.strstart-D<=n.w_size-q&&(n.match_length=V(n,D)),n.match_length>=T)if(y=i._tr_tally(n,n.strstart-n.match_start,n.match_length-T),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=T){for(n.match_length--;n.strstart++,n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+T-1])&n.hash_mask,D=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart,--n.match_length!=0;);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+1])&n.hash_mask;else y=i._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(y&&(O(n,!1),n.strm.avail_out===0))return a}return n.insert=n.strstart<T-1?n.strstart:T-1,F===b?(O(n,!0),n.strm.avail_out===0?G:N):n.last_lit&&(O(n,!1),n.strm.avail_out===0)?a:z}function it(n,F){for(var D,y,g;;){if(n.lookahead<q){if(_t(n),n.lookahead<q&&F===d)return a;if(n.lookahead===0)break}if(D=0,n.lookahead>=T&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+T-1])&n.hash_mask,D=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=T-1,D!==0&&n.prev_length<n.max_lazy_match&&n.strstart-D<=n.w_size-q&&(n.match_length=V(n,D),n.match_length<=5&&(n.strategy===1||n.match_length===T&&4096<n.strstart-n.match_start)&&(n.match_length=T-1)),n.prev_length>=T&&n.match_length<=n.prev_length){for(g=n.strstart+n.lookahead-T,y=i._tr_tally(n,n.strstart-1-n.prev_match,n.prev_length-T),n.lookahead-=n.prev_length-1,n.prev_length-=2;++n.strstart<=g&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+T-1])&n.hash_mask,D=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),--n.prev_length!=0;);if(n.match_available=0,n.match_length=T-1,n.strstart++,y&&(O(n,!1),n.strm.avail_out===0))return a}else if(n.match_available){if((y=i._tr_tally(n,0,n.window[n.strstart-1]))&&O(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return a}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(y=i._tr_tally(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<T-1?n.strstart:T-1,F===b?(O(n,!0),n.strm.avail_out===0?G:N):n.last_lit&&(O(n,!1),n.strm.avail_out===0)?a:z}function ft(n,F,D,y,g){this.good_length=n,this.max_lazy=F,this.nice_length=D,this.max_chain=y,this.func=g}function St(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*I),this.dyn_dtree=new s.Buf16(2*(2*A+1)),this.bl_tree=new s.Buf16(2*(2*P+1)),et(this.dyn_ltree),et(this.dyn_dtree),et(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(B+1),this.heap=new s.Buf16(2*S+1),et(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*S+1),et(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function gt(n){var F;return n&&n.state?(n.total_in=n.total_out=0,n.data_type=m,(F=n.state).pending=0,F.pending_out=0,F.wrap<0&&(F.wrap=-F.wrap),F.status=F.wrap?E:L,n.adler=F.wrap===2?0:1,F.last_flush=d,i._tr_init(F),h):Q(n,w)}function Ft(n){var F=gt(n);return F===h&&function(D){D.window_size=2*D.w_size,et(D.head),D.max_lazy_match=t[D.level].max_lazy,D.good_match=t[D.level].good_length,D.nice_match=t[D.level].nice_length,D.max_chain_length=t[D.level].max_chain,D.strstart=0,D.block_start=0,D.lookahead=0,D.insert=0,D.match_length=D.prev_length=T-1,D.match_available=0,D.ins_h=0}(n.state),F}function Pt(n,F,D,y,g,x){if(!n)return w;var U=1;if(F===f&&(F=6),y<0?(U=0,y=-y):15<y&&(U=2,y-=16),g<1||C<g||D!==k||y<8||15<y||F<0||9<F||x<0||_<x)return Q(n,w);y===8&&(y=9);var M=new St;return(n.state=M).strm=n,M.wrap=U,M.gzhead=null,M.w_bits=y,M.w_size=1<<M.w_bits,M.w_mask=M.w_size-1,M.hash_bits=g+7,M.hash_size=1<<M.hash_bits,M.hash_mask=M.hash_size-1,M.hash_shift=~~((M.hash_bits+T-1)/T),M.window=new s.Buf8(2*M.w_size),M.head=new s.Buf16(M.hash_size),M.prev=new s.Buf16(M.w_size),M.lit_bufsize=1<<g+6,M.pending_buf_size=4*M.lit_bufsize,M.pending_buf=new s.Buf8(M.pending_buf_size),M.d_buf=1*M.lit_bufsize,M.l_buf=3*M.lit_bufsize,M.level=F,M.strategy=x,M.method=D,Ft(n)}t=[new ft(0,0,0,0,function(n,F){var D=65535;for(D>n.pending_buf_size-5&&(D=n.pending_buf_size-5);;){if(n.lookahead<=1){if(_t(n),n.lookahead===0&&F===d)return a;if(n.lookahead===0)break}n.strstart+=n.lookahead,n.lookahead=0;var y=n.block_start+D;if((n.strstart===0||n.strstart>=y)&&(n.lookahead=n.strstart-y,n.strstart=y,O(n,!1),n.strm.avail_out===0)||n.strstart-n.block_start>=n.w_size-q&&(O(n,!1),n.strm.avail_out===0))return a}return n.insert=0,F===b?(O(n,!0),n.strm.avail_out===0?G:N):(n.strstart>n.block_start&&(O(n,!1),n.strm.avail_out),a)}),new ft(4,4,8,4,zt),new ft(4,5,16,8,zt),new ft(4,6,32,32,zt),new ft(4,4,16,16,it),new ft(8,16,32,32,it),new ft(8,16,128,128,it),new ft(8,32,128,256,it),new ft(32,128,258,1024,it),new ft(32,258,258,4096,it)],l.deflateInit=function(n,F){return Pt(n,F,k,15,8,0)},l.deflateInit2=Pt,l.deflateReset=Ft,l.deflateResetKeep=gt,l.deflateSetHeader=function(n,F){return n&&n.state?n.state.wrap!==2?w:(n.state.gzhead=F,h):w},l.deflate=function(n,F){var D,y,g,x;if(!n||!n.state||5<F||F<0)return n?Q(n,w):w;if(y=n.state,!n.output||!n.input&&n.avail_in!==0||y.status===666&&F!==b)return Q(n,n.avail_out===0?-5:w);if(y.strm=n,D=y.last_flush,y.last_flush=F,y.status===E)if(y.wrap===2)n.adler=0,tt(y,31),tt(y,139),tt(y,8),y.gzhead?(tt(y,(y.gzhead.text?1:0)+(y.gzhead.hcrc?2:0)+(y.gzhead.extra?4:0)+(y.gzhead.name?8:0)+(y.gzhead.comment?16:0)),tt(y,255&y.gzhead.time),tt(y,y.gzhead.time>>8&255),tt(y,y.gzhead.time>>16&255),tt(y,y.gzhead.time>>24&255),tt(y,y.level===9?2:2<=y.strategy||y.level<2?4:0),tt(y,255&y.gzhead.os),y.gzhead.extra&&y.gzhead.extra.length&&(tt(y,255&y.gzhead.extra.length),tt(y,y.gzhead.extra.length>>8&255)),y.gzhead.hcrc&&(n.adler=o(n.adler,y.pending_buf,y.pending,0)),y.gzindex=0,y.status=69):(tt(y,0),tt(y,0),tt(y,0),tt(y,0),tt(y,0),tt(y,y.level===9?2:2<=y.strategy||y.level<2?4:0),tt(y,3),y.status=L);else{var U=k+(y.w_bits-8<<4)<<8;U|=(2<=y.strategy||y.level<2?0:y.level<6?1:y.level===6?2:3)<<6,y.strstart!==0&&(U|=32),U+=31-U%31,y.status=L,K(y,U),y.strstart!==0&&(K(y,n.adler>>>16),K(y,65535&n.adler)),n.adler=1}if(y.status===69)if(y.gzhead.extra){for(g=y.pending;y.gzindex<(65535&y.gzhead.extra.length)&&(y.pending!==y.pending_buf_size||(y.gzhead.hcrc&&y.pending>g&&(n.adler=o(n.adler,y.pending_buf,y.pending-g,g)),R(n),g=y.pending,y.pending!==y.pending_buf_size));)tt(y,255&y.gzhead.extra[y.gzindex]),y.gzindex++;y.gzhead.hcrc&&y.pending>g&&(n.adler=o(n.adler,y.pending_buf,y.pending-g,g)),y.gzindex===y.gzhead.extra.length&&(y.gzindex=0,y.status=73)}else y.status=73;if(y.status===73)if(y.gzhead.name){g=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>g&&(n.adler=o(n.adler,y.pending_buf,y.pending-g,g)),R(n),g=y.pending,y.pending===y.pending_buf_size)){x=1;break}x=y.gzindex<y.gzhead.name.length?255&y.gzhead.name.charCodeAt(y.gzindex++):0,tt(y,x)}while(x!==0);y.gzhead.hcrc&&y.pending>g&&(n.adler=o(n.adler,y.pending_buf,y.pending-g,g)),x===0&&(y.gzindex=0,y.status=91)}else y.status=91;if(y.status===91)if(y.gzhead.comment){g=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>g&&(n.adler=o(n.adler,y.pending_buf,y.pending-g,g)),R(n),g=y.pending,y.pending===y.pending_buf_size)){x=1;break}x=y.gzindex<y.gzhead.comment.length?255&y.gzhead.comment.charCodeAt(y.gzindex++):0,tt(y,x)}while(x!==0);y.gzhead.hcrc&&y.pending>g&&(n.adler=o(n.adler,y.pending_buf,y.pending-g,g)),x===0&&(y.status=103)}else y.status=103;if(y.status===103&&(y.gzhead.hcrc?(y.pending+2>y.pending_buf_size&&R(n),y.pending+2<=y.pending_buf_size&&(tt(y,255&n.adler),tt(y,n.adler>>8&255),n.adler=0,y.status=L)):y.status=L),y.pending!==0){if(R(n),n.avail_out===0)return y.last_flush=-1,h}else if(n.avail_in===0&&W(F)<=W(D)&&F!==b)return Q(n,-5);if(y.status===666&&n.avail_in!==0)return Q(n,-5);if(n.avail_in!==0||y.lookahead!==0||F!==d&&y.status!==666){var M=y.strategy===2?function($,Z){for(var Y;;){if($.lookahead===0&&(_t($),$.lookahead===0)){if(Z===d)return a;break}if($.match_length=0,Y=i._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,Y&&(O($,!1),$.strm.avail_out===0))return a}return $.insert=0,Z===b?(O($,!0),$.strm.avail_out===0?G:N):$.last_lit&&(O($,!1),$.strm.avail_out===0)?a:z}(y,F):y.strategy===3?function($,Z){for(var Y,H,J,pt,st=$.window;;){if($.lookahead<=j){if(_t($),$.lookahead<=j&&Z===d)return a;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=T&&0<$.strstart&&(H=st[J=$.strstart-1])===st[++J]&&H===st[++J]&&H===st[++J]){pt=$.strstart+j;do;while(H===st[++J]&&H===st[++J]&&H===st[++J]&&H===st[++J]&&H===st[++J]&&H===st[++J]&&H===st[++J]&&H===st[++J]&&J<pt);$.match_length=j-(pt-J),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=T?(Y=i._tr_tally($,1,$.match_length-T),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(Y=i._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),Y&&(O($,!1),$.strm.avail_out===0))return a}return $.insert=0,Z===b?(O($,!0),$.strm.avail_out===0?G:N):$.last_lit&&(O($,!1),$.strm.avail_out===0)?a:z}(y,F):t[y.level].func(y,F);if(M!==G&&M!==N||(y.status=666),M===a||M===G)return n.avail_out===0&&(y.last_flush=-1),h;if(M===z&&(F===1?i._tr_align(y):F!==5&&(i._tr_stored_block(y,0,0,!1),F===3&&(et(y.head),y.lookahead===0&&(y.strstart=0,y.block_start=0,y.insert=0))),R(n),n.avail_out===0))return y.last_flush=-1,h}return F!==b?h:y.wrap<=0?1:(y.wrap===2?(tt(y,255&n.adler),tt(y,n.adler>>8&255),tt(y,n.adler>>16&255),tt(y,n.adler>>24&255),tt(y,255&n.total_in),tt(y,n.total_in>>8&255),tt(y,n.total_in>>16&255),tt(y,n.total_in>>24&255)):(K(y,n.adler>>>16),K(y,65535&n.adler)),R(n),0<y.wrap&&(y.wrap=-y.wrap),y.pending!==0?h:1)},l.deflateEnd=function(n){var F;return n&&n.state?(F=n.state.status)!==E&&F!==69&&F!==73&&F!==91&&F!==103&&F!==L&&F!==666?Q(n,w):(n.state=null,F===L?Q(n,-3):h):w},l.deflateSetDictionary=function(n,F){var D,y,g,x,U,M,$,Z,Y=F.length;if(!n||!n.state||(x=(D=n.state).wrap)===2||x===1&&D.status!==E||D.lookahead)return w;for(x===1&&(n.adler=r(n.adler,F,Y,0)),D.wrap=0,Y>=D.w_size&&(x===0&&(et(D.head),D.strstart=0,D.block_start=0,D.insert=0),Z=new s.Buf8(D.w_size),s.arraySet(Z,F,Y-D.w_size,D.w_size,0),F=Z,Y=D.w_size),U=n.avail_in,M=n.next_in,$=n.input,n.avail_in=Y,n.next_in=0,n.input=F,_t(D);D.lookahead>=T;){for(y=D.strstart,g=D.lookahead-(T-1);D.ins_h=(D.ins_h<<D.hash_shift^D.window[y+T-1])&D.hash_mask,D.prev[y&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=y,y++,--g;);D.strstart=y,D.lookahead=T-1,_t(D)}return D.strstart+=D.lookahead,D.block_start=D.strstart,D.insert=D.lookahead,D.lookahead=0,D.match_length=D.prev_length=T-1,D.match_available=0,n.next_in=M,n.input=$,n.avail_in=U,D.wrap=x,h},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,c,l){c.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,c,l){c.exports=function(t,s){var i,r,o,p,d,b,h,w,f,_,m,k,C,S,A,P,I,B,T,j,q,E,L,a,z;i=t.state,r=t.next_in,a=t.input,o=r+(t.avail_in-5),p=t.next_out,z=t.output,d=p-(s-t.avail_out),b=p+(t.avail_out-257),h=i.dmax,w=i.wsize,f=i.whave,_=i.wnext,m=i.window,k=i.hold,C=i.bits,S=i.lencode,A=i.distcode,P=(1<<i.lenbits)-1,I=(1<<i.distbits)-1;t:do{C<15&&(k+=a[r++]<<C,C+=8,k+=a[r++]<<C,C+=8),B=S[k&P];e:for(;;){if(k>>>=T=B>>>24,C-=T,(T=B>>>16&255)===0)z[p++]=65535&B;else{if(!(16&T)){if(!(64&T)){B=S[(65535&B)+(k&(1<<T)-1)];continue e}if(32&T){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}j=65535&B,(T&=15)&&(C<T&&(k+=a[r++]<<C,C+=8),j+=k&(1<<T)-1,k>>>=T,C-=T),C<15&&(k+=a[r++]<<C,C+=8,k+=a[r++]<<C,C+=8),B=A[k&I];r:for(;;){if(k>>>=T=B>>>24,C-=T,!(16&(T=B>>>16&255))){if(!(64&T)){B=A[(65535&B)+(k&(1<<T)-1)];continue r}t.msg="invalid distance code",i.mode=30;break t}if(q=65535&B,C<(T&=15)&&(k+=a[r++]<<C,(C+=8)<T&&(k+=a[r++]<<C,C+=8)),h<(q+=k&(1<<T)-1)){t.msg="invalid distance too far back",i.mode=30;break t}if(k>>>=T,C-=T,(T=p-d)<q){if(f<(T=q-T)&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(L=m,(E=0)===_){if(E+=w-T,T<j){for(j-=T;z[p++]=m[E++],--T;);E=p-q,L=z}}else if(_<T){if(E+=w+_-T,(T-=_)<j){for(j-=T;z[p++]=m[E++],--T;);if(E=0,_<j){for(j-=T=_;z[p++]=m[E++],--T;);E=p-q,L=z}}}else if(E+=_-T,T<j){for(j-=T;z[p++]=m[E++],--T;);E=p-q,L=z}for(;2<j;)z[p++]=L[E++],z[p++]=L[E++],z[p++]=L[E++],j-=3;j&&(z[p++]=L[E++],1<j&&(z[p++]=L[E++]))}else{for(E=p-q;z[p++]=z[E++],z[p++]=z[E++],z[p++]=z[E++],2<(j-=3););j&&(z[p++]=z[E++],1<j&&(z[p++]=z[E++]))}break}}break}}while(r<o&&p<b);r-=j=C>>3,k&=(1<<(C-=j<<3))-1,t.next_in=r,t.next_out=p,t.avail_in=r<o?o-r+5:5-(r-o),t.avail_out=p<b?b-p+257:257-(p-b),i.hold=k,i.bits=C}},{}],49:[function(e,c,l){var t=e("../utils/common"),s=e("./adler32"),i=e("./crc32"),r=e("./inffast"),o=e("./inftrees"),p=1,d=2,b=0,h=-2,w=1,f=852,_=592;function m(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(E){var L;return E&&E.state?(L=E.state,E.total_in=E.total_out=L.total=0,E.msg="",L.wrap&&(E.adler=1&L.wrap),L.mode=w,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new t.Buf32(f),L.distcode=L.distdyn=new t.Buf32(_),L.sane=1,L.back=-1,b):h}function S(E){var L;return E&&E.state?((L=E.state).wsize=0,L.whave=0,L.wnext=0,C(E)):h}function A(E,L){var a,z;return E&&E.state?(z=E.state,L<0?(a=0,L=-L):(a=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?h:(z.window!==null&&z.wbits!==L&&(z.window=null),z.wrap=a,z.wbits=L,S(E))):h}function P(E,L){var a,z;return E?(z=new k,(E.state=z).window=null,(a=A(E,L))!==b&&(E.state=null),a):h}var I,B,T=!0;function j(E){if(T){var L;for(I=new t.Buf32(512),B=new t.Buf32(32),L=0;L<144;)E.lens[L++]=8;for(;L<256;)E.lens[L++]=9;for(;L<280;)E.lens[L++]=7;for(;L<288;)E.lens[L++]=8;for(o(p,E.lens,0,288,I,0,E.work,{bits:9}),L=0;L<32;)E.lens[L++]=5;o(d,E.lens,0,32,B,0,E.work,{bits:5}),T=!1}E.lencode=I,E.lenbits=9,E.distcode=B,E.distbits=5}function q(E,L,a,z){var G,N=E.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new t.Buf8(N.wsize)),z>=N.wsize?(t.arraySet(N.window,L,a-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(z<(G=N.wsize-N.wnext)&&(G=z),t.arraySet(N.window,L,a-z,G,N.wnext),(z-=G)?(t.arraySet(N.window,L,a-z,z,0),N.wnext=z,N.whave=N.wsize):(N.wnext+=G,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=G))),0}l.inflateReset=S,l.inflateReset2=A,l.inflateResetKeep=C,l.inflateInit=function(E){return P(E,15)},l.inflateInit2=P,l.inflate=function(E,L){var a,z,G,N,Q,W,et,R,O,tt,K,V,_t,zt,it,ft,St,gt,Ft,Pt,n,F,D,y,g=0,x=new t.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return h;(a=E.state).mode===12&&(a.mode=13),Q=E.next_out,G=E.output,et=E.avail_out,N=E.next_in,z=E.input,W=E.avail_in,R=a.hold,O=a.bits,tt=W,K=et,F=b;t:for(;;)switch(a.mode){case w:if(a.wrap===0){a.mode=13;break}for(;O<16;){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}if(2&a.wrap&&R===35615){x[a.check=0]=255&R,x[1]=R>>>8&255,a.check=i(a.check,x,2,0),O=R=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&R)<<8)+(R>>8))%31){E.msg="incorrect header check",a.mode=30;break}if((15&R)!=8){E.msg="unknown compression method",a.mode=30;break}if(O-=4,n=8+(15&(R>>>=4)),a.wbits===0)a.wbits=n;else if(n>a.wbits){E.msg="invalid window size",a.mode=30;break}a.dmax=1<<n,E.adler=a.check=1,a.mode=512&R?10:12,O=R=0;break;case 2:for(;O<16;){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}if(a.flags=R,(255&a.flags)!=8){E.msg="unknown compression method",a.mode=30;break}if(57344&a.flags){E.msg="unknown header flags set",a.mode=30;break}a.head&&(a.head.text=R>>8&1),512&a.flags&&(x[0]=255&R,x[1]=R>>>8&255,a.check=i(a.check,x,2,0)),O=R=0,a.mode=3;case 3:for(;O<32;){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}a.head&&(a.head.time=R),512&a.flags&&(x[0]=255&R,x[1]=R>>>8&255,x[2]=R>>>16&255,x[3]=R>>>24&255,a.check=i(a.check,x,4,0)),O=R=0,a.mode=4;case 4:for(;O<16;){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}a.head&&(a.head.xflags=255&R,a.head.os=R>>8),512&a.flags&&(x[0]=255&R,x[1]=R>>>8&255,a.check=i(a.check,x,2,0)),O=R=0,a.mode=5;case 5:if(1024&a.flags){for(;O<16;){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}a.length=R,a.head&&(a.head.extra_len=R),512&a.flags&&(x[0]=255&R,x[1]=R>>>8&255,a.check=i(a.check,x,2,0)),O=R=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags&&(W<(V=a.length)&&(V=W),V&&(a.head&&(n=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),t.arraySet(a.head.extra,z,N,V,n)),512&a.flags&&(a.check=i(a.check,z,V,N)),W-=V,N+=V,a.length-=V),a.length))break t;a.length=0,a.mode=7;case 7:if(2048&a.flags){if(W===0)break t;for(V=0;n=z[N+V++],a.head&&n&&a.length<65536&&(a.head.name+=String.fromCharCode(n)),n&&V<W;);if(512&a.flags&&(a.check=i(a.check,z,V,N)),W-=V,N+=V,n)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if(W===0)break t;for(V=0;n=z[N+V++],a.head&&n&&a.length<65536&&(a.head.comment+=String.fromCharCode(n)),n&&V<W;);if(512&a.flags&&(a.check=i(a.check,z,V,N)),W-=V,N+=V,n)break t}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;O<16;){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}if(R!==(65535&a.check)){E.msg="header crc mismatch",a.mode=30;break}O=R=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),E.adler=a.check=0,a.mode=12;break;case 10:for(;O<32;){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}E.adler=a.check=m(R),O=R=0,a.mode=11;case 11:if(a.havedict===0)return E.next_out=Q,E.avail_out=et,E.next_in=N,E.avail_in=W,a.hold=R,a.bits=O,2;E.adler=a.check=1,a.mode=12;case 12:if(L===5||L===6)break t;case 13:if(a.last){R>>>=7&O,O-=7&O,a.mode=27;break}for(;O<3;){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}switch(a.last=1&R,O-=1,3&(R>>>=1)){case 0:a.mode=14;break;case 1:if(j(a),a.mode=20,L!==6)break;R>>>=2,O-=2;break t;case 2:a.mode=17;break;case 3:E.msg="invalid block type",a.mode=30}R>>>=2,O-=2;break;case 14:for(R>>>=7&O,O-=7&O;O<32;){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}if((65535&R)!=(R>>>16^65535)){E.msg="invalid stored block lengths",a.mode=30;break}if(a.length=65535&R,O=R=0,a.mode=15,L===6)break t;case 15:a.mode=16;case 16:if(V=a.length){if(W<V&&(V=W),et<V&&(V=et),V===0)break t;t.arraySet(G,z,N,V,Q),W-=V,N+=V,et-=V,Q+=V,a.length-=V;break}a.mode=12;break;case 17:for(;O<14;){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}if(a.nlen=257+(31&R),R>>>=5,O-=5,a.ndist=1+(31&R),R>>>=5,O-=5,a.ncode=4+(15&R),R>>>=4,O-=4,286<a.nlen||30<a.ndist){E.msg="too many length or distance symbols",a.mode=30;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;O<3;){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}a.lens[U[a.have++]]=7&R,R>>>=3,O-=3}for(;a.have<19;)a.lens[U[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,D={bits:a.lenbits},F=o(0,a.lens,0,19,a.lencode,0,a.work,D),a.lenbits=D.bits,F){E.msg="invalid code lengths set",a.mode=30;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;ft=(g=a.lencode[R&(1<<a.lenbits)-1])>>>16&255,St=65535&g,!((it=g>>>24)<=O);){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}if(St<16)R>>>=it,O-=it,a.lens[a.have++]=St;else{if(St===16){for(y=it+2;O<y;){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}if(R>>>=it,O-=it,a.have===0){E.msg="invalid bit length repeat",a.mode=30;break}n=a.lens[a.have-1],V=3+(3&R),R>>>=2,O-=2}else if(St===17){for(y=it+3;O<y;){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}O-=it,n=0,V=3+(7&(R>>>=it)),R>>>=3,O-=3}else{for(y=it+7;O<y;){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}O-=it,n=0,V=11+(127&(R>>>=it)),R>>>=7,O-=7}if(a.have+V>a.nlen+a.ndist){E.msg="invalid bit length repeat",a.mode=30;break}for(;V--;)a.lens[a.have++]=n}}if(a.mode===30)break;if(a.lens[256]===0){E.msg="invalid code -- missing end-of-block",a.mode=30;break}if(a.lenbits=9,D={bits:a.lenbits},F=o(p,a.lens,0,a.nlen,a.lencode,0,a.work,D),a.lenbits=D.bits,F){E.msg="invalid literal/lengths set",a.mode=30;break}if(a.distbits=6,a.distcode=a.distdyn,D={bits:a.distbits},F=o(d,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,D),a.distbits=D.bits,F){E.msg="invalid distances set",a.mode=30;break}if(a.mode=20,L===6)break t;case 20:a.mode=21;case 21:if(6<=W&&258<=et){E.next_out=Q,E.avail_out=et,E.next_in=N,E.avail_in=W,a.hold=R,a.bits=O,r(E,K),Q=E.next_out,G=E.output,et=E.avail_out,N=E.next_in,z=E.input,W=E.avail_in,R=a.hold,O=a.bits,a.mode===12&&(a.back=-1);break}for(a.back=0;ft=(g=a.lencode[R&(1<<a.lenbits)-1])>>>16&255,St=65535&g,!((it=g>>>24)<=O);){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}if(ft&&!(240&ft)){for(gt=it,Ft=ft,Pt=St;ft=(g=a.lencode[Pt+((R&(1<<gt+Ft)-1)>>gt)])>>>16&255,St=65535&g,!(gt+(it=g>>>24)<=O);){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}R>>>=gt,O-=gt,a.back+=gt}if(R>>>=it,O-=it,a.back+=it,a.length=St,ft===0){a.mode=26;break}if(32&ft){a.back=-1,a.mode=12;break}if(64&ft){E.msg="invalid literal/length code",a.mode=30;break}a.extra=15&ft,a.mode=22;case 22:if(a.extra){for(y=a.extra;O<y;){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}a.length+=R&(1<<a.extra)-1,R>>>=a.extra,O-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;ft=(g=a.distcode[R&(1<<a.distbits)-1])>>>16&255,St=65535&g,!((it=g>>>24)<=O);){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}if(!(240&ft)){for(gt=it,Ft=ft,Pt=St;ft=(g=a.distcode[Pt+((R&(1<<gt+Ft)-1)>>gt)])>>>16&255,St=65535&g,!(gt+(it=g>>>24)<=O);){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}R>>>=gt,O-=gt,a.back+=gt}if(R>>>=it,O-=it,a.back+=it,64&ft){E.msg="invalid distance code",a.mode=30;break}a.offset=St,a.extra=15&ft,a.mode=24;case 24:if(a.extra){for(y=a.extra;O<y;){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}a.offset+=R&(1<<a.extra)-1,R>>>=a.extra,O-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){E.msg="invalid distance too far back",a.mode=30;break}a.mode=25;case 25:if(et===0)break t;if(V=K-et,a.offset>V){if((V=a.offset-V)>a.whave&&a.sane){E.msg="invalid distance too far back",a.mode=30;break}_t=V>a.wnext?(V-=a.wnext,a.wsize-V):a.wnext-V,V>a.length&&(V=a.length),zt=a.window}else zt=G,_t=Q-a.offset,V=a.length;for(et<V&&(V=et),et-=V,a.length-=V;G[Q++]=zt[_t++],--V;);a.length===0&&(a.mode=21);break;case 26:if(et===0)break t;G[Q++]=a.length,et--,a.mode=21;break;case 27:if(a.wrap){for(;O<32;){if(W===0)break t;W--,R|=z[N++]<<O,O+=8}if(K-=et,E.total_out+=K,a.total+=K,K&&(E.adler=a.check=a.flags?i(a.check,G,K,Q-K):s(a.check,G,K,Q-K)),K=et,(a.flags?R:m(R))!==a.check){E.msg="incorrect data check",a.mode=30;break}O=R=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;O<32;){if(W===0)break t;W--,R+=z[N++]<<O,O+=8}if(R!==(4294967295&a.total)){E.msg="incorrect length check",a.mode=30;break}O=R=0}a.mode=29;case 29:F=1;break t;case 30:F=-3;break t;case 31:return-4;case 32:default:return h}return E.next_out=Q,E.avail_out=et,E.next_in=N,E.avail_in=W,a.hold=R,a.bits=O,(a.wsize||K!==E.avail_out&&a.mode<30&&(a.mode<27||L!==4))&&q(E,E.output,E.next_out,K-E.avail_out)?(a.mode=31,-4):(tt-=E.avail_in,K-=E.avail_out,E.total_in+=tt,E.total_out+=K,a.total+=K,a.wrap&&K&&(E.adler=a.check=a.flags?i(a.check,G,K,E.next_out-K):s(a.check,G,K,E.next_out-K)),E.data_type=a.bits+(a.last?64:0)+(a.mode===12?128:0)+(a.mode===20||a.mode===15?256:0),(tt==0&&K===0||L===4)&&F===b&&(F=-5),F)},l.inflateEnd=function(E){if(!E||!E.state)return h;var L=E.state;return L.window&&(L.window=null),E.state=null,b},l.inflateGetHeader=function(E,L){var a;return E&&E.state&&2&(a=E.state).wrap?((a.head=L).done=!1,b):h},l.inflateSetDictionary=function(E,L){var a,z=L.length;return E&&E.state?(a=E.state).wrap!==0&&a.mode!==11?h:a.mode===11&&s(1,L,z,0)!==a.check?-3:q(E,L,z,z)?(a.mode=31,-4):(a.havedict=1,b):h},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,c,l){var t=e("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],r=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];c.exports=function(p,d,b,h,w,f,_,m){var k,C,S,A,P,I,B,T,j,q=m.bits,E=0,L=0,a=0,z=0,G=0,N=0,Q=0,W=0,et=0,R=0,O=null,tt=0,K=new t.Buf16(16),V=new t.Buf16(16),_t=null,zt=0;for(E=0;E<=15;E++)K[E]=0;for(L=0;L<h;L++)K[d[b+L]]++;for(G=q,z=15;1<=z&&K[z]===0;z--);if(z<G&&(G=z),z===0)return w[f++]=20971520,w[f++]=20971520,m.bits=1,0;for(a=1;a<z&&K[a]===0;a++);for(G<a&&(G=a),E=W=1;E<=15;E++)if(W<<=1,(W-=K[E])<0)return-1;if(0<W&&(p===0||z!==1))return-1;for(V[1]=0,E=1;E<15;E++)V[E+1]=V[E]+K[E];for(L=0;L<h;L++)d[b+L]!==0&&(_[V[d[b+L]]++]=L);if(I=p===0?(O=_t=_,19):p===1?(O=s,tt-=257,_t=i,zt-=257,256):(O=r,_t=o,-1),E=a,P=f,Q=L=R=0,S=-1,A=(et=1<<(N=G))-1,p===1&&852<et||p===2&&592<et)return 1;for(;;){for(B=E-Q,j=_[L]<I?(T=0,_[L]):_[L]>I?(T=_t[zt+_[L]],O[tt+_[L]]):(T=96,0),k=1<<E-Q,a=C=1<<N;w[P+(R>>Q)+(C-=k)]=B<<24|T<<16|j|0,C!==0;);for(k=1<<E-1;R&k;)k>>=1;if(k!==0?(R&=k-1,R+=k):R=0,L++,--K[E]==0){if(E===z)break;E=d[b+_[L]]}if(G<E&&(R&A)!==S){for(Q===0&&(Q=G),P+=a,W=1<<(N=E-Q);N+Q<z&&!((W-=K[N+Q])<=0);)N++,W<<=1;if(et+=1<<N,p===1&&852<et||p===2&&592<et)return 1;w[S=R&A]=G<<24|N<<16|P-f|0}}return R!==0&&(w[P+R]=E-Q<<24|64<<16|0),m.bits=G,0}},{"../utils/common":41}],51:[function(e,c,l){c.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,c,l){var t=e("../utils/common"),s=0,i=1;function r(g){for(var x=g.length;0<=--x;)g[x]=0}var o=0,p=29,d=256,b=d+1+p,h=30,w=19,f=2*b+1,_=15,m=16,k=7,C=256,S=16,A=17,P=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(b+2));r(q);var E=new Array(2*h);r(E);var L=new Array(512);r(L);var a=new Array(256);r(a);var z=new Array(p);r(z);var G,N,Q,W=new Array(h);function et(g,x,U,M,$){this.static_tree=g,this.extra_bits=x,this.extra_base=U,this.elems=M,this.max_length=$,this.has_stree=g&&g.length}function R(g,x){this.dyn_tree=g,this.max_code=0,this.stat_desc=x}function O(g){return g<256?L[g]:L[256+(g>>>7)]}function tt(g,x){g.pending_buf[g.pending++]=255&x,g.pending_buf[g.pending++]=x>>>8&255}function K(g,x,U){g.bi_valid>m-U?(g.bi_buf|=x<<g.bi_valid&65535,tt(g,g.bi_buf),g.bi_buf=x>>m-g.bi_valid,g.bi_valid+=U-m):(g.bi_buf|=x<<g.bi_valid&65535,g.bi_valid+=U)}function V(g,x,U){K(g,U[2*x],U[2*x+1])}function _t(g,x){for(var U=0;U|=1&g,g>>>=1,U<<=1,0<--x;);return U>>>1}function zt(g,x,U){var M,$,Z=new Array(_+1),Y=0;for(M=1;M<=_;M++)Z[M]=Y=Y+U[M-1]<<1;for($=0;$<=x;$++){var H=g[2*$+1];H!==0&&(g[2*$]=_t(Z[H]++,H))}}function it(g){var x;for(x=0;x<b;x++)g.dyn_ltree[2*x]=0;for(x=0;x<h;x++)g.dyn_dtree[2*x]=0;for(x=0;x<w;x++)g.bl_tree[2*x]=0;g.dyn_ltree[2*C]=1,g.opt_len=g.static_len=0,g.last_lit=g.matches=0}function ft(g){8<g.bi_valid?tt(g,g.bi_buf):0<g.bi_valid&&(g.pending_buf[g.pending++]=g.bi_buf),g.bi_buf=0,g.bi_valid=0}function St(g,x,U,M){var $=2*x,Z=2*U;return g[$]<g[Z]||g[$]===g[Z]&&M[x]<=M[U]}function gt(g,x,U){for(var M=g.heap[U],$=U<<1;$<=g.heap_len&&($<g.heap_len&&St(x,g.heap[$+1],g.heap[$],g.depth)&&$++,!St(x,M,g.heap[$],g.depth));)g.heap[U]=g.heap[$],U=$,$<<=1;g.heap[U]=M}function Ft(g,x,U){var M,$,Z,Y,H=0;if(g.last_lit!==0)for(;M=g.pending_buf[g.d_buf+2*H]<<8|g.pending_buf[g.d_buf+2*H+1],$=g.pending_buf[g.l_buf+H],H++,M===0?V(g,$,x):(V(g,(Z=a[$])+d+1,x),(Y=I[Z])!==0&&K(g,$-=z[Z],Y),V(g,Z=O(--M),U),(Y=B[Z])!==0&&K(g,M-=W[Z],Y)),H<g.last_lit;);V(g,C,x)}function Pt(g,x){var U,M,$,Z=x.dyn_tree,Y=x.stat_desc.static_tree,H=x.stat_desc.has_stree,J=x.stat_desc.elems,pt=-1;for(g.heap_len=0,g.heap_max=f,U=0;U<J;U++)Z[2*U]!==0?(g.heap[++g.heap_len]=pt=U,g.depth[U]=0):Z[2*U+1]=0;for(;g.heap_len<2;)Z[2*($=g.heap[++g.heap_len]=pt<2?++pt:0)]=1,g.depth[$]=0,g.opt_len--,H&&(g.static_len-=Y[2*$+1]);for(x.max_code=pt,U=g.heap_len>>1;1<=U;U--)gt(g,Z,U);for($=J;U=g.heap[1],g.heap[1]=g.heap[g.heap_len--],gt(g,Z,1),M=g.heap[1],g.heap[--g.heap_max]=U,g.heap[--g.heap_max]=M,Z[2*$]=Z[2*U]+Z[2*M],g.depth[$]=(g.depth[U]>=g.depth[M]?g.depth[U]:g.depth[M])+1,Z[2*U+1]=Z[2*M+1]=$,g.heap[1]=$++,gt(g,Z,1),2<=g.heap_len;);g.heap[--g.heap_max]=g.heap[1],function(st,Bt){var qt,jt,Xt,vt,ue,ye,Nt=Bt.dyn_tree,Be=Bt.max_code,Ve=Bt.stat_desc.static_tree,Ge=Bt.stat_desc.has_stree,Ke=Bt.stat_desc.extra_bits,Re=Bt.stat_desc.extra_base,Jt=Bt.stat_desc.max_length,fe=0;for(vt=0;vt<=_;vt++)st.bl_count[vt]=0;for(Nt[2*st.heap[st.heap_max]+1]=0,qt=st.heap_max+1;qt<f;qt++)Jt<(vt=Nt[2*Nt[2*(jt=st.heap[qt])+1]+1]+1)&&(vt=Jt,fe++),Nt[2*jt+1]=vt,Be<jt||(st.bl_count[vt]++,ue=0,Re<=jt&&(ue=Ke[jt-Re]),ye=Nt[2*jt],st.opt_len+=ye*(vt+ue),Ge&&(st.static_len+=ye*(Ve[2*jt+1]+ue)));if(fe!==0){do{for(vt=Jt-1;st.bl_count[vt]===0;)vt--;st.bl_count[vt]--,st.bl_count[vt+1]+=2,st.bl_count[Jt]--,fe-=2}while(0<fe);for(vt=Jt;vt!==0;vt--)for(jt=st.bl_count[vt];jt!==0;)Be<(Xt=st.heap[--qt])||(Nt[2*Xt+1]!==vt&&(st.opt_len+=(vt-Nt[2*Xt+1])*Nt[2*Xt],Nt[2*Xt+1]=vt),jt--)}}(g,x),zt(Z,pt,g.bl_count)}function n(g,x,U){var M,$,Z=-1,Y=x[1],H=0,J=7,pt=4;for(Y===0&&(J=138,pt=3),x[2*(U+1)+1]=65535,M=0;M<=U;M++)$=Y,Y=x[2*(M+1)+1],++H<J&&$===Y||(H<pt?g.bl_tree[2*$]+=H:$!==0?($!==Z&&g.bl_tree[2*$]++,g.bl_tree[2*S]++):H<=10?g.bl_tree[2*A]++:g.bl_tree[2*P]++,Z=$,pt=(H=0)===Y?(J=138,3):$===Y?(J=6,3):(J=7,4))}function F(g,x,U){var M,$,Z=-1,Y=x[1],H=0,J=7,pt=4;for(Y===0&&(J=138,pt=3),M=0;M<=U;M++)if($=Y,Y=x[2*(M+1)+1],!(++H<J&&$===Y)){if(H<pt)for(;V(g,$,g.bl_tree),--H!=0;);else $!==0?($!==Z&&(V(g,$,g.bl_tree),H--),V(g,S,g.bl_tree),K(g,H-3,2)):H<=10?(V(g,A,g.bl_tree),K(g,H-3,3)):(V(g,P,g.bl_tree),K(g,H-11,7));Z=$,pt=(H=0)===Y?(J=138,3):$===Y?(J=6,3):(J=7,4)}}r(W);var D=!1;function y(g,x,U,M){K(g,(o<<1)+(M?1:0),3),function($,Z,Y,H){ft($),tt($,Y),tt($,~Y),t.arraySet($.pending_buf,$.window,Z,Y,$.pending),$.pending+=Y}(g,x,U)}l._tr_init=function(g){D||(function(){var x,U,M,$,Z,Y=new Array(_+1);for($=M=0;$<p-1;$++)for(z[$]=M,x=0;x<1<<I[$];x++)a[M++]=$;for(a[M-1]=$,$=Z=0;$<16;$++)for(W[$]=Z,x=0;x<1<<B[$];x++)L[Z++]=$;for(Z>>=7;$<h;$++)for(W[$]=Z<<7,x=0;x<1<<B[$]-7;x++)L[256+Z++]=$;for(U=0;U<=_;U++)Y[U]=0;for(x=0;x<=143;)q[2*x+1]=8,x++,Y[8]++;for(;x<=255;)q[2*x+1]=9,x++,Y[9]++;for(;x<=279;)q[2*x+1]=7,x++,Y[7]++;for(;x<=287;)q[2*x+1]=8,x++,Y[8]++;for(zt(q,b+1,Y),x=0;x<h;x++)E[2*x+1]=5,E[2*x]=_t(x,5);G=new et(q,I,d+1,b,_),N=new et(E,B,0,h,_),Q=new et(new Array(0),T,0,w,k)}(),D=!0),g.l_desc=new R(g.dyn_ltree,G),g.d_desc=new R(g.dyn_dtree,N),g.bl_desc=new R(g.bl_tree,Q),g.bi_buf=0,g.bi_valid=0,it(g)},l._tr_stored_block=y,l._tr_flush_block=function(g,x,U,M){var $,Z,Y=0;0<g.level?(g.strm.data_type===2&&(g.strm.data_type=function(H){var J,pt=4093624447;for(J=0;J<=31;J++,pt>>>=1)if(1&pt&&H.dyn_ltree[2*J]!==0)return s;if(H.dyn_ltree[18]!==0||H.dyn_ltree[20]!==0||H.dyn_ltree[26]!==0)return i;for(J=32;J<d;J++)if(H.dyn_ltree[2*J]!==0)return i;return s}(g)),Pt(g,g.l_desc),Pt(g,g.d_desc),Y=function(H){var J;for(n(H,H.dyn_ltree,H.l_desc.max_code),n(H,H.dyn_dtree,H.d_desc.max_code),Pt(H,H.bl_desc),J=w-1;3<=J&&H.bl_tree[2*j[J]+1]===0;J--);return H.opt_len+=3*(J+1)+5+5+4,J}(g),$=g.opt_len+3+7>>>3,(Z=g.static_len+3+7>>>3)<=$&&($=Z)):$=Z=U+5,U+4<=$&&x!==-1?y(g,x,U,M):g.strategy===4||Z===$?(K(g,2+(M?1:0),3),Ft(g,q,E)):(K(g,4+(M?1:0),3),function(H,J,pt,st){var Bt;for(K(H,J-257,5),K(H,pt-1,5),K(H,st-4,4),Bt=0;Bt<st;Bt++)K(H,H.bl_tree[2*j[Bt]+1],3);F(H,H.dyn_ltree,J-1),F(H,H.dyn_dtree,pt-1)}(g,g.l_desc.max_code+1,g.d_desc.max_code+1,Y+1),Ft(g,g.dyn_ltree,g.dyn_dtree)),it(g),M&&ft(g)},l._tr_tally=function(g,x,U){return g.pending_buf[g.d_buf+2*g.last_lit]=x>>>8&255,g.pending_buf[g.d_buf+2*g.last_lit+1]=255&x,g.pending_buf[g.l_buf+g.last_lit]=255&U,g.last_lit++,x===0?g.dyn_ltree[2*U]++:(g.matches++,x--,g.dyn_ltree[2*(a[U]+d+1)]++,g.dyn_dtree[2*O(x)]++),g.last_lit===g.lit_bufsize-1},l._tr_align=function(g){K(g,2,3),V(g,C,q),function(x){x.bi_valid===16?(tt(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):8<=x.bi_valid&&(x.pending_buf[x.pending++]=255&x.bi_buf,x.bi_buf>>=8,x.bi_valid-=8)}(g)}},{"../utils/common":41}],53:[function(e,c,l){c.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,c,l){(function(t){(function(s,i){if(!s.setImmediate){var r,o,p,d,b=1,h={},w=!1,f=s.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(s);_=_&&_.setTimeout?_:s,r={}.toString.call(s.process)==="[object process]"?function(S){process.nextTick(function(){k(S)})}:function(){if(s.postMessage&&!s.importScripts){var S=!0,A=s.onmessage;return s.onmessage=function(){S=!1},s.postMessage("","*"),s.onmessage=A,S}}()?(d="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",C,!1):s.attachEvent("onmessage",C),function(S){s.postMessage(d+S,"*")}):s.MessageChannel?((p=new MessageChannel).port1.onmessage=function(S){k(S.data)},function(S){p.port2.postMessage(S)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,function(S){var A=f.createElement("script");A.onreadystatechange=function(){k(S),A.onreadystatechange=null,o.removeChild(A),A=null},o.appendChild(A)}):function(S){setTimeout(k,0,S)},_.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var A=new Array(arguments.length-1),P=0;P<A.length;P++)A[P]=arguments[P+1];var I={callback:S,args:A};return h[b]=I,r(b),b++},_.clearImmediate=m}function m(S){delete h[S]}function k(S){if(w)setTimeout(k,0,S);else{var A=h[S];if(A){w=!0;try{(function(P){var I=P.callback,B=P.args;switch(B.length){case 0:I();break;case 1:I(B[0]);break;case 2:I(B[0],B[1]);break;case 3:I(B[0],B[1],B[2]);break;default:I.apply(i,B)}})(A)}finally{m(S),w=!1}}}}function C(S){S.source===s&&typeof S.data=="string"&&S.data.indexOf(d)===0&&k(+S.data.slice(d.length))}})(typeof self>"u"?t===void 0?this:t:self)}).call(this,typeof he<"u"?he:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ze);var lr=Ze.exports;const ur=or(lr);async function ge(v){let u=v.split("/").pop();u===void 0&&(u=v);const c=await(await fetch(v)).text();return{name:u,data:c}}async function fr(v){const u=new ur;for(const[e,c]of Object.entries(v))u.file(e,c);return u.generateAsync({type:"blob"})}function cr(v){let u;return{c(){u=Rt("Hello Bypass")},l(e){u=Dt(e,"Hello Bypass")},m(e,c){ut(e,u,c)},d(e){e&&X(u)}}}function hr(v){let u;return{c(){u=Rt("Hello Sine")},l(e){u=Dt(e,"Hello Sine")},m(e,c){ut(e,u,c)},d(e){e&&X(u)}}}function dr(v){let u,e,c,l;return u=new ae({props:{$$slots:{default:[cr]},$$scope:{ctx:v}}}),u.$on("click",v[1]),c=new ae({props:{$$slots:{default:[hr]},$$scope:{ctx:v}}}),c.$on("click",v[2]),{c(){yt(u.$$.fragment),e=bt(),yt(c.$$.fragment)},l(t){kt(u.$$.fragment,t),e=wt(t),kt(c.$$.fragment,t)},m(t,s){Et(u,t,s),ut(t,e,s),Et(c,t,s),l=!0},p(t,s){const i={};s&8&&(i.$$scope={dirty:s,ctx:t}),u.$set(i);const r={};s&8&&(r.$$scope={dirty:s,ctx:t}),c.$set(r)},i(t){l||(ct(u.$$.fragment,t),ct(c.$$.fragment,t),l=!0)},o(t){ht(u.$$.fragment,t),ht(c.$$.fragment,t),l=!1},d(t){t&&X(e),Ct(u,t),Ct(c,t)}}}function pr(v){let u,e;return u=new Ie({props:{name:"Examples",$$slots:{default:[dr]},$$scope:{ctx:v}}}),{c(){yt(u.$$.fragment)},l(c){kt(u.$$.fragment,c)},m(c,l){Et(u,c,l),e=!0},p(c,[l]){const t={};l&8&&(t.$$scope={dirty:l,ctx:c}),u.$set(t)},i(c){e||(ct(u.$$.fragment,c),e=!0)},o(c){ht(u.$$.fragment,c),e=!1},d(c){Ct(u,c)}}}function mr(v){async function u(l,t){re((await ge(l)).data,"main"),ee((await ge(t)).data,"processor")}return[u,()=>{u("examples/bypass/main.js","examples/bypass/processor.js")},()=>{u("examples/sine/main.js","examples/sine/processor.js")}]}class _r extends It{constructor(u){super(),Ot(this,u,mr,pr,$t,{})}}const Oe=(v,u="div")=>{let e;const c=async t=>{if(u=t,typeof u=="string"){if(e=document.querySelector(u),e===null&&(await Me(),e=document.querySelector(u)),e===null)throw new Error(`No element found matching css selector: "${u}"`)}else if(u instanceof HTMLElement)e=u;else throw new TypeError(`Unknown portal target type: ${u===null?"null":typeof u}. Allowed types: string (CSS selector) or HTMLElement.`);e.appendChild(v),v.hidden=!1},l=()=>v.parentNode&&v.parentNode.removeChild(v);return c(u),{update:c,destroy:l}};function gr(v){let u,e,c,l,t;const s=v[3].default,i=Ht(s,v,v[2],null);return{c(){u=at("dialog"),e=at("button"),i&&i.c(),this.h()},l(r){u=ot(r,"DIALOG",{class:!0});var o=dt(u);e=ot(o,"BUTTON",{class:!0});var p=dt(e);i&&i.l(p),p.forEach(X),o.forEach(X),this.h()},h(){rt(e,"class","h-full px-4 py-2 w-full"),rt(u,"class","font-mono text-sm absolute bg-accent bottom-12 cursor-pointer m-0 ml-auto right-0 rounded shadow-md"),u.open=!0,mt(u,"toast-in",v[0]),mt(u,"toast-out",!v[0])},m(r,o){ut(r,u,o),nt(u,e),i&&i.m(e,null),c=!0,l||(t=[Lt(e,"click",v[4]),be(Oe.call(null,u))],l=!0)},p(r,[o]){i&&i.p&&(!c||o&4)&&Vt(i,s,r,r[2],c?Kt(s,r[2],o,null):Gt(r[2]),null),(!c||o&1)&&mt(u,"toast-in",r[0]),(!c||o&1)&&mt(u,"toast-out",!r[0])},i(r){c||(ct(i,r),c=!0)},o(r){ht(i,r),c=!1},d(r){r&&X(u),i&&i.d(r),l=!1,oe(t)}}}function vr(v,u,e){let{$$slots:c={},$$scope:l}=u,{show:t=!1}=u;const s=r=>e(0,t=r),i=()=>s(!1);return v.$$set=r=>{"show"in r&&e(0,t=r.show),"$$scope"in r&&e(2,l=r.$$scope)},[t,s,l,c,i]}class He extends It{constructor(u){super(),Ot(this,u,vr,gr,$t,{show:0,handleToggle:1})}get handleToggle(){return this.$$.ctx[1]}}const br=Object.getPrototypeOf(async function(){}).constructor;let Qt=[[]],xt,ve,te=48e3,Te="";function wr(v){return Te===""?v:v.replace(/addModule\(["'].*?["']\)/,`addModule('${Te}')`)}function yr(v,u,e){return v.replace(new RegExp(u,"g"),e)}function kr(v,u){const e=new RegExp(`@${u}\\s*=\\s*(\\d+)`),c=v.match(e);return c?parseInt(c[1],10):null}function Er(v){Te=window.URL.createObjectURL(new Blob([v],{type:"text/javascript"}))}async function Cr(v){await(xt==null?void 0:xt.close());const u=kr(v,"sampleRate");te=u||te,await Sr();let e=wr(v);e=yr(e,"context.destination","recorder).connect(context.destination"),await new br("context","sampleRate","recorder",e)(xt,te,ve)}async function Sr(){xt=new AudioContext({sampleRate:te}),await xt.audioWorklet.addModule("processor/recorder-processor.js"),ve=new AudioWorkletNode(xt,"recorder-processor"),ve.port.onmessage=v=>{v.data.channel in Qt||(Qt[v.data.channel]=[]),Qt[v.data.channel].push(...v.data.data)}}function xr(){xt==null||xt.resume()}function zr(){xt==null||xt.suspend()}function Ar(){xt==null||xt.close(),xt=void 0,ve=void 0,Qt=[[]]}function _e(){return Qt}function Tr(){return te}const pe=(v,u,e)=>{for(let c=0;c<v.length;++c)u[e+c]=v.charCodeAt(c)},ke=(v,u,e)=>{v=Math.floor(v),u[e]=v&255,u[e+1]=v>>8&255},Zt=(v,u,e)=>{v=Math.floor(v),u[e]=v&255,u[e+1]=v>>8&255,u[e+2]=v>>16&255,u[e+3]=v>>24&255},$r=v=>{const u=new ArrayBuffer(4);return new Float32Array(u)[0]=v,new Uint32Array(u)[0]|0},Ir=(v,u,e,c)=>{let l,t=0;const s=v.length,i=v.numberOfChannels;let r,o;for(l=0;l<s;++l)for(t=0;t<i;++t)r=v.getChannelData(t),o=$r(r[l]),Zt(o,u,e),e+=4},Or=(v,u)=>{const e=v.length,c=v.numberOfChannels,l=v.sampleRate,t=32,s=t/8,i=l*c*t/8,r=c*t/8,o=e*c*s,d=44+o,b=new Uint8Array(d),h=16,w=o,f=4+(8+h)+(8+w);return pe("RIFF",b,0),Zt(f,b,4),pe("WAVE",b,8),pe("fmt ",b,12),Zt(h,b,16),ke(3,b,20),ke(c,b,22),Zt(l,b,24),Zt(i,b,28),ke(r,b,32),Zt(t,b,34),pe("data",b,36),Zt(w,b,40),Ir(v,b,44),new Blob([b],{type:"audio/wav"})};function Br(v){let u;return{c(){u=Rt("Save code")},l(e){u=Dt(e,"Save code")},m(e,c){ut(e,u,c)},d(e){e&&X(u)}}}function Rr(v){let u,e,c=".wav";return{c(){u=Rt("Export to "),e=at("code"),e.textContent=c},l(l){u=Dt(l,"Export to "),e=ot(l,"CODE",{"data-svelte-h":!0}),le(e)!=="svelte-1bldscw"&&(e.textContent=c)},m(l,t){ut(l,u,t),ut(l,e,t)},p:Yt,d(l){l&&(X(u),X(e))}}}function Dr(v){let u,e,c,l;return u=new ae({props:{$$slots:{default:[Br]},$$scope:{ctx:v}}}),u.$on("click",v[2]),c=new ae({props:{$$slots:{default:[Rr]},$$scope:{ctx:v}}}),c.$on("click",v[3]),{c(){yt(u.$$.fragment),e=bt(),yt(c.$$.fragment)},l(t){kt(u.$$.fragment,t),e=wt(t),kt(c.$$.fragment,t)},m(t,s){Et(u,t,s),ut(t,e,s),Et(c,t,s),l=!0},p(t,s){const i={};s&32&&(i.$$scope={dirty:s,ctx:t}),u.$set(i);const r={};s&32&&(r.$$scope={dirty:s,ctx:t}),c.$set(r)},i(t){l||(ct(u.$$.fragment,t),ct(c.$$.fragment,t),l=!0)},o(t){ht(u.$$.fragment,t),ht(c.$$.fragment,t),l=!1},d(t){t&&X(e),Ct(u,t),Ct(c,t)}}}function Lr(v){let u;return{c(){u=Rt(v[1])},l(e){u=Dt(e,v[1])},m(e,c){ut(e,u,c)},p(e,c){c&2&&we(u,e[1])},d(e){e&&X(u)}}}function Pr(v){let u,e,c,l,t;u=new Ie({props:{name:"File",$$slots:{default:[Dr]},$$scope:{ctx:v}}});function s(r){v[4](r)}let i={$$slots:{default:[Lr]},$$scope:{ctx:v}};return v[0]!==void 0&&(i.handleToggle=v[0]),c=new He({props:i}),At.push(()=>Mt(c,"handleToggle",s)),{c(){yt(u.$$.fragment),e=bt(),yt(c.$$.fragment)},l(r){kt(u.$$.fragment,r),e=wt(r),kt(c.$$.fragment,r)},m(r,o){Et(u,r,o),ut(r,e,o),Et(c,r,o),t=!0},p(r,[o]){const p={};o&32&&(p.$$scope={dirty:o,ctx:r}),u.$set(p);const d={};o&34&&(d.$$scope={dirty:o,ctx:r}),!l&&o&1&&(l=!0,d.handleToggle=r[0],Ut(()=>l=!1)),c.$set(d)},i(r){t||(ct(u.$$.fragment,r),ct(c.$$.fragment,r),t=!0)},o(r){ht(u.$$.fragment,r),ht(c.$$.fragment,r),t=!1},d(r){r&&X(e),Ct(u,r),Ct(c,r)}}}function Fr(v,u,e){let c,l="";async function t(){const r=ne(),o=ie(),p={};r&&(p["processor.js"]=r),o&&(p["main.js"]=o);const d=await fr(p),b=URL.createObjectURL(d),h=document.createElement("a");h.href=b,h.download="code.zip",h.click(),URL.revokeObjectURL(b)}function s(){const r=_e(),o=Tr();if(r.length===0||r[0].length===0){e(1,l="Recording buffer is empty"),console.error(l),c(!0);return}else c(!1);const p=r[0],d=new AudioBuffer({length:p.length,numberOfChannels:1,sampleRate:o});d.copyToChannel(new Float32Array(p),0);const b=Or(d);console.log("exporting to wav (mono)",d);const h=URL.createObjectURL(b),w=document.createElement("a");w.href=h,w.download="recording.wav",w.click(),URL.revokeObjectURL(h)}function i(r){c=r,e(0,c)}return[c,l,t,s,i]}class jr extends It{constructor(u){super(),Ot(this,u,Fr,Pr,$t,{})}}const Nr="data:image/svg+xml,%3csvg%20width='100'%20height='170'%20viewBox='0%200%20100%20170'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M30.9312%20120.074H68.186L41.2548%20163.864H3.99999L30.9312%20120.074Z'%20fill='%2394E170'%20stroke='%23355027'%20stroke-width='8'%20stroke-linejoin='round'/%3e%3cpath%20d='M41%20107L41%20109'%20stroke='%23FD9494'%20stroke-width='8'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M69.0688%20120.074H31.814L58.7452%20166H96L69.0688%20120.074Z'%20fill='%2394E170'%20stroke='%23355027'%20stroke-width='8'%20stroke-linejoin='round'/%3e%3cpath%20d='M64%204L64%20143'%20stroke='%23FD9494'%20stroke-width='8'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M53%2010L53%2094'%20stroke='%23FD9494'%20stroke-width='8'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";function Ur(v){let u,e,c,l,t;const s=v[3].default,i=Ht(s,v,v[2],null);return{c(){u=at("dialog"),e=at("button"),i&&i.c(),this.h()},l(r){u=ot(r,"DIALOG",{class:!0});var o=dt(u);e=ot(o,"BUTTON",{class:!0});var p=dt(e);i&&i.l(p),p.forEach(X),o.forEach(X),this.h()},h(){rt(e,"class","h-full px-4 py-2 w-full"),rt(u,"class","absolute bg-white w-full max-w-2xl max-h-[75vh] cursor-pointer rounded-3xl shadow-md svelte-cb2ltm")},m(r,o){ut(r,u,o),nt(u,e),i&&i.m(e,null),v[5](u),c=!0,l||(t=[Lt(e,"click",v[4]),be(Oe.call(null,u))],l=!0)},p(r,[o]){i&&i.p&&(!c||o&4)&&Vt(i,s,r,r[2],c?Kt(s,r[2],o,null):Gt(r[2]),null)},i(r){c||(ct(i,r),c=!0)},o(r){ht(i,r),c=!1},d(r){r&&X(u),i&&i.d(r),v[5](null),l=!1,oe(t)}}}function Mr(v,u,e){let{$$slots:c={},$$scope:l}=u,t;function s(o){o?t.showModal():t.close()}const i=()=>s(!1);function r(o){At[o?"unshift":"push"](()=>{t=o,e(1,t)})}return v.$$set=o=>{"$$scope"in o&&e(2,l=o.$$scope)},[s,t,l,c,i,r]}class Wr extends It{constructor(u){super(),Ot(this,u,Mr,Ur,$t,{showModal:0})}get showModal(){return this.$$.ctx[0]}}const Zr=""+new URL("../assets/splash.kqjIUoM5.svg",import.meta.url).href;var Hr={version:"1.0.0-beta"};function Vr(v){let u;return{c(){u=Rt("About")},l(e){u=Dt(e,"About")},m(e,c){ut(e,u,c)},d(e){e&&X(u)}}}function Gr(v){let u,e;return u=new ae({props:{$$slots:{default:[Vr]},$$scope:{ctx:v}}}),u.$on("click",v[1]),{c(){yt(u.$$.fragment)},l(c){kt(u.$$.fragment,c)},m(c,l){Et(u,c,l),e=!0},p(c,l){const t={};l&8&&(t.$$scope={dirty:l,ctx:c}),u.$set(t)},i(c){e||(ct(u.$$.fragment,c),e=!0)},o(c){ht(u.$$.fragment,c),e=!1},d(c){Ct(u,c)}}}function Kr(v){let u,e,c=`<div><h1 class="font-bold text-4xl mb-3 text-black">Rainfly</h1> <p>An AudioWorklet DSP Playground for Chromium Web Audio API Project
          (2024)</p> <br/> <p>Created by <a href="https://github.com/terryzfeng" class="svelte-7vuyv8">@terryzfeng</a> and <a href="https://github.com/kizjkre" class="svelte-7vuyv8">@kizjkre</a></p> <br/> <p>See
          <a href="https://github.com/GoogleChromeLabs/web-audio-samples" class="svelte-7vuyv8">GitHub</a>
           for more information or to submit an issue</p></div> <div class="pl-8"><img src="${Zr}" alt="Rainfly logo" class="w-96"/></div>`,l,t,s,i,r=Hr.version+"",o;return{c(){u=at("div"),e=at("div"),e.innerHTML=c,l=bt(),t=at("div"),s=at("p"),i=Rt("ver "),o=Rt(r),this.h()},l(p){u=ot(p,"DIV",{class:!0});var d=dt(u);e=ot(d,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-i0e9cx"&&(e.innerHTML=c),l=wt(d),t=ot(d,"DIV",{class:!0});var b=dt(t);s=ot(b,"P",{});var h=dt(s);i=Dt(h,"ver "),o=Dt(h,r),h.forEach(X),b.forEach(X),d.forEach(X),this.h()},h(){rt(e,"class","w-full flex justify-between pb-4"),rt(t,"class","text-center text-sm"),rt(u,"class","w-full h-full p-4 text-left text-sm text-gray-600")},m(p,d){ut(p,u,d),nt(u,e),nt(u,l),nt(u,t),nt(t,s),nt(s,i),nt(s,o)},p:Yt,d(p){p&&X(u)}}}function Yr(v){let u,e,c,l,t;u=new Ie({props:{name:"Help",$$slots:{default:[Gr]},$$scope:{ctx:v}}});function s(r){v[2](r)}let i={$$slots:{default:[Kr]},$$scope:{ctx:v}};return v[0]!==void 0&&(i.showModal=v[0]),c=new Wr({props:i}),At.push(()=>Mt(c,"showModal",s)),{c(){yt(u.$$.fragment),e=bt(),yt(c.$$.fragment)},l(r){kt(u.$$.fragment,r),e=wt(r),kt(c.$$.fragment,r)},m(r,o){Et(u,r,o),ut(r,e,o),Et(c,r,o),t=!0},p(r,[o]){const p={};o&9&&(p.$$scope={dirty:o,ctx:r}),u.$set(p);const d={};o&8&&(d.$$scope={dirty:o,ctx:r}),!l&&o&1&&(l=!0,d.showModal=r[0],Ut(()=>l=!1)),c.$set(d)},i(r){t||(ct(u.$$.fragment,r),ct(c.$$.fragment,r),t=!0)},o(r){ht(u.$$.fragment,r),ht(c.$$.fragment,r),t=!1},d(r){r&&X(e),Ct(u,r),Ct(c,r)}}}function qr(v,u,e){let c;const l=()=>c(!0);function t(s){c=s,e(0,c)}return[c,l,t]}class Xr extends It{constructor(u){super(),Ot(this,u,qr,Yr,$t,{})}}function Jr(v){let u,e,c,l,t,s,i,r,o,p;return e=new jr({}),l=new _r({}),s=new Xr({}),{c(){u=at("nav"),yt(e.$$.fragment),c=bt(),yt(l.$$.fragment),t=bt(),yt(s.$$.fragment),i=bt(),r=at("img"),this.h()},l(d){u=ot(d,"NAV",{class:!0});var b=dt(u);kt(e.$$.fragment,b),c=wt(b),kt(l.$$.fragment,b),t=wt(b),kt(s.$$.fragment,b),b.forEach(X),i=wt(d),r=ot(d,"IMG",{alt:!0,class:!0,src:!0}),this.h()},h(){rt(u,"class","w-full h-full pl-16 pr-4 py-1 mt-1 bg-secondary flex gap-6 items-center border border-x-8 border-b-4 border-white box-border rounded-full"),rt(r,"alt","rainfly logo"),rt(r,"class","absolute left-4 top-1 w-11 z-40"),ze(r.src,o=Nr)||rt(r,"src",o)},m(d,b){ut(d,u,b),Et(e,u,null),nt(u,c),Et(l,u,null),nt(u,t),Et(s,u,null),ut(d,i,b),ut(d,r,b),p=!0},p:Yt,i(d){p||(ct(e.$$.fragment,d),ct(l.$$.fragment,d),ct(s.$$.fragment,d),p=!0)},o(d){ht(e.$$.fragment,d),ht(l.$$.fragment,d),ht(s.$$.fragment,d),p=!1},d(d){d&&(X(u),X(i),X(r)),Ct(e),Ct(l),Ct(s)}}}class Qr extends It{constructor(u){super(),Ot(this,u,null,Jr,$t,{})}}const lt=Object.freeze({stop:0,play:1,running:2,pause:3}),Tt=We(lt.stop),Ee="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='icon%20icon-tabler%20icons-tabler-outline%20icon-tabler-player-play'%3e%3cpath%20stroke='none'%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M7%204v16l13%20-8z'%20/%3e%3c/svg%3e",tn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='icon%20icon-tabler%20icons-tabler-outline%20icon-tabler-player-stop'%3e%3cpath%20stroke='none'%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M5%205m0%202a2%202%200%200%201%202%20-2h10a2%202%200%200%201%202%202v10a2%202%200%200%201%20-2%202h-10a2%202%200%200%201%20-2%20-2z'%20/%3e%3c/svg%3e",en="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='icon%20icon-tabler%20icons-tabler-outline%20icon-tabler-player-pause'%3e%3cpath%20stroke='none'%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M6%205m0%201a1%201%200%200%201%201%20-1h2a1%201%200%200%201%201%201v12a1%201%200%200%201%20-1%201h-2a1%201%200%200%201%20-1%20-1z'%20/%3e%3cpath%20d='M14%205m0%201a1%201%200%200%201%201%20-1h2a1%201%200%200%201%201%201v12a1%201%200%200%201%20-1%201h-2a1%201%200%200%201%20-1%20-1z'%20/%3e%3c/svg%3e";function rn(v){let u,e,c,l,t,s,i=`<img src="${tn}" alt="Stop"/>`,r,o;return{c(){u=at("div"),e=at("button"),c=at("img"),t=bt(),s=at("button"),s.innerHTML=i,this.h()},l(p){u=ot(p,"DIV",{class:!0});var d=dt(u);e=ot(d,"BUTTON",{class:!0});var b=dt(e);c=ot(b,"IMG",{src:!0,alt:!0}),b.forEach(X),t=wt(d),s=ot(d,"BUTTON",{class:!0,id:!0,"data-svelte-h":!0}),le(s)!=="svelte-t4jfce"&&(s.innerHTML=i),d.forEach(X),this.h()},h(){ze(c.src,l=v[2])||rt(c,"src",l),rt(c,"alt",v[1]),rt(e,"class","z-50 svelte-o053be"),rt(s,"class","z-40 svelte-o053be"),rt(s,"id","stopButton"),mt(s,"fab-in",v[0]),mt(s,"fab-out",!v[0]),rt(u,"class","flex")},m(p,d){ut(p,u,d),nt(u,e),nt(e,c),nt(u,t),nt(u,s),r||(o=[Lt(e,"click",v[3]),Lt(s,"click",v[4])],r=!0)},p(p,[d]){d&4&&!ze(c.src,l=p[2])&&rt(c,"src",l),d&2&&rt(c,"alt",p[1]),d&1&&mt(s,"fab-in",p[0]),d&1&&mt(s,"fab-out",!p[0])},i:Yt,o:Yt,d(p){p&&X(u),r=!1,oe(o)}}}function nn(v,u,e){let c;se(v,Tt,o=>e(5,c=o));let l=!1,t="Play",s=Ee;function i(){c===lt.stop?Tt.set(lt.play):c===lt.play||c===lt.running?Tt.set(lt.pause):c===lt.pause&&Tt.set(lt.running)}function r(){c!==lt.stop&&Tt.set(lt.stop)}return v.$$.update=()=>{if(v.$$.dirty&32)switch(c){case lt.play:case lt.running:e(0,l=!0),e(1,t="Pause"),e(2,s=en);break;case lt.pause:e(0,l=!0),e(1,t="Play"),e(2,s=Ee);break;default:case lt.stop:e(1,t="Run"),e(2,s=Ee),e(0,l=!1)}},[l,t,s,i,r,c]}class sn extends It{constructor(u){super(),Ot(this,u,nn,rn,$t,{})}}const{window:an}=tr;function on(v){let u,e,c="",l,t,s,i,r,o;return s=new sn({}),{c(){u=at("section"),e=at("canvas"),e.innerHTML=c,l=bt(),t=at("div"),yt(s.$$.fragment),this.h()},l(p){u=ot(p,"SECTION",{class:!0});var d=dt(u);e=ot(d,"CANVAS",{id:!0,class:!0,"data-svelte-h":!0}),le(e)!=="svelte-1pmpqjr"&&(e.innerHTML=c),l=wt(d),t=ot(d,"DIV",{id:!0,class:!0});var b=dt(t);kt(s.$$.fragment,b),b.forEach(X),d.forEach(X),this.h()},h(){rt(e,"id","visualizer"),rt(e,"class","svelte-hdkek4"),rt(t,"id","action-buttons"),rt(t,"class","svelte-hdkek4"),rt(u,"class","svelte-hdkek4")},m(p,d){ut(p,u,d),nt(u,e),v[4](e),nt(u,l),nt(u,t),Et(s,t,null),i=!0,r||(o=[Lt(an,"resize",v[1]),Lt(e,"wheel",Xe(v[2]))],r=!0)},p:Yt,i(p){i||(ct(s.$$.fragment,p),i=!0)},o(p){ht(s.$$.fragment,p),i=!1},d(p){p&&X(u),v[4](null),Ct(s),r=!1,oe(o)}}}const ln=250,Ce="#FD9494",Se="#76B359",xe=1e3,Fe=25;function un(v,u,e){let c;se(v,Tt,f=>e(3,c=f));let l,t,s,i=0;const r={start:0,end:1/0,full:!0};$e(()=>{s=window.devicePixelRatio||1,t=l.getContext("2d"),b()});function o(){var S,A;if(t===null)return;t.clearRect(0,0,l.width,l.height);const f=l.width,_=l.height,m=.8;p(f,_,m);const k=_e();r.full&&(r.end=((S=k[0])==null?void 0:S.length)||1/0);const C=((A=k[0])==null?void 0:A.slice(r.start,r.end))||[];if(C.length>ln){const P=C.length,I=1,B=f/(P/I);t.beginPath(),t.moveTo(0,_/2);let T=0;for(let j=0;j<f;j+=B,T+=I)t.lineTo(j,_/2-C[T]*_/2*m);t.strokeStyle=Se,t.lineWidth=1.5*s,t.stroke(),t.closePath()}else{const P=C.length,I=1,B=f/(P/I);let T=0;t.beginPath();for(let q=0;q<f;q+=B,T+=I)t.moveTo(q,_/2),t.lineTo(q,_/2-C[T]*_/2*m);t.strokeStyle=Se,t.lineWidth=1.5*s,t.stroke(),t.closePath(),T=0;const j=4*s;for(let q=0;q<f;q+=B,T+=I)t.fillStyle=Se,t.fillRect(q-j/2,_/2-C[T]*_/2*m-j/2,j,j)}(c===lt.play||c===lt.running)&&requestAnimationFrame(o)}function p(f,_,m){t!==null&&(t.beginPath(),t.moveTo(0,_/2),t.lineTo(f,_/2),t.strokeStyle=Ce,t.lineWidth=1*s,t.stroke(),t.closePath(),t.beginPath(),t.setLineDash([5,15]),t.moveTo(0,_/2+_/2*m),t.lineTo(f,_/2+_/2*m),t.strokeStyle=Ce,t.stroke(),t.closePath(),t.beginPath(),t.setLineDash([5,15]),t.moveTo(0,_/2-_/2*m),t.lineTo(f,_/2-_/2*m),t.strokeStyle=Ce,t.stroke(),t.closePath(),t.setLineDash([]))}function d(){t&&(t.clearRect(0,0,l.width,l.height),p(l.width,l.height,.8))}function b(){const f=l.clientWidth*s,_=l.clientHeight*s;e(0,l.width=f,l),e(0,l.height=_,l),o()}const h=f=>{const _=_e();if(_&&_[0].length===0)return;i=Math.max(0,Math.min(i+f.deltaY,xe)),r.full=i===0;const m=_e()[0].length,k=f.clientX/window.innerWidth*(r.end-r.start)+r.start,C=(m-Fe)/xe*(xe-i)+Fe;r.start=Math.max(0,k-C),r.end=Math.min(m,k+C),o()};function w(f){At[f?"unshift":"push"](()=>{l=f,e(0,l)})}return v.$$.update=()=>{v.$$.dirty&8&&(c===lt.play||c===lt.running?(console.log(c),o()):c===lt.stop&&d())},[l,b,h,c,w]}class fn extends It{constructor(u){super(),Ot(this,u,un,on,$t,{})}}function cn(v){let u,e=`${v[2].left}px`,c=`${v[2].top}px`,l,t,s;const i=v[5].default,r=Ht(i,v,v[4],null);return{c(){u=at("div"),r&&r.c(),this.h()},l(o){u=ot(o,"DIV",{class:!0,popover:!0});var p=dt(u);r&&r.l(p),p.forEach(X),this.h()},h(){rt(u,"class","absolute bg-accent m-0 px-2 py-1 rounded shadow-md text-sm"),rt(u,"popover","manual"),mt(u,"tooltip-in",v[1]),mt(u,"tooltip-out",!v[1]),ce(u,"left",e),ce(u,"top",c)},m(o,p){ut(o,u,p),r&&r.m(u,null),v[6](u),l=!0,t||(s=be(Oe.call(null,u)),t=!0)},p(o,[p]){r&&r.p&&(!l||p&16)&&Vt(r,i,o,o[4],l?Kt(i,o[4],p,null):Gt(o[4]),null),(!l||p&2)&&mt(u,"tooltip-in",o[1]),(!l||p&2)&&mt(u,"tooltip-out",!o[1]),p&4&&e!==(e=`${o[2].left}px`)&&ce(u,"left",e),p&4&&c!==(c=`${o[2].top}px`)&&ce(u,"top",c)},i(o){l||(ct(r,o),l=!0)},o(o){ht(r,o),l=!1},d(o){o&&X(u),r&&r.d(o),v[6](null),t=!1,s()}}}function hn(v,u,e){let{$$slots:c={},$$scope:l}=u,{anchor:t}=u,s,i,r=!1,o,p;const d={left:-1,top:-1},b=()=>{if(r)return;e(1,r=!0),s.showPopover(),i=s.getBoundingClientRect();const f={top:t.offsetTop-i.height-.5*o<0,right:t.offsetLeft+i.width+.5*o>p.width,bottom:t.offsetTop+i.height+.5*o>p.height,left:t.offsetLeft-i.width-.5*o<0};e(2,d.top=t.offsetTop-.5*o,d),e(2,d.left=t.offsetLeft-.5*o,d),f.top&&e(2,d.top=t.offsetTop+i.height+.5*o,d),f.right&&e(2,d.left=t.offsetLeft-i.width-.5*o,d),f.bottom&&e(2,d.top=t.offsetTop-i.height-.5*o,d),f.left&&e(2,d.left=t.offsetLeft+i.width+.5*o,d)},h=()=>{e(1,r=!1),setTimeout(()=>s.hidePopover(),50)};$e(()=>(o=parseFloat(getComputedStyle(document.documentElement).fontSize),p={width:window.innerWidth,height:window.innerHeight},(async()=>(await Me(),t.addEventListener("mouseover",b),t.addEventListener("mouseleave",h)))(),()=>{t.removeEventListener("mouseover",b),t.removeEventListener("mouseleave",h)}));function w(f){At[f?"unshift":"push"](()=>{s=f,e(0,s)})}return v.$$set=f=>{"anchor"in f&&e(3,t=f.anchor),"$$scope"in f&&e(4,l=f.$$scope)},[s,r,d,t,l,c,w]}class dn extends It{constructor(u){super(),Ot(this,u,hn,cn,$t,{anchor:3})}}const pn=!1,me=We(pn);function je(v){let u,e='<svg fill="#000000" width="20" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><title>VIm</title><path d="M26.445 22.095l0.592-0.649h1.667l0.386 0.519-1.581 5.132h0.616l-0.1 0.261h-2.228l1.405-4.454h-2.518l-1.346 4.238h0.53l-0.091 0.217h-2.006l1.383-4.434h-2.619l-1.327 4.172h0.545l-0.090 0.261h-2.076l1.892-5.573h-0.732l0.114-0.339h2.062l0.649 0.671h1.132l0.614-0.692h1.326l0.611 0.669zM7.99 27.033h-2.141l-0.327-0.187v-21.979h-1.545l-0.125-0.125v-1.47l0.179-0.192h9.211l0.266 0.267v1.385l-0.177 0.216h-1.348v10.857l11.006-10.857h-2.607l-0.219-0.235v-1.453l0.151-0.139h9.36l0.165 0.166v1.337l-12.615 12.937h-0.466c-0.005-0-0.011-0-0.018-0-0.012 0-0.024 0.001-0.036 0.002l0.002-0-0.025 0.004c-0.058 0.012-0.108 0.039-0.149 0.075l0-0-0.429 0.369-0.005 0.004c-0.040 0.037-0.072 0.084-0.090 0.136l-0.001 0.002-0.37 1.037zM17.916 18.028l0.187 0.189-0.336 1.152-0.281 0.282h-1.211l-0.226-0.226 0.389-1.088 0.36-0.309zM13.298 27.42l1.973-5.635h-0.626l0.371-0.38h2.073l-1.953 5.692h0.779l-0.099 0.322zM30.996 15.982h-0.034l-5.396-5.396 5.377-5.516v-2.24l-0.811-0.81h-10.245l-0.825 0.756v1.306l-3.044-3.044v-0.034l-0.019 0.018-0.018-0.018v0.034l-1.612 1.613-0.672-0.673h-10.151l-0.797 0.865v2.356l0.77 0.77h0.9v6.636l-3.382 3.38h-0.034l0.018 0.016-0.018 0.017h0.034l3.382 3.382v8.081l1.133 0.654h2.902l2.321-2.379 5.206 5.206v0.035l0.019-0.017 0.017 0.017v-0.035l3.136-3.135h0.606c0.144-0.001 0.266-0.093 0.312-0.221l0.001-0.002 0.182-0.532c0.011-0.031 0.017-0.067 0.017-0.105 0-0.073-0.024-0.14-0.064-0.195l0.001 0.001 1.827-1.827-0.765 2.452c-0.009 0.029-0.015 0.063-0.015 0.097 0 0.149 0.098 0.275 0.233 0.317l0.002 0.001c0.029 0.009 0.063 0.015 0.097 0.015 0 0 0 0 0 0h2.279c0.136-0.001 0.252-0.084 0.303-0.201l0.001-0.002 0.206-0.492c0.014-0.036 0.022-0.077 0.022-0.121 0-0.048-0.010-0.094-0.028-0.135l0.001 0.002c-0.035-0.082-0.1-0.145-0.18-0.177l-0.002-0.001c-0.036-0.015-0.077-0.024-0.121-0.025h-0.094l1.050-3.304h1.54l-1.27 4.025c-0.009 0.029-0.015 0.063-0.015 0.097 0 0.149 0.098 0.274 0.232 0.317l0.002 0.001c0.029 0.009 0.063 0.015 0.098 0.015 0 0 0.001 0 0.001 0h2.502c0 0 0.001 0 0.001 0 0.14 0 0.26-0.087 0.308-0.21l0.001-0.002 0.205-0.535c0.013-0.034 0.020-0.073 0.020-0.114 0-0.142-0.090-0.264-0.215-0.311l-0.002-0.001c-0.034-0.013-0.073-0.021-0.114-0.021h-0.181l1.413-4.59c0.011-0.031 0.017-0.066 0.017-0.103 0-0.074-0.025-0.143-0.066-0.198l0.001 0.001-0.469-0.63-0.004-0.006c-0.061-0.078-0.156-0.127-0.261-0.127h-1.795c-0.093 0-0.177 0.039-0.237 0.101l-0 0-0.5 0.549h-0.78l-0.052-0.057 5.555-5.555h0.035l-0.017-0.014z"></path></g></svg>',c,l;return{c(){u=at("button"),u.innerHTML=e,this.h()},l(t){u=ot(t,"BUTTON",{class:!0,"data-svelte-h":!0}),le(u)!=="svelte-kpgwiy"&&(u.innerHTML=e),this.h()},h(){rt(u,"class","p-1 transition hover:bg-accent/75"),mt(u,"bg-accent",v[1])},m(t,s){ut(t,u,s),v[15](u),c||(l=Lt(u,"click",v[9]),c=!0)},p(t,s){s&2&&mt(u,"bg-accent",t[1])},d(t){t&&X(u),v[15](null),c=!1,l()}}}function mn(v){let u;return{c(){u=Rt(v[5])},l(e){u=Dt(e,v[5])},m(e,c){ut(e,u,c)},p(e,c){c&32&&we(u,e[5])},d(e){e&&X(u)}}}function Ne(v){let u,e;return u=new dn({props:{anchor:v[4],$$slots:{default:[_n]},$$scope:{ctx:v}}}),{c(){yt(u.$$.fragment)},l(c){kt(u.$$.fragment,c)},m(c,l){Et(u,c,l),e=!0},p(c,l){const t={};l&16&&(t.anchor=c[4]),l&268435456&&(t.$$scope={dirty:l,ctx:c}),u.$set(t)},i(c){e||(ct(u.$$.fragment,c),e=!0)},o(c){ht(u.$$.fragment,c),e=!1},d(c){Ct(u,c)}}}function _n(v){let u;return{c(){u=Rt("Toggle Vim mode")},l(e){u=Dt(e,"Toggle Vim mode")},m(e,c){ut(e,u,c)},d(e){e&&X(u)}}}function gn(v){let u,e,c,l=v[2]===v[7].processor?"AudioWorkletProcessor":"Main",t,s,i,r,o,p,d,b,h,w,f,_,m,k,C,S=v[2]===v[7].main&&je(v);function A(B){v[18](B)}let P={$$slots:{default:[mn]},$$scope:{ctx:v}};v[6]!==void 0&&(P.handleToggle=v[6]),h=new He({props:P}),At.push(()=>Mt(h,"handleToggle",A));let I=v[2]===v[7].main&&Ne(v);return{c(){u=at("div"),e=at("div"),c=at("div"),t=Rt(l),s=bt(),S&&S.c(),i=bt(),r=at("div"),o=bt(),p=at("section"),d=at("div"),b=bt(),yt(h.$$.fragment),f=bt(),I&&I.c(),_=De(),this.h()},l(B){u=ot(B,"DIV",{class:!0});var T=dt(u);e=ot(T,"DIV",{class:!0});var j=dt(e);c=ot(j,"DIV",{class:!0});var q=dt(c);t=Dt(q,l),q.forEach(X),s=wt(j),S&&S.l(j),j.forEach(X),i=wt(T),r=ot(T,"DIV",{class:!0}),dt(r).forEach(X),o=wt(T),p=ot(T,"SECTION",{});var E=dt(p);d=ot(E,"DIV",{class:!0}),dt(d).forEach(X),E.forEach(X),T.forEach(X),b=wt(B),kt(h.$$.fragment,B),f=wt(B),I&&I.l(B),_=De(),this.h()},h(){rt(c,"class","inline-block font-semibold"),rt(e,"class","header svelte-1dpjgz1"),rt(r,"class","editor-container svelte-1dpjgz1"),rt(d,"class","vimBar"),mt(p,"hidden",!v[1]),rt(u,"class","container svelte-1dpjgz1")},m(B,T){ut(B,u,T),nt(u,e),nt(e,c),nt(c,t),nt(e,s),S&&S.m(e,null),nt(u,i),nt(u,r),v[16](r),nt(u,o),nt(u,p),nt(p,d),v[17](d),ut(B,b,T),Et(h,B,T),ut(B,f,T),I&&I.m(B,T),ut(B,_,T),m=!0,k||(C=Lt(window,"resize",v[8]),k=!0)},p(B,[T]){(!m||T&4)&&l!==(l=B[2]===B[7].processor?"AudioWorkletProcessor":"Main")&&we(t,l),B[2]===B[7].main?S?S.p(B,T):(S=je(B),S.c(),S.m(e,null)):S&&(S.d(1),S=null),(!m||T&2)&&mt(p,"hidden",!B[1]);const j={};T&268435488&&(j.$$scope={dirty:T,ctx:B}),!w&&T&64&&(w=!0,j.handleToggle=B[6],Ut(()=>w=!1)),h.$set(j),B[2]===B[7].main?I?(I.p(B,T),T&4&&ct(I,1)):(I=Ne(B),I.c(),ct(I,1),I.m(_.parentNode,_)):I&&(Je(),ht(I,1,1,()=>{I=null}),Qe())},i(B){m||(ct(h.$$.fragment,B),ct(I),m=!0)},o(B){ht(h.$$.fragment,B),ht(I),m=!1},d(B){B&&(X(u),X(b),X(f),X(_)),S&&S.d(),v[16](null),v[17](null),Ct(h,B),I&&I.d(B),k=!1,C()}}}function vn(v,u,e){let c,l;se(v,me,z=>e(1,c=z)),se(v,Tt,z=>e(23,l=z));let{id:t="main"}=u,s;const i=Object.freeze({processor:0,main:1});let r,o,p,d,b,h,w,f="",_,m=!1;$e(async()=>{r=(await Le(async()=>{const{default:N}=await import("./monaco.BL-T1Oqh.js").then(Q=>Q.m);return{default:N}},__vite__mapDeps([0,1,2,3,4]),import.meta.url)).default,d=(await Le(async()=>{const{initVimMode:N}=await import("./index.BTFUwuwz.js").then(Q=>Q.i);return{initVimMode:N}},__vite__mapDeps([5,1,2]),import.meta.url)).initVimMode;const z=s===i.processor?(await ge("examples/bypass/processor.js")).data:(await ge("examples/bypass/main.js")).data;o=r.editor.create(p,{minimap:{enabled:!1},fontSize:14,scrollBeyondLastLine:!1});const G=r.editor.createModel(z||'console.log("Hello World!")',"javascript");o.setModel(G),o.onDidChangeModelContent(()=>{}),I(),e(14,m=!0)}),qe(()=>{r==null||r.editor.getModels().forEach(z=>z.dispose()),o==null||o.dispose()});function k(){o==null||o.layout()}function C(){return(o==null?void 0:o.getValue())||""}function S(z){o==null||o.setValue(z)}function A(z,G){const N=G==="main"?i.main:i.processor;s===N&&S(z)}async function P(){const z=C();if(z!=="")if(s===i.processor)Er(z);else try{await Cr(z),_(!1)}catch(G){throw e(5,f=G.message),_(!0),G}}function I(){o.addAction({id:"play",label:"play",keybindings:[r.KeyMod.CtrlCmd|r.KeyCode.Enter],run:()=>{l===lt.stop?Wt(Tt,l=lt.play,l):l===lt.play||l===lt.running?Wt(Tt,l=lt.pause,l):l===lt.pause&&Wt(Tt,l=lt.play,l)}}),o.addAction({id:"stop",label:"stop",keybindings:[r.KeyMod.CtrlCmd|r.KeyCode.Backspace],run:()=>{stop(),l!==lt.stop&&Wt(Tt,l=lt.stop,l)}})}function B(){b=d(o,h),Wt(me,c=!0,c),e(3,p.style.height="calc(100% - 1.75rem - 1.5rem)",p),k()}function T(){b==null||b.dispose(),Wt(me,c=!1,c),e(3,p.style.height="calc(100% - 1.75rem)",p),k()}function j(){Wt(me,c=!c,c)}function q(z){At[z?"unshift":"push"](()=>{w=z,e(4,w)})}function E(z){At[z?"unshift":"push"](()=>{p=z,e(3,p)})}function L(z){At[z?"unshift":"push"](()=>{h=z,e(0,h)})}function a(z){_=z,e(6,_)}return v.$$set=z=>{"id"in z&&e(10,t=z.id)},v.$$.update=()=>{v.$$.dirty&17411&&(e(2,s=t==="processor"?i.processor:i.main),h&&m&&(c?B():T()))},[h,c,s,p,w,f,_,i,k,j,t,C,A,P,m,q,E,L,a]}class Ue extends It{constructor(u){super(),Ot(this,u,vn,gn,$t,{id:10,getEditorCode:11,loadEditorCode:12,runEditorCode:13})}get getEditorCode(){return this.$$.ctx[11]}get loadEditorCode(){return this.$$.ctx[12]}get runEditorCode(){return this.$$.ctx[13]}}const bn=v=>[...Ae.entries()].forEach(([u,e])=>u!==v.target&&e({...v,currentTarget:u}));function wn(v){let u,e,c,l,t,s,i,r,o,p,d,b,h,w,f,_,m,k,C,S,A,P;l=new Qr({}),i=new fn({});function I(z){v[3](z)}function B(z){v[4](z)}function T(z){v[5](z)}let j={id:"processor"};v[0]!==void 0&&(j.runEditorCode=v[0]),ee!==void 0&&(j.loadEditorCode=ee),ne!==void 0&&(j.getEditorCode=ne),p=new Ue({props:j}),At.push(()=>Mt(p,"runEditorCode",I)),At.push(()=>Mt(p,"loadEditorCode",B)),At.push(()=>Mt(p,"getEditorCode",T));function q(z){v[6](z)}function E(z){v[7](z)}function L(z){v[8](z)}let a={id:"main"};return v[1]!==void 0&&(a.runEditorCode=v[1]),re!==void 0&&(a.loadEditorCode=re),ie!==void 0&&(a.getEditorCode=ie),_=new Ue({props:a}),At.push(()=>Mt(_,"runEditorCode",q)),At.push(()=>Mt(_,"loadEditorCode",E)),At.push(()=>Mt(_,"getEditorCode",L)),{c(){u=bt(),e=at("main"),c=at("nav"),yt(l.$$.fragment),t=bt(),s=at("header"),yt(i.$$.fragment),r=bt(),o=at("section"),yt(p.$$.fragment),w=bt(),f=at("section"),yt(_.$$.fragment),this.h()},l(z){u=wt(z),e=ot(z,"MAIN",{class:!0});var G=dt(e);c=ot(G,"NAV",{class:!0});var N=dt(c);kt(l.$$.fragment,N),N.forEach(X),t=wt(G),s=ot(G,"HEADER",{class:!0});var Q=dt(s);kt(i.$$.fragment,Q),Q.forEach(X),r=wt(G),o=ot(G,"SECTION",{class:!0});var W=dt(o);kt(p.$$.fragment,W),W.forEach(X),w=wt(G),f=ot(G,"SECTION",{class:!0});var et=dt(f);kt(_.$$.fragment,et),et.forEach(X),G.forEach(X),this.h()},h(){rt(c,"class","col-span-2"),rt(s,"class","col-span-2"),rt(o,"class","border-r border-black"),rt(f,"class","border-l border-black"),rt(e,"class","grid grid-cols-2 grid-rows-main h-full w-full")},m(z,G){ut(z,u,G),ut(z,e,G),nt(e,c),Et(l,c,null),nt(e,t),nt(e,s),Et(i,s,null),nt(e,r),nt(e,o),Et(p,o,null),nt(e,w),nt(e,f),Et(_,f,null),S=!0,A||(P=Lt(document,"click",bn),A=!0)},p(z,[G]){const N={};!d&&G&1&&(d=!0,N.runEditorCode=z[0],Ut(()=>d=!1)),!b&&G&0&&(b=!0,N.loadEditorCode=ee,Ut(()=>b=!1)),!h&&G&0&&(h=!0,N.getEditorCode=ne,Ut(()=>h=!1)),p.$set(N);const Q={};!m&&G&2&&(m=!0,Q.runEditorCode=z[1],Ut(()=>m=!1)),!k&&G&0&&(k=!0,Q.loadEditorCode=re,Ut(()=>k=!1)),!C&&G&0&&(C=!0,Q.getEditorCode=ie,Ut(()=>C=!1)),_.$set(Q)},i(z){S||(ct(l.$$.fragment,z),ct(i.$$.fragment,z),ct(p.$$.fragment,z),ct(_.$$.fragment,z),S=!0)},o(z){ht(l.$$.fragment,z),ht(i.$$.fragment,z),ht(p.$$.fragment,z),ht(_.$$.fragment,z),S=!1},d(z){z&&(X(u),X(e)),Ct(l),Ct(i),Ct(p),Ct(_),A=!1,P()}}}let ee,re,ne,ie;function yn(v,u,e){let c;se(v,Tt,h=>e(2,c=h));let l,t;async function s(){l();try{await t()}catch(h){throw Wt(Tt,c=lt.stop,c),h}}function i(h){l=h,e(0,l)}function r(h){ee=h}function o(h){ne=h}function p(h){t=h,e(1,t)}function d(h){re=h}function b(h){ie=h}return v.$$.update=()=>{if(v.$$.dirty&4)switch(c){case lt.play:s();break;case lt.running:xr();break;case lt.pause:zr();break;default:case lt.stop:Ar()}},[l,t,c,i,r,o,p,d,b]}class zn extends It{constructor(u){super(),Ot(this,u,yn,wn,$t,{})}}export{zn as P,xn as g};
