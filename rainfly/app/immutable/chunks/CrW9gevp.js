const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./me1sT0m0.js","./BvU8ycQE.js","../assets/editor.6bg1ayCN.css","./C1FmrZbK.js","../assets/monaco.CaV9jKTX.css","./qEVCeeLp.js"])))=>i.map(i=>d[i]);
import{s as It,d as Vt,r as ae,u as Gt,g as Kt,e as Yt,x as ye,b as At,y as tr,o as ke,t as He,z as Mt,n as qt,A as Ae,c as se,B as er,C as Wt}from"./CoS-1vvy.js";import{S as Ot,i as $t,d as X,k as dt,l as ut,s as oe,z as mt,a as ft,b as nt,A as Rt,w as rt,c as at,e as ht,f as Lt,g as bt,h as ot,t as Ft,j as wt,q as yt,u as kt,v as Et,r as Ct,B as rr,m as Ve,n as Ge,o as ge,C as Ut,D as le,E as nr,x as ce}from"./D0IWQURM.js";import{w as Ke}from"./6PPD2AGX.js";import{_ as De}from"./C1FmrZbK.js";const ir=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Le(g){return(g==null?void 0:g.length)!==void 0?g:Array.from(g)}const Te=new Map,sr=(g,f)=>(Te.set(g,f),{destroy:()=>Te.delete(g)});function ar(g){let f,t,u,a,e,s,n;const r=g[6].default,o=Vt(r,g,g[5],null);return{c(){f=ot("div"),t=Ft(g[0]),u=wt(),a=ot("dialog"),o&&o.c(),this.h()},l(p){f=at(p,"DIV",{class:!0,role:!0,tabindex:!0});var h=ht(f);t=Lt(h,g[0]),u=bt(h),a=at(h,"DIALOG",{class:!0});var b=ht(a);o&&o.l(b),b.forEach(X),h.forEach(X),this.h()},h(){rt(a,"class","bg-secondary m-0 py-1 rounded-b shadow-md w-max z-50 svelte-vgxygr"),mt(a,"fold",!g[2]),mt(a,"unfold",g[2]),rt(f,"class","flex hover:text-accent items-center relative select-none"),rt(f,"role","button"),rt(f,"tabindex","0"),mt(f,"text-accent",g[2])},m(p,h){ft(p,f,h),nt(f,t),nt(f,u),nt(f,a),o&&o.m(a,null),g[7](a),e=!0,s||(n=[Rt(f,"click",g[3]),Rt(f,"keydown",g[3]),ye(sr.call(null,f,g[4]))],s=!0)},p(p,[h]){(!e||h&1)&&oe(t,p[0]),o&&o.p&&(!e||h&32)&&Gt(o,r,p,p[5],e?Yt(r,p[5],h,null):Kt(p[5]),null),(!e||h&4)&&mt(a,"fold",!p[2]),(!e||h&4)&&mt(a,"unfold",p[2]),(!e||h&4)&&mt(f,"text-accent",p[2])},i(p){e||(ut(o,p),e=!0)},o(p){dt(o,p),e=!1},d(p){p&&X(f),o&&o.d(p),g[7](null),s=!1,ae(n)}}}function or(g,f,t){let{$$slots:u={},$$scope:a}=f,{name:e}=f,s,n=!1;const r=()=>{n?setTimeout(()=>s.close(),200):s.show(),t(2,n=!n)},o=()=>{setTimeout(()=>s.close(),200),t(2,n=!1)};function p(h){At[h?"unshift":"push"](()=>{s=h,t(1,s)})}return g.$$set=h=>{"name"in h&&t(0,e=h.name),"$$scope"in h&&t(5,a=h.$$scope)},[e,s,n,r,o,a,u,p]}class Oe extends Ot{constructor(f){super(),$t(this,f,or,ar,It,{name:0})}}const lr=g=>({}),Fe=g=>({});function ur(g){let f,t,u,a,e;const s=g[1].icon,n=Vt(s,g,g[0],Fe),r=g[1].default,o=Vt(r,g,g[0],null);return{c(){f=ot("button"),n&&n.c(),t=wt(),o&&o.c(),this.h()},l(p){f=at(p,"BUTTON",{class:!0});var h=ht(f);n&&n.l(h),t=bt(h),o&&o.l(h),h.forEach(X),this.h()},h(){rt(f,"class","flex gap-2 hover:border-l-blue-600 hover:text-accent items-center px-4 py-2 transition min-w-32")},m(p,h){ft(p,f,h),n&&n.m(f,null),nt(f,t),o&&o.m(f,null),u=!0,a||(e=Rt(f,"click",g[2]),a=!0)},p(p,[h]){n&&n.p&&(!u||h&1)&&Gt(n,s,p,p[0],u?Yt(s,p[0],h,lr):Kt(p[0]),Fe),o&&o.p&&(!u||h&1)&&Gt(o,r,p,p[0],u?Yt(r,p[0],h,null):Kt(p[0]),null)},i(p){u||(ut(n,p),ut(o,p),u=!0)},o(p){dt(n,p),dt(o,p),u=!1},d(p){p&&X(f),n&&n.d(p),o&&o.d(p),a=!1,e()}}}function fr(g,f,t){let{$$slots:u={},$$scope:a}=f;function e(s){tr.call(this,g,s)}return g.$$set=s=>{"$$scope"in s&&t(0,a=s.$$scope)},[a,u,e]}class ve extends Ot{constructor(f){super(),$t(this,f,fr,ur,It,{})}}var de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cr(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}function In(g){if(g.__esModule)return g;var f=g.default;if(typeof f=="function"){var t=function u(){return this instanceof u?Reflect.construct(f,arguments,this.constructor):f.apply(this,arguments)};t.prototype=f.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(g).forEach(function(u){var a=Object.getOwnPropertyDescriptor(g,u);Object.defineProperty(t,u,a.get?a:{enumerable:!0,get:function(){return g[u]}})}),t}function he(g){throw new Error('Could not dynamically require "'+g+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ye={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(g,f){(function(t){g.exports=t()})(function(){return function t(u,a,e){function s(o,p){if(!a[o]){if(!u[o]){var h=typeof he=="function"&&he;if(!p&&h)return h(o,!0);if(n)return n(o,!0);var b=new Error("Cannot find module '"+o+"'");throw b.code="MODULE_NOT_FOUND",b}var d=a[o]={exports:{}};u[o][0].call(d.exports,function(w){var c=u[o][1][w];return s(c||w)},d,d.exports,t,u,a,e)}return a[o].exports}for(var n=typeof he=="function"&&he,r=0;r<e.length;r++)s(e[r]);return s}({1:[function(t,u,a){var e=t("./utils"),s=t("./support"),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(r){for(var o,p,h,b,d,w,c,_=[],m=0,k=r.length,C=k,x=e.getTypeOf(r)!=="string";m<r.length;)C=k-m,h=x?(o=r[m++],p=m<k?r[m++]:0,m<k?r[m++]:0):(o=r.charCodeAt(m++),p=m<k?r.charCodeAt(m++):0,m<k?r.charCodeAt(m++):0),b=o>>2,d=(3&o)<<4|p>>4,w=1<C?(15&p)<<2|h>>6:64,c=2<C?63&h:64,_.push(n.charAt(b)+n.charAt(d)+n.charAt(w)+n.charAt(c));return _.join("")},a.decode=function(r){var o,p,h,b,d,w,c=0,_=0,m="data:";if(r.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var k,C=3*(r=r.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(r.charAt(r.length-1)===n.charAt(64)&&C--,r.charAt(r.length-2)===n.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=s.uint8array?new Uint8Array(0|C):new Array(0|C);c<r.length;)o=n.indexOf(r.charAt(c++))<<2|(b=n.indexOf(r.charAt(c++)))>>4,p=(15&b)<<4|(d=n.indexOf(r.charAt(c++)))>>2,h=(3&d)<<6|(w=n.indexOf(r.charAt(c++))),k[_++]=o,d!==64&&(k[_++]=p),w!==64&&(k[_++]=h);return k}},{"./support":30,"./utils":32}],2:[function(t,u,a){var e=t("./external"),s=t("./stream/DataWorker"),n=t("./stream/Crc32Probe"),r=t("./stream/DataLengthProbe");function o(p,h,b,d,w){this.compressedSize=p,this.uncompressedSize=h,this.crc32=b,this.compression=d,this.compressedContent=w}o.prototype={getContentWorker:function(){var p=new s(e.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new r("data_length")),h=this;return p.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new s(e.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(p,h,b){return p.pipe(new n).pipe(new r("uncompressedSize")).pipe(h.compressWorker(b)).pipe(new r("compressedSize")).withStreamInfo("compression",h)},u.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,u,a){var e=t("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new e("STORE compression")},uncompressWorker:function(){return new e("STORE decompression")}},a.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,u,a){var e=t("./utils"),s=function(){for(var n,r=[],o=0;o<256;o++){n=o;for(var p=0;p<8;p++)n=1&n?3988292384^n>>>1:n>>>1;r[o]=n}return r}();u.exports=function(n,r){return n!==void 0&&n.length?e.getTypeOf(n)!=="string"?function(o,p,h,b){var d=s,w=b+h;o^=-1;for(var c=b;c<w;c++)o=o>>>8^d[255&(o^p[c])];return-1^o}(0|r,n,n.length,0):function(o,p,h,b){var d=s,w=b+h;o^=-1;for(var c=b;c<w;c++)o=o>>>8^d[255&(o^p.charCodeAt(c))];return-1^o}(0|r,n,n.length,0):0}},{"./utils":32}],5:[function(t,u,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(t,u,a){var e=null;e=typeof Promise<"u"?Promise:t("lie"),u.exports={Promise:e}},{lie:37}],7:[function(t,u,a){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),n=t("./utils"),r=t("./stream/GenericWorker"),o=e?"uint8array":"array";function p(h,b){r.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=b,this.meta={}}a.magic="\b\0",n.inherits(p,r),p.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(n.transformTo(o,h.data),!1)},p.prototype.flush=function(){r.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(b){h.push({data:b,meta:h.meta})}},a.compressWorker=function(h){return new p("Deflate",h)},a.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,u,a){function e(d,w){var c,_="";for(c=0;c<w;c++)_+=String.fromCharCode(255&d),d>>>=8;return _}function s(d,w,c,_,m,k){var C,x,A=d.file,F=d.compression,O=k!==o.utf8encode,B=n.transformTo("string",k(A.name)),T=n.transformTo("string",o.utf8encode(A.name)),N=A.comment,q=n.transformTo("string",k(N)),E=n.transformTo("string",o.utf8encode(N)),L=T.length!==A.name.length,l=E.length!==N.length,z="",G="",j="",Q=A.dir,W=A.date,et={crc32:0,compressedSize:0,uncompressedSize:0};w&&!c||(et.crc32=d.crc32,et.compressedSize=d.compressedSize,et.uncompressedSize=d.uncompressedSize);var R=0;w&&(R|=8),O||!L&&!l||(R|=2048);var $=0,tt=0;Q&&($|=16),m==="UNIX"?(tt=798,$|=function(V,_t){var zt=V;return V||(zt=_t?16893:33204),(65535&zt)<<16}(A.unixPermissions,Q)):(tt=20,$|=function(V){return 63&(V||0)}(A.dosPermissions)),C=W.getUTCHours(),C<<=6,C|=W.getUTCMinutes(),C<<=5,C|=W.getUTCSeconds()/2,x=W.getUTCFullYear()-1980,x<<=4,x|=W.getUTCMonth()+1,x<<=5,x|=W.getUTCDate(),L&&(G=e(1,1)+e(p(B),4)+T,z+="up"+e(G.length,2)+G),l&&(j=e(1,1)+e(p(q),4)+E,z+="uc"+e(j.length,2)+j);var K="";return K+=`
\0`,K+=e(R,2),K+=F.magic,K+=e(C,2),K+=e(x,2),K+=e(et.crc32,4),K+=e(et.compressedSize,4),K+=e(et.uncompressedSize,4),K+=e(B.length,2),K+=e(z.length,2),{fileRecord:h.LOCAL_FILE_HEADER+K+B+z,dirRecord:h.CENTRAL_FILE_HEADER+e(tt,2)+K+e(q.length,2)+"\0\0\0\0"+e($,4)+e(_,4)+B+z+q}}var n=t("../utils"),r=t("../stream/GenericWorker"),o=t("../utf8"),p=t("../crc32"),h=t("../signature");function b(d,w,c,_){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=c,this.encodeFileName=_,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(b,r),b.prototype.push=function(d){var w=d.meta.percent||0,c=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,r.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:c?(w+100*(c-_-1))/c:100}}))},b.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var w=this.streamFiles&&!d.file.dir;if(w){var c=s(d,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(d){this.accumulate=!1;var w=this.streamFiles&&!d.file.dir,c=s(d,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),w)this.push({data:function(_){return h.DATA_DESCRIPTOR+e(_.crc32,4)+e(_.compressedSize,4)+e(_.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var d=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var c=this.bytesWritten-d,_=function(m,k,C,x,A){var F=n.transformTo("string",A(x));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+e(m,2)+e(m,2)+e(k,4)+e(C,4)+e(F.length,2)+F}(this.dirRecords.length,c,d,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(d){this._sources.push(d);var w=this;return d.on("data",function(c){w.processChunk(c)}),d.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),d.on("error",function(c){w.error(c)}),this},b.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(d){var w=this._sources;if(!r.prototype.error.call(this,d))return!1;for(var c=0;c<w.length;c++)try{w[c].error(d)}catch{}return!0},b.prototype.lock=function(){r.prototype.lock.call(this);for(var d=this._sources,w=0;w<d.length;w++)d[w].lock()},u.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,u,a){var e=t("../compressions"),s=t("./ZipFileWorker");a.generateWorker=function(n,r,o){var p=new s(r.streamFiles,o,r.platform,r.encodeFileName),h=0;try{n.forEach(function(b,d){h++;var w=function(k,C){var x=k||C,A=e[x];if(!A)throw new Error(x+" is not a valid compression method !");return A}(d.options.compression,r.compression),c=d.options.compressionOptions||r.compressionOptions||{},_=d.dir,m=d.date;d._compressWorker(w,c).withStreamInfo("file",{name:b,dir:_,date:m,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(p)}),p.entriesCount=h}catch(b){p.error(b)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,u,a){function e(){if(!(this instanceof e))return new e;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new e;for(var n in this)typeof this[n]!="function"&&(s[n]=this[n]);return s}}(e.prototype=t("./object")).loadAsync=t("./load"),e.support=t("./support"),e.defaults=t("./defaults"),e.version="3.10.1",e.loadAsync=function(s,n){return new e().loadAsync(s,n)},e.external=t("./external"),u.exports=e},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,u,a){var e=t("./utils"),s=t("./external"),n=t("./utf8"),r=t("./zipEntries"),o=t("./stream/Crc32Probe"),p=t("./nodejsUtils");function h(b){return new s.Promise(function(d,w){var c=b.decompressed.getContentWorker().pipe(new o);c.on("error",function(_){w(_)}).on("end",function(){c.streamInfo.crc32!==b.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}u.exports=function(b,d){var w=this;return d=e.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),p.isNode&&p.isStream(b)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):e.prepareContent("the loaded zip file",b,!0,d.optimizedBinaryString,d.base64).then(function(c){var _=new r(d);return _.load(c),_}).then(function(c){var _=[s.Promise.resolve(c)],m=c.files;if(d.checkCRC32)for(var k=0;k<m.length;k++)_.push(h(m[k]));return s.Promise.all(_)}).then(function(c){for(var _=c.shift(),m=_.files,k=0;k<m.length;k++){var C=m[k],x=C.fileNameStr,A=e.resolve(C.fileNameStr);w.file(A,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:d.createFolders}),C.dir||(w.file(A).unsafeOriginalName=x)}return _.zipComment.length&&(w.comment=_.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,u,a){var e=t("../utils"),s=t("../stream/GenericWorker");function n(r,o){s.call(this,"Nodejs stream input adapter for "+r),this._upstreamEnded=!1,this._bindStream(o)}e.inherits(n,s),n.prototype._bindStream=function(r){var o=this;(this._stream=r).pause(),r.on("data",function(p){o.push({data:p,meta:{percent:0}})}).on("error",function(p){o.isPaused?this.generatedError=p:o.error(p)}).on("end",function(){o.isPaused?o._upstreamEnded=!0:o.end()})},n.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},n.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},u.exports=n},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,u,a){var e=t("readable-stream").Readable;function s(n,r,o){e.call(this,r),this._helper=n;var p=this;n.on("data",function(h,b){p.push(h)||p._helper.pause(),o&&o(b)}).on("error",function(h){p.emit("error",h)}).on("end",function(){p.push(null)})}t("../utils").inherits(s,e),s.prototype._read=function(){this._helper.resume()},u.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,u,a){u.exports={isNode:typeof Buffer<"u",newBufferFrom:function(e,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,s);if(typeof e=="number")throw new Error('The "data" argument must not be a number');return new Buffer(e,s)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var s=new Buffer(e);return s.fill(0),s},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&typeof e.on=="function"&&typeof e.pause=="function"&&typeof e.resume=="function"}}},{}],15:[function(t,u,a){function e(A,F,O){var B,T=n.getTypeOf(F),N=n.extend(O||{},p);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(A=m(A)),N.createFolders&&(B=_(A))&&k.call(this,B,!0);var q=T==="string"&&N.binary===!1&&N.base64===!1;O&&O.binary!==void 0||(N.binary=!q),(F instanceof h&&F.uncompressedSize===0||N.dir||!F||F.length===0)&&(N.base64=!1,N.binary=!0,F="",N.compression="STORE",T="string");var E=null;E=F instanceof h||F instanceof r?F:w.isNode&&w.isStream(F)?new c(A,F):n.prepareContent(A,F,N.binary,N.optimizedBinaryString,N.base64);var L=new b(A,E,N);this.files[A]=L}var s=t("./utf8"),n=t("./utils"),r=t("./stream/GenericWorker"),o=t("./stream/StreamHelper"),p=t("./defaults"),h=t("./compressedObject"),b=t("./zipObject"),d=t("./generate"),w=t("./nodejsUtils"),c=t("./nodejs/NodejsStreamInputAdapter"),_=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var F=A.lastIndexOf("/");return 0<F?A.substring(0,F):""},m=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},k=function(A,F){return F=F!==void 0?F:p.createFolders,A=m(A),this.files[A]||e.call(this,A,null,{dir:!0,createFolders:F}),this.files[A]};function C(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var F,O,B;for(F in this.files)B=this.files[F],(O=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&A(O,B)},filter:function(A){var F=[];return this.forEach(function(O,B){A(O,B)&&F.push(B)}),F},file:function(A,F,O){if(arguments.length!==1)return A=this.root+A,e.call(this,A,F,O),this;if(C(A)){var B=A;return this.filter(function(N,q){return!q.dir&&B.test(N)})}var T=this.files[this.root+A];return T&&!T.dir?T:null},folder:function(A){if(!A)return this;if(C(A))return this.filter(function(T,N){return N.dir&&A.test(T)});var F=this.root+A,O=k.call(this,F),B=this.clone();return B.root=O.name,B},remove:function(A){A=this.root+A;var F=this.files[A];if(F||(A.slice(-1)!=="/"&&(A+="/"),F=this.files[A]),F&&!F.dir)delete this.files[A];else for(var O=this.filter(function(T,N){return N.name.slice(0,A.length)===A}),B=0;B<O.length;B++)delete this.files[O[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var F,O={};try{if((O=n.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");n.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var B=O.comment||this.comment||"";F=d.generateWorker(this,O,B)}catch(T){(F=new r("error")).error(T)}return new o(F,O.type||"string",O.mimeType)},generateAsync:function(A,F){return this.generateInternalStream(A).accumulate(F)},generateNodeStream:function(A,F){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(F)}};u.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,u,a){u.exports=t("stream")},{stream:void 0}],17:[function(t,u,a){var e=t("./DataReader");function s(n){e.call(this,n);for(var r=0;r<this.data.length;r++)n[r]=255&n[r]}t("../utils").inherits(s,e),s.prototype.byteAt=function(n){return this.data[this.zero+n]},s.prototype.lastIndexOfSignature=function(n){for(var r=n.charCodeAt(0),o=n.charCodeAt(1),p=n.charCodeAt(2),h=n.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===r&&this.data[b+1]===o&&this.data[b+2]===p&&this.data[b+3]===h)return b-this.zero;return-1},s.prototype.readAndCheckSignature=function(n){var r=n.charCodeAt(0),o=n.charCodeAt(1),p=n.charCodeAt(2),h=n.charCodeAt(3),b=this.readData(4);return r===b[0]&&o===b[1]&&p===b[2]&&h===b[3]},s.prototype.readData=function(n){if(this.checkOffset(n),n===0)return[];var r=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,r},u.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,u,a){var e=t("../utils");function s(n){this.data=n,this.length=n.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(n){this.checkIndex(this.index+n)},checkIndex:function(n){if(this.length<this.zero+n||n<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+n+"). Corrupted zip ?")},setIndex:function(n){this.checkIndex(n),this.index=n},skip:function(n){this.setIndex(this.index+n)},byteAt:function(){},readInt:function(n){var r,o=0;for(this.checkOffset(n),r=this.index+n-1;r>=this.index;r--)o=(o<<8)+this.byteAt(r);return this.index+=n,o},readString:function(n){return e.transformTo("string",this.readData(n))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var n=this.readInt(4);return new Date(Date.UTC(1980+(n>>25&127),(n>>21&15)-1,n>>16&31,n>>11&31,n>>5&63,(31&n)<<1))}},u.exports=s},{"../utils":32}],19:[function(t,u,a){var e=t("./Uint8ArrayReader");function s(n){e.call(this,n)}t("../utils").inherits(s,e),s.prototype.readData=function(n){this.checkOffset(n);var r=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,r},u.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,u,a){var e=t("./DataReader");function s(n){e.call(this,n)}t("../utils").inherits(s,e),s.prototype.byteAt=function(n){return this.data.charCodeAt(this.zero+n)},s.prototype.lastIndexOfSignature=function(n){return this.data.lastIndexOf(n)-this.zero},s.prototype.readAndCheckSignature=function(n){return n===this.readData(4)},s.prototype.readData=function(n){this.checkOffset(n);var r=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,r},u.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,u,a){var e=t("./ArrayReader");function s(n){e.call(this,n)}t("../utils").inherits(s,e),s.prototype.readData=function(n){if(this.checkOffset(n),n===0)return new Uint8Array(0);var r=this.data.subarray(this.zero+this.index,this.zero+this.index+n);return this.index+=n,r},u.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,u,a){var e=t("../utils"),s=t("../support"),n=t("./ArrayReader"),r=t("./StringReader"),o=t("./NodeBufferReader"),p=t("./Uint8ArrayReader");u.exports=function(h){var b=e.getTypeOf(h);return e.checkSupport(b),b!=="string"||s.uint8array?b==="nodebuffer"?new o(h):s.uint8array?new p(e.transformTo("uint8array",h)):new n(e.transformTo("array",h)):new r(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,u,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,u,a){var e=t("./GenericWorker"),s=t("../utils");function n(r){e.call(this,"ConvertWorker to "+r),this.destType=r}s.inherits(n,e),n.prototype.processChunk=function(r){this.push({data:s.transformTo(this.destType,r.data),meta:r.meta})},u.exports=n},{"../utils":32,"./GenericWorker":28}],25:[function(t,u,a){var e=t("./GenericWorker"),s=t("../crc32");function n(){e.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(n,e),n.prototype.processChunk=function(r){this.streamInfo.crc32=s(r.data,this.streamInfo.crc32||0),this.push(r)},u.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,u,a){var e=t("../utils"),s=t("./GenericWorker");function n(r){s.call(this,"DataLengthProbe for "+r),this.propName=r,this.withStreamInfo(r,0)}e.inherits(n,s),n.prototype.processChunk=function(r){if(r){var o=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=o+r.data.length}s.prototype.processChunk.call(this,r)},u.exports=n},{"../utils":32,"./GenericWorker":28}],27:[function(t,u,a){var e=t("../utils"),s=t("./GenericWorker");function n(r){s.call(this,"DataWorker");var o=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,r.then(function(p){o.dataIsReady=!0,o.data=p,o.max=p&&p.length||0,o.type=e.getTypeOf(p),o.isPaused||o._tickAndRepeat()},function(p){o.error(p)})}e.inherits(n,s),n.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,e.delay(this._tickAndRepeat,[],this)),!0)},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(e.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var r=null,o=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":r=this.data.substring(this.index,o);break;case"uint8array":r=this.data.subarray(this.index,o);break;case"array":case"nodebuffer":r=this.data.slice(this.index,o)}return this.index=o,this.push({data:r,meta:{percent:this.max?this.index/this.max*100:0}})},u.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(t,u,a){function e(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}e.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,n){return this._listeners[s].push(n),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,n){if(this._listeners[s])for(var r=0;r<this._listeners[s].length;r++)this._listeners[s][r].call(this,n)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var n=this;return s.on("data",function(r){n.processChunk(r)}),s.on("end",function(){n.end()}),s.on("error",function(r){n.error(r)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,n){return this.extraStreamInfo[s]=n,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},u.exports=e},{}],29:[function(t,u,a){var e=t("../utils"),s=t("./ConvertWorker"),n=t("./GenericWorker"),r=t("../base64"),o=t("../support"),p=t("../external"),h=null;if(o.nodestream)try{h=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(w,c){return new p.Promise(function(_,m){var k=[],C=w._internalType,x=w._outputType,A=w._mimeType;w.on("data",function(F,O){k.push(F),c&&c(O)}).on("error",function(F){k=[],m(F)}).on("end",function(){try{var F=function(O,B,T){switch(O){case"blob":return e.newBlob(e.transformTo("arraybuffer",B),T);case"base64":return r.encode(B);default:return e.transformTo(O,B)}}(x,function(O,B){var T,N=0,q=null,E=0;for(T=0;T<B.length;T++)E+=B[T].length;switch(O){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(q=new Uint8Array(E),T=0;T<B.length;T++)q.set(B[T],N),N+=B[T].length;return q;case"nodebuffer":return Buffer.concat(B);default:throw new Error("concat : unsupported type '"+O+"'")}}(C,k),A);_(F)}catch(O){m(O)}k=[]}).resume()})}function d(w,c,_){var m=c;switch(c){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=c,this._mimeType=_,e.checkSupport(m),this._worker=w.pipe(new s(m)),w.lock()}catch(k){this._worker=new n("error"),this._worker.error(k)}}d.prototype={accumulate:function(w){return b(this,w)},on:function(w,c){var _=this;return w==="data"?this._worker.on(w,function(m){c.call(_,m.data,m.meta)}):this._worker.on(w,function(){e.delay(c,arguments,_)}),this},resume:function(){return e.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(e.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},w)}},u.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,u,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var e=new ArrayBuffer(0);try{a.blob=new Blob([e],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(e),a.blob=s.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!t("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(t,u,a){for(var e=t("./utils"),s=t("./support"),n=t("./nodejsUtils"),r=t("./stream/GenericWorker"),o=new Array(256),p=0;p<256;p++)o[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;o[254]=o[254]=1;function h(){r.call(this,"utf-8 decode"),this.leftOver=null}function b(){r.call(this,"utf-8 encode")}a.utf8encode=function(d){return s.nodebuffer?n.newBufferFrom(d,"utf-8"):function(w){var c,_,m,k,C,x=w.length,A=0;for(k=0;k<x;k++)(64512&(_=w.charCodeAt(k)))==55296&&k+1<x&&(64512&(m=w.charCodeAt(k+1)))==56320&&(_=65536+(_-55296<<10)+(m-56320),k++),A+=_<128?1:_<2048?2:_<65536?3:4;for(c=s.uint8array?new Uint8Array(A):new Array(A),k=C=0;C<A;k++)(64512&(_=w.charCodeAt(k)))==55296&&k+1<x&&(64512&(m=w.charCodeAt(k+1)))==56320&&(_=65536+(_-55296<<10)+(m-56320),k++),_<128?c[C++]=_:(_<2048?c[C++]=192|_>>>6:(_<65536?c[C++]=224|_>>>12:(c[C++]=240|_>>>18,c[C++]=128|_>>>12&63),c[C++]=128|_>>>6&63),c[C++]=128|63&_);return c}(d)},a.utf8decode=function(d){return s.nodebuffer?e.transformTo("nodebuffer",d).toString("utf-8"):function(w){var c,_,m,k,C=w.length,x=new Array(2*C);for(c=_=0;c<C;)if((m=w[c++])<128)x[_++]=m;else if(4<(k=o[m]))x[_++]=65533,c+=k-1;else{for(m&=k===2?31:k===3?15:7;1<k&&c<C;)m=m<<6|63&w[c++],k--;1<k?x[_++]=65533:m<65536?x[_++]=m:(m-=65536,x[_++]=55296|m>>10&1023,x[_++]=56320|1023&m)}return x.length!==_&&(x.subarray?x=x.subarray(0,_):x.length=_),e.applyFromCharCode(x)}(d=e.transformTo(s.uint8array?"uint8array":"array",d))},e.inherits(h,r),h.prototype.processChunk=function(d){var w=e.transformTo(s.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var c=w;(w=new Uint8Array(c.length+this.leftOver.length)).set(this.leftOver,0),w.set(c,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var _=function(k,C){var x;for((C=C||k.length)>k.length&&(C=k.length),x=C-1;0<=x&&(192&k[x])==128;)x--;return x<0||x===0?C:x+o[k[x]]>C?x:C}(w),m=w;_!==w.length&&(s.uint8array?(m=w.subarray(0,_),this.leftOver=w.subarray(_,w.length)):(m=w.slice(0,_),this.leftOver=w.slice(_,w.length))),this.push({data:a.utf8decode(m),meta:d.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=h,e.inherits(b,r),b.prototype.processChunk=function(d){this.push({data:a.utf8encode(d.data),meta:d.meta})},a.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,u,a){var e=t("./support"),s=t("./base64"),n=t("./nodejsUtils"),r=t("./external");function o(c){return c}function p(c,_){for(var m=0;m<c.length;++m)_[m]=255&c.charCodeAt(m);return _}t("setimmediate"),a.newBlob=function(c,_){a.checkSupport("blob");try{return new Blob([c],{type:_})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(c),m.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(c,_,m){var k=[],C=0,x=c.length;if(x<=m)return String.fromCharCode.apply(null,c);for(;C<x;)_==="array"||_==="nodebuffer"?k.push(String.fromCharCode.apply(null,c.slice(C,Math.min(C+m,x)))):k.push(String.fromCharCode.apply(null,c.subarray(C,Math.min(C+m,x)))),C+=m;return k.join("")},stringifyByChar:function(c){for(var _="",m=0;m<c.length;m++)_+=String.fromCharCode(c[m]);return _},applyCanBeUsed:{uint8array:function(){try{return e.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return e.nodebuffer&&String.fromCharCode.apply(null,n.allocBuffer(1)).length===1}catch{return!1}}()}};function b(c){var _=65536,m=a.getTypeOf(c),k=!0;if(m==="uint8array"?k=h.applyCanBeUsed.uint8array:m==="nodebuffer"&&(k=h.applyCanBeUsed.nodebuffer),k)for(;1<_;)try{return h.stringifyByChunk(c,m,_)}catch{_=Math.floor(_/2)}return h.stringifyByChar(c)}function d(c,_){for(var m=0;m<c.length;m++)_[m]=c[m];return _}a.applyFromCharCode=b;var w={};w.string={string:o,array:function(c){return p(c,new Array(c.length))},arraybuffer:function(c){return w.string.uint8array(c).buffer},uint8array:function(c){return p(c,new Uint8Array(c.length))},nodebuffer:function(c){return p(c,n.allocBuffer(c.length))}},w.array={string:b,array:o,arraybuffer:function(c){return new Uint8Array(c).buffer},uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return n.newBufferFrom(c)}},w.arraybuffer={string:function(c){return b(new Uint8Array(c))},array:function(c){return d(new Uint8Array(c),new Array(c.byteLength))},arraybuffer:o,uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return n.newBufferFrom(new Uint8Array(c))}},w.uint8array={string:b,array:function(c){return d(c,new Array(c.length))},arraybuffer:function(c){return c.buffer},uint8array:o,nodebuffer:function(c){return n.newBufferFrom(c)}},w.nodebuffer={string:b,array:function(c){return d(c,new Array(c.length))},arraybuffer:function(c){return w.nodebuffer.uint8array(c).buffer},uint8array:function(c){return d(c,new Uint8Array(c.length))},nodebuffer:o},a.transformTo=function(c,_){if(_=_||"",!c)return _;a.checkSupport(c);var m=a.getTypeOf(_);return w[m][c](_)},a.resolve=function(c){for(var _=c.split("/"),m=[],k=0;k<_.length;k++){var C=_[k];C==="."||C===""&&k!==0&&k!==_.length-1||(C===".."?m.pop():m.push(C))}return m.join("/")},a.getTypeOf=function(c){return typeof c=="string"?"string":Object.prototype.toString.call(c)==="[object Array]"?"array":e.nodebuffer&&n.isBuffer(c)?"nodebuffer":e.uint8array&&c instanceof Uint8Array?"uint8array":e.arraybuffer&&c instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(c){if(!e[c.toLowerCase()])throw new Error(c+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(c){var _,m,k="";for(m=0;m<(c||"").length;m++)k+="\\x"+((_=c.charCodeAt(m))<16?"0":"")+_.toString(16).toUpperCase();return k},a.delay=function(c,_,m){setImmediate(function(){c.apply(m||null,_||[])})},a.inherits=function(c,_){function m(){}m.prototype=_.prototype,c.prototype=new m},a.extend=function(){var c,_,m={};for(c=0;c<arguments.length;c++)for(_ in arguments[c])Object.prototype.hasOwnProperty.call(arguments[c],_)&&m[_]===void 0&&(m[_]=arguments[c][_]);return m},a.prepareContent=function(c,_,m,k,C){return r.Promise.resolve(_).then(function(x){return e.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new r.Promise(function(A,F){var O=new FileReader;O.onload=function(B){A(B.target.result)},O.onerror=function(B){F(B.target.error)},O.readAsArrayBuffer(x)}):x}).then(function(x){var A=a.getTypeOf(x);return A?(A==="arraybuffer"?x=a.transformTo("uint8array",x):A==="string"&&(C?x=s.decode(x):m&&k!==!0&&(x=function(F){return p(F,e.uint8array?new Uint8Array(F.length):new Array(F.length))}(x))),x):r.Promise.reject(new Error("Can't read the data of '"+c+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,u,a){var e=t("./reader/readerFor"),s=t("./utils"),n=t("./signature"),r=t("./zipEntry"),o=t("./support");function p(h){this.files=[],this.loadOptions=h}p.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(b)+", expected "+s.pretty(h)+")")}},isSignature:function(h,b){var d=this.reader.index;this.reader.setIndex(h);var w=this.reader.readString(4)===b;return this.reader.setIndex(d),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),b=o.uint8array?"uint8array":"array",d=s.transformTo(b,h);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,b,d,w=this.zip64EndOfCentralSize-44;0<w;)h=this.reader.readInt(2),b=this.reader.readInt(4),d=this.reader.readData(b),this.zip64ExtensibleData[h]={id:h,length:b,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,b;for(h=0;h<this.files.length;h++)b=this.files[h],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(n.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(n.CENTRAL_FILE_HEADER);)(h=new r({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(n.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,n.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var b=h;if(this.checkSignature(n.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,n.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var w=b-d;if(0<w)this.isSignature(b,n.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(h){this.reader=e(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},u.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,u,a){var e=t("./reader/readerFor"),s=t("./utils"),n=t("./compressedObject"),r=t("./crc32"),o=t("./utf8"),p=t("./compressions"),h=t("./support");function b(d,w){this.options=d,this.loadOptions=w}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var w,c;if(d.skip(22),this.fileNameLength=d.readInt(2),c=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(c),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(_){for(var m in p)if(Object.prototype.hasOwnProperty.call(p,m)&&p[m].magic===_)return p[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,w,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var w=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(w),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=e(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var w,c,_,m=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<m;)w=d.readInt(2),c=d.readInt(2),_=d.readData(c),this.extraFields[w]={id:w,length:c,value:_};d.setIndex(m)},handleUTF8:function(){var d=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var c=s.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var m=s.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var w=e(d.value);return w.readInt(1)!==1||r(this.fileName)!==w.readInt(4)?null:o.utf8decode(w.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var w=e(d.value);return w.readInt(1)!==1||r(this.fileComment)!==w.readInt(4)?null:o.utf8decode(w.readData(d.length-5))}return null}},u.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,u,a){function e(w,c,_){this.name=w,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=c,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var s=t("./stream/StreamHelper"),n=t("./stream/DataWorker"),r=t("./utf8"),o=t("./compressedObject"),p=t("./stream/GenericWorker");e.prototype={internalStream:function(w){var c=null,_="string";try{if(!w)throw new Error("No output type specified.");var m=(_=w.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),c=this._decompressWorker();var k=!this._dataBinary;k&&!m&&(c=c.pipe(new r.Utf8EncodeWorker)),!k&&m&&(c=c.pipe(new r.Utf8DecodeWorker))}catch(C){(c=new p("error")).error(C)}return new s(c,_,"")},async:function(w,c){return this.internalStream(w).accumulate(c)},nodeStream:function(w,c){return this.internalStream(w||"nodebuffer").toNodejsStream(c)},_compressWorker:function(w,c){if(this._data instanceof o&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new r.Utf8EncodeWorker)),o.createWorkerFrom(_,w,c)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof p?this._data:new n(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<h.length;d++)e.prototype[h[d]]=b;u.exports=e},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,u,a){(function(e){var s,n,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,p=new r(w),h=e.document.createTextNode("");p.observe(h,{characterData:!0}),s=function(){h.data=o=++o%2}}else if(e.setImmediate||e.MessageChannel===void 0)s="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var c=e.document.createElement("script");c.onreadystatechange=function(){w(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},e.document.documentElement.appendChild(c)}:function(){setTimeout(w,0)};else{var b=new e.MessageChannel;b.port1.onmessage=w,s=function(){b.port2.postMessage(0)}}var d=[];function w(){var c,_;n=!0;for(var m=d.length;m;){for(_=d,d=[],c=-1;++c<m;)_[c]();m=d.length}n=!1}u.exports=function(c){d.push(c)!==1||n||s()}}).call(this,typeof de<"u"?de:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,u,a){var e=t("immediate");function s(){}var n={},r=["REJECTED"],o=["FULFILLED"],p=["PENDING"];function h(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,m!==s&&c(this,m)}function b(m,k,C){this.promise=m,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function d(m,k,C){e(function(){var x;try{x=k(C)}catch(A){return n.reject(m,A)}x===m?n.reject(m,new TypeError("Cannot resolve promise with itself")):n.resolve(m,x)})}function w(m){var k=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof k=="function")return function(){k.apply(m,arguments)}}function c(m,k){var C=!1;function x(O){C||(C=!0,n.reject(m,O))}function A(O){C||(C=!0,n.resolve(m,O))}var F=_(function(){k(A,x)});F.status==="error"&&x(F.value)}function _(m,k){var C={};try{C.value=m(k),C.status="success"}catch(x){C.status="error",C.value=x}return C}(u.exports=h).prototype.finally=function(m){if(typeof m!="function")return this;var k=this.constructor;return this.then(function(C){return k.resolve(m()).then(function(){return C})},function(C){return k.resolve(m()).then(function(){throw C})})},h.prototype.catch=function(m){return this.then(null,m)},h.prototype.then=function(m,k){if(typeof m!="function"&&this.state===o||typeof k!="function"&&this.state===r)return this;var C=new this.constructor(s);return this.state!==p?d(C,this.state===o?m:k,this.outcome):this.queue.push(new b(C,m,k)),C},b.prototype.callFulfilled=function(m){n.resolve(this.promise,m)},b.prototype.otherCallFulfilled=function(m){d(this.promise,this.onFulfilled,m)},b.prototype.callRejected=function(m){n.reject(this.promise,m)},b.prototype.otherCallRejected=function(m){d(this.promise,this.onRejected,m)},n.resolve=function(m,k){var C=_(w,k);if(C.status==="error")return n.reject(m,C.value);var x=C.value;if(x)c(m,x);else{m.state=o,m.outcome=k;for(var A=-1,F=m.queue.length;++A<F;)m.queue[A].callFulfilled(k)}return m},n.reject=function(m,k){m.state=r,m.outcome=k;for(var C=-1,x=m.queue.length;++C<x;)m.queue[C].callRejected(k);return m},h.resolve=function(m){return m instanceof this?m:n.resolve(new this(s),m)},h.reject=function(m){var k=new this(s);return n.reject(k,m)},h.all=function(m){var k=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=m.length,x=!1;if(!C)return this.resolve([]);for(var A=new Array(C),F=0,O=-1,B=new this(s);++O<C;)T(m[O],O);return B;function T(N,q){k.resolve(N).then(function(E){A[q]=E,++F!==C||x||(x=!0,n.resolve(B,A))},function(E){x||(x=!0,n.reject(B,E))})}},h.race=function(m){var k=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=m.length,x=!1;if(!C)return this.resolve([]);for(var A=-1,F=new this(s);++A<C;)O=m[A],k.resolve(O).then(function(B){x||(x=!0,n.resolve(F,B))},function(B){x||(x=!0,n.reject(F,B))});var O;return F}},{immediate:36}],38:[function(t,u,a){var e={};(0,t("./lib/utils/common").assign)(e,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),u.exports=e},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,u,a){var e=t("./zlib/deflate"),s=t("./utils/common"),n=t("./utils/strings"),r=t("./zlib/messages"),o=t("./zlib/zstream"),p=Object.prototype.toString,h=0,b=-1,d=0,w=8;function c(m){if(!(this instanceof c))return new c(m);this.options=s.assign({level:b,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},m||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var C=e.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(C!==h)throw new Error(r[C]);if(k.header&&e.deflateSetHeader(this.strm,k.header),k.dictionary){var x;if(x=typeof k.dictionary=="string"?n.string2buf(k.dictionary):p.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(C=e.deflateSetDictionary(this.strm,x))!==h)throw new Error(r[C]);this._dict_set=!0}}function _(m,k){var C=new c(k);if(C.push(m,!0),C.err)throw C.msg||r[C.err];return C.result}c.prototype.push=function(m,k){var C,x,A=this.strm,F=this.options.chunkSize;if(this.ended)return!1;x=k===~~k?k:k===!0?4:0,typeof m=="string"?A.input=n.string2buf(m):p.call(m)==="[object ArrayBuffer]"?A.input=new Uint8Array(m):A.input=m,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new s.Buf8(F),A.next_out=0,A.avail_out=F),(C=e.deflate(A,x))!==1&&C!==h)return this.onEnd(C),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(n.buf2binstring(s.shrinkBuf(A.output,A.next_out))):this.onData(s.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&C!==1);return x===4?(C=e.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===h):x!==2||(this.onEnd(h),!(A.avail_out=0))},c.prototype.onData=function(m){this.chunks.push(m)},c.prototype.onEnd=function(m){m===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},a.Deflate=c,a.deflate=_,a.deflateRaw=function(m,k){return(k=k||{}).raw=!0,_(m,k)},a.gzip=function(m,k){return(k=k||{}).gzip=!0,_(m,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,u,a){var e=t("./zlib/inflate"),s=t("./utils/common"),n=t("./utils/strings"),r=t("./zlib/constants"),o=t("./zlib/messages"),p=t("./zlib/zstream"),h=t("./zlib/gzheader"),b=Object.prototype.toString;function d(c){if(!(this instanceof d))return new d(c);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},c||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||c&&c.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&!(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var m=e.inflateInit2(this.strm,_.windowBits);if(m!==r.Z_OK)throw new Error(o[m]);this.header=new h,e.inflateGetHeader(this.strm,this.header)}function w(c,_){var m=new d(_);if(m.push(c,!0),m.err)throw m.msg||o[m.err];return m.result}d.prototype.push=function(c,_){var m,k,C,x,A,F,O=this.strm,B=this.options.chunkSize,T=this.options.dictionary,N=!1;if(this.ended)return!1;k=_===~~_?_:_===!0?r.Z_FINISH:r.Z_NO_FLUSH,typeof c=="string"?O.input=n.binstring2buf(c):b.call(c)==="[object ArrayBuffer]"?O.input=new Uint8Array(c):O.input=c,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new s.Buf8(B),O.next_out=0,O.avail_out=B),(m=e.inflate(O,r.Z_NO_FLUSH))===r.Z_NEED_DICT&&T&&(F=typeof T=="string"?n.string2buf(T):b.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,m=e.inflateSetDictionary(this.strm,F)),m===r.Z_BUF_ERROR&&N===!0&&(m=r.Z_OK,N=!1),m!==r.Z_STREAM_END&&m!==r.Z_OK)return this.onEnd(m),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&m!==r.Z_STREAM_END&&(O.avail_in!==0||k!==r.Z_FINISH&&k!==r.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=n.utf8border(O.output,O.next_out),x=O.next_out-C,A=n.buf2string(O.output,C),O.next_out=x,O.avail_out=B-x,x&&s.arraySet(O.output,O.output,C,x,0),this.onData(A)):this.onData(s.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(N=!0)}while((0<O.avail_in||O.avail_out===0)&&m!==r.Z_STREAM_END);return m===r.Z_STREAM_END&&(k=r.Z_FINISH),k===r.Z_FINISH?(m=e.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===r.Z_OK):k!==r.Z_SYNC_FLUSH||(this.onEnd(r.Z_OK),!(O.avail_out=0))},d.prototype.onData=function(c){this.chunks.push(c)},d.prototype.onEnd=function(c){c===r.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},a.Inflate=d,a.inflate=w,a.inflateRaw=function(c,_){return(_=_||{}).raw=!0,w(c,_)},a.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,u,a){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(r){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var p=o.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var h in p)p.hasOwnProperty(h)&&(r[h]=p[h])}}return r},a.shrinkBuf=function(r,o){return r.length===o?r:r.subarray?r.subarray(0,o):(r.length=o,r)};var s={arraySet:function(r,o,p,h,b){if(o.subarray&&r.subarray)r.set(o.subarray(p,p+h),b);else for(var d=0;d<h;d++)r[b+d]=o[p+d]},flattenChunks:function(r){var o,p,h,b,d,w;for(o=h=0,p=r.length;o<p;o++)h+=r[o].length;for(w=new Uint8Array(h),o=b=0,p=r.length;o<p;o++)d=r[o],w.set(d,b),b+=d.length;return w}},n={arraySet:function(r,o,p,h,b){for(var d=0;d<h;d++)r[b+d]=o[p+d]},flattenChunks:function(r){return[].concat.apply([],r)}};a.setTyped=function(r){r?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,s)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,n))},a.setTyped(e)},{}],42:[function(t,u,a){var e=t("./common"),s=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}for(var r=new e.Buf8(256),o=0;o<256;o++)r[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function p(h,b){if(b<65537&&(h.subarray&&n||!h.subarray&&s))return String.fromCharCode.apply(null,e.shrinkBuf(h,b));for(var d="",w=0;w<b;w++)d+=String.fromCharCode(h[w]);return d}r[254]=r[254]=1,a.string2buf=function(h){var b,d,w,c,_,m=h.length,k=0;for(c=0;c<m;c++)(64512&(d=h.charCodeAt(c)))==55296&&c+1<m&&(64512&(w=h.charCodeAt(c+1)))==56320&&(d=65536+(d-55296<<10)+(w-56320),c++),k+=d<128?1:d<2048?2:d<65536?3:4;for(b=new e.Buf8(k),c=_=0;_<k;c++)(64512&(d=h.charCodeAt(c)))==55296&&c+1<m&&(64512&(w=h.charCodeAt(c+1)))==56320&&(d=65536+(d-55296<<10)+(w-56320),c++),d<128?b[_++]=d:(d<2048?b[_++]=192|d>>>6:(d<65536?b[_++]=224|d>>>12:(b[_++]=240|d>>>18,b[_++]=128|d>>>12&63),b[_++]=128|d>>>6&63),b[_++]=128|63&d);return b},a.buf2binstring=function(h){return p(h,h.length)},a.binstring2buf=function(h){for(var b=new e.Buf8(h.length),d=0,w=b.length;d<w;d++)b[d]=h.charCodeAt(d);return b},a.buf2string=function(h,b){var d,w,c,_,m=b||h.length,k=new Array(2*m);for(d=w=0;d<m;)if((c=h[d++])<128)k[w++]=c;else if(4<(_=r[c]))k[w++]=65533,d+=_-1;else{for(c&=_===2?31:_===3?15:7;1<_&&d<m;)c=c<<6|63&h[d++],_--;1<_?k[w++]=65533:c<65536?k[w++]=c:(c-=65536,k[w++]=55296|c>>10&1023,k[w++]=56320|1023&c)}return p(k,w)},a.utf8border=function(h,b){var d;for((b=b||h.length)>h.length&&(b=h.length),d=b-1;0<=d&&(192&h[d])==128;)d--;return d<0||d===0?b:d+r[h[d]]>b?d:b}},{"./common":41}],43:[function(t,u,a){u.exports=function(e,s,n,r){for(var o=65535&e|0,p=e>>>16&65535|0,h=0;n!==0;){for(n-=h=2e3<n?2e3:n;p=p+(o=o+s[r++]|0)|0,--h;);o%=65521,p%=65521}return o|p<<16|0}},{}],44:[function(t,u,a){u.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,u,a){var e=function(){for(var s,n=[],r=0;r<256;r++){s=r;for(var o=0;o<8;o++)s=1&s?3988292384^s>>>1:s>>>1;n[r]=s}return n}();u.exports=function(s,n,r,o){var p=e,h=o+r;s^=-1;for(var b=o;b<h;b++)s=s>>>8^p[255&(s^n[b])];return-1^s}},{}],46:[function(t,u,a){var e,s=t("../utils/common"),n=t("./trees"),r=t("./adler32"),o=t("./crc32"),p=t("./messages"),h=0,b=4,d=0,w=-2,c=-1,_=4,m=2,k=8,C=9,x=286,A=30,F=19,O=2*x+1,B=15,T=3,N=258,q=N+T+1,E=42,L=113,l=1,z=2,G=3,j=4;function Q(i,P){return i.msg=p[P],P}function W(i){return(i<<1)-(4<i?9:0)}function et(i){for(var P=i.length;0<=--P;)i[P]=0}function R(i){var P=i.state,D=P.pending;D>i.avail_out&&(D=i.avail_out),D!==0&&(s.arraySet(i.output,P.pending_buf,P.pending_out,D,i.next_out),i.next_out+=D,P.pending_out+=D,i.total_out+=D,i.avail_out-=D,P.pending-=D,P.pending===0&&(P.pending_out=0))}function $(i,P){n._tr_flush_block(i,0<=i.block_start?i.block_start:-1,i.strstart-i.block_start,P),i.block_start=i.strstart,R(i.strm)}function tt(i,P){i.pending_buf[i.pending++]=P}function K(i,P){i.pending_buf[i.pending++]=P>>>8&255,i.pending_buf[i.pending++]=255&P}function V(i,P){var D,y,v=i.max_chain_length,S=i.strstart,M=i.prev_length,U=i.nice_match,I=i.strstart>i.w_size-q?i.strstart-(i.w_size-q):0,Z=i.window,Y=i.w_mask,H=i.prev,J=i.strstart+N,pt=Z[S+M-1],st=Z[S+M];i.prev_length>=i.good_match&&(v>>=2),U>i.lookahead&&(U=i.lookahead);do if(Z[(D=P)+M]===st&&Z[D+M-1]===pt&&Z[D]===Z[S]&&Z[++D]===Z[S+1]){S+=2,D++;do;while(Z[++S]===Z[++D]&&Z[++S]===Z[++D]&&Z[++S]===Z[++D]&&Z[++S]===Z[++D]&&Z[++S]===Z[++D]&&Z[++S]===Z[++D]&&Z[++S]===Z[++D]&&Z[++S]===Z[++D]&&S<J);if(y=N-(J-S),S=J-N,M<y){if(i.match_start=P,U<=(M=y))break;pt=Z[S+M-1],st=Z[S+M]}}while((P=H[P&Y])>I&&--v!=0);return M<=i.lookahead?M:i.lookahead}function _t(i){var P,D,y,v,S,M,U,I,Z,Y,H=i.w_size;do{if(v=i.window_size-i.lookahead-i.strstart,i.strstart>=H+(H-q)){for(s.arraySet(i.window,i.window,H,H,0),i.match_start-=H,i.strstart-=H,i.block_start-=H,P=D=i.hash_size;y=i.head[--P],i.head[P]=H<=y?y-H:0,--D;);for(P=D=H;y=i.prev[--P],i.prev[P]=H<=y?y-H:0,--D;);v+=H}if(i.strm.avail_in===0)break;if(M=i.strm,U=i.window,I=i.strstart+i.lookahead,Z=v,Y=void 0,Y=M.avail_in,Z<Y&&(Y=Z),D=Y===0?0:(M.avail_in-=Y,s.arraySet(U,M.input,M.next_in,Y,I),M.state.wrap===1?M.adler=r(M.adler,U,Y,I):M.state.wrap===2&&(M.adler=o(M.adler,U,Y,I)),M.next_in+=Y,M.total_in+=Y,Y),i.lookahead+=D,i.lookahead+i.insert>=T)for(S=i.strstart-i.insert,i.ins_h=i.window[S],i.ins_h=(i.ins_h<<i.hash_shift^i.window[S+1])&i.hash_mask;i.insert&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[S+T-1])&i.hash_mask,i.prev[S&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=S,S++,i.insert--,!(i.lookahead+i.insert<T)););}while(i.lookahead<q&&i.strm.avail_in!==0)}function zt(i,P){for(var D,y;;){if(i.lookahead<q){if(_t(i),i.lookahead<q&&P===h)return l;if(i.lookahead===0)break}if(D=0,i.lookahead>=T&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+T-1])&i.hash_mask,D=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),D!==0&&i.strstart-D<=i.w_size-q&&(i.match_length=V(i,D)),i.match_length>=T)if(y=n._tr_tally(i,i.strstart-i.match_start,i.match_length-T),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=T){for(i.match_length--;i.strstart++,i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+T-1])&i.hash_mask,D=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart,--i.match_length!=0;);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+1])&i.hash_mask;else y=n._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(y&&($(i,!1),i.strm.avail_out===0))return l}return i.insert=i.strstart<T-1?i.strstart:T-1,P===b?($(i,!0),i.strm.avail_out===0?G:j):i.last_lit&&($(i,!1),i.strm.avail_out===0)?l:z}function it(i,P){for(var D,y,v;;){if(i.lookahead<q){if(_t(i),i.lookahead<q&&P===h)return l;if(i.lookahead===0)break}if(D=0,i.lookahead>=T&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+T-1])&i.hash_mask,D=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=T-1,D!==0&&i.prev_length<i.max_lazy_match&&i.strstart-D<=i.w_size-q&&(i.match_length=V(i,D),i.match_length<=5&&(i.strategy===1||i.match_length===T&&4096<i.strstart-i.match_start)&&(i.match_length=T-1)),i.prev_length>=T&&i.match_length<=i.prev_length){for(v=i.strstart+i.lookahead-T,y=n._tr_tally(i,i.strstart-1-i.prev_match,i.prev_length-T),i.lookahead-=i.prev_length-1,i.prev_length-=2;++i.strstart<=v&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+T-1])&i.hash_mask,D=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),--i.prev_length!=0;);if(i.match_available=0,i.match_length=T-1,i.strstart++,y&&($(i,!1),i.strm.avail_out===0))return l}else if(i.match_available){if((y=n._tr_tally(i,0,i.window[i.strstart-1]))&&$(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return l}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(y=n._tr_tally(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<T-1?i.strstart:T-1,P===b?($(i,!0),i.strm.avail_out===0?G:j):i.last_lit&&($(i,!1),i.strm.avail_out===0)?l:z}function ct(i,P,D,y,v){this.good_length=i,this.max_lazy=P,this.nice_length=D,this.max_chain=y,this.func=v}function xt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*O),this.dyn_dtree=new s.Buf16(2*(2*A+1)),this.bl_tree=new s.Buf16(2*(2*F+1)),et(this.dyn_ltree),et(this.dyn_dtree),et(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(B+1),this.heap=new s.Buf16(2*x+1),et(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*x+1),et(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function gt(i){var P;return i&&i.state?(i.total_in=i.total_out=0,i.data_type=m,(P=i.state).pending=0,P.pending_out=0,P.wrap<0&&(P.wrap=-P.wrap),P.status=P.wrap?E:L,i.adler=P.wrap===2?0:1,P.last_flush=h,n._tr_init(P),d):Q(i,w)}function Pt(i){var P=gt(i);return P===d&&function(D){D.window_size=2*D.w_size,et(D.head),D.max_lazy_match=e[D.level].max_lazy,D.good_match=e[D.level].good_length,D.nice_match=e[D.level].nice_length,D.max_chain_length=e[D.level].max_chain,D.strstart=0,D.block_start=0,D.lookahead=0,D.insert=0,D.match_length=D.prev_length=T-1,D.match_available=0,D.ins_h=0}(i.state),P}function Dt(i,P,D,y,v,S){if(!i)return w;var M=1;if(P===c&&(P=6),y<0?(M=0,y=-y):15<y&&(M=2,y-=16),v<1||C<v||D!==k||y<8||15<y||P<0||9<P||S<0||_<S)return Q(i,w);y===8&&(y=9);var U=new xt;return(i.state=U).strm=i,U.wrap=M,U.gzhead=null,U.w_bits=y,U.w_size=1<<U.w_bits,U.w_mask=U.w_size-1,U.hash_bits=v+7,U.hash_size=1<<U.hash_bits,U.hash_mask=U.hash_size-1,U.hash_shift=~~((U.hash_bits+T-1)/T),U.window=new s.Buf8(2*U.w_size),U.head=new s.Buf16(U.hash_size),U.prev=new s.Buf16(U.w_size),U.lit_bufsize=1<<v+6,U.pending_buf_size=4*U.lit_bufsize,U.pending_buf=new s.Buf8(U.pending_buf_size),U.d_buf=1*U.lit_bufsize,U.l_buf=3*U.lit_bufsize,U.level=P,U.strategy=S,U.method=D,Pt(i)}e=[new ct(0,0,0,0,function(i,P){var D=65535;for(D>i.pending_buf_size-5&&(D=i.pending_buf_size-5);;){if(i.lookahead<=1){if(_t(i),i.lookahead===0&&P===h)return l;if(i.lookahead===0)break}i.strstart+=i.lookahead,i.lookahead=0;var y=i.block_start+D;if((i.strstart===0||i.strstart>=y)&&(i.lookahead=i.strstart-y,i.strstart=y,$(i,!1),i.strm.avail_out===0)||i.strstart-i.block_start>=i.w_size-q&&($(i,!1),i.strm.avail_out===0))return l}return i.insert=0,P===b?($(i,!0),i.strm.avail_out===0?G:j):(i.strstart>i.block_start&&($(i,!1),i.strm.avail_out),l)}),new ct(4,4,8,4,zt),new ct(4,5,16,8,zt),new ct(4,6,32,32,zt),new ct(4,4,16,16,it),new ct(8,16,32,32,it),new ct(8,16,128,128,it),new ct(8,32,128,256,it),new ct(32,128,258,1024,it),new ct(32,258,258,4096,it)],a.deflateInit=function(i,P){return Dt(i,P,k,15,8,0)},a.deflateInit2=Dt,a.deflateReset=Pt,a.deflateResetKeep=gt,a.deflateSetHeader=function(i,P){return i&&i.state?i.state.wrap!==2?w:(i.state.gzhead=P,d):w},a.deflate=function(i,P){var D,y,v,S;if(!i||!i.state||5<P||P<0)return i?Q(i,w):w;if(y=i.state,!i.output||!i.input&&i.avail_in!==0||y.status===666&&P!==b)return Q(i,i.avail_out===0?-5:w);if(y.strm=i,D=y.last_flush,y.last_flush=P,y.status===E)if(y.wrap===2)i.adler=0,tt(y,31),tt(y,139),tt(y,8),y.gzhead?(tt(y,(y.gzhead.text?1:0)+(y.gzhead.hcrc?2:0)+(y.gzhead.extra?4:0)+(y.gzhead.name?8:0)+(y.gzhead.comment?16:0)),tt(y,255&y.gzhead.time),tt(y,y.gzhead.time>>8&255),tt(y,y.gzhead.time>>16&255),tt(y,y.gzhead.time>>24&255),tt(y,y.level===9?2:2<=y.strategy||y.level<2?4:0),tt(y,255&y.gzhead.os),y.gzhead.extra&&y.gzhead.extra.length&&(tt(y,255&y.gzhead.extra.length),tt(y,y.gzhead.extra.length>>8&255)),y.gzhead.hcrc&&(i.adler=o(i.adler,y.pending_buf,y.pending,0)),y.gzindex=0,y.status=69):(tt(y,0),tt(y,0),tt(y,0),tt(y,0),tt(y,0),tt(y,y.level===9?2:2<=y.strategy||y.level<2?4:0),tt(y,3),y.status=L);else{var M=k+(y.w_bits-8<<4)<<8;M|=(2<=y.strategy||y.level<2?0:y.level<6?1:y.level===6?2:3)<<6,y.strstart!==0&&(M|=32),M+=31-M%31,y.status=L,K(y,M),y.strstart!==0&&(K(y,i.adler>>>16),K(y,65535&i.adler)),i.adler=1}if(y.status===69)if(y.gzhead.extra){for(v=y.pending;y.gzindex<(65535&y.gzhead.extra.length)&&(y.pending!==y.pending_buf_size||(y.gzhead.hcrc&&y.pending>v&&(i.adler=o(i.adler,y.pending_buf,y.pending-v,v)),R(i),v=y.pending,y.pending!==y.pending_buf_size));)tt(y,255&y.gzhead.extra[y.gzindex]),y.gzindex++;y.gzhead.hcrc&&y.pending>v&&(i.adler=o(i.adler,y.pending_buf,y.pending-v,v)),y.gzindex===y.gzhead.extra.length&&(y.gzindex=0,y.status=73)}else y.status=73;if(y.status===73)if(y.gzhead.name){v=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>v&&(i.adler=o(i.adler,y.pending_buf,y.pending-v,v)),R(i),v=y.pending,y.pending===y.pending_buf_size)){S=1;break}S=y.gzindex<y.gzhead.name.length?255&y.gzhead.name.charCodeAt(y.gzindex++):0,tt(y,S)}while(S!==0);y.gzhead.hcrc&&y.pending>v&&(i.adler=o(i.adler,y.pending_buf,y.pending-v,v)),S===0&&(y.gzindex=0,y.status=91)}else y.status=91;if(y.status===91)if(y.gzhead.comment){v=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>v&&(i.adler=o(i.adler,y.pending_buf,y.pending-v,v)),R(i),v=y.pending,y.pending===y.pending_buf_size)){S=1;break}S=y.gzindex<y.gzhead.comment.length?255&y.gzhead.comment.charCodeAt(y.gzindex++):0,tt(y,S)}while(S!==0);y.gzhead.hcrc&&y.pending>v&&(i.adler=o(i.adler,y.pending_buf,y.pending-v,v)),S===0&&(y.status=103)}else y.status=103;if(y.status===103&&(y.gzhead.hcrc?(y.pending+2>y.pending_buf_size&&R(i),y.pending+2<=y.pending_buf_size&&(tt(y,255&i.adler),tt(y,i.adler>>8&255),i.adler=0,y.status=L)):y.status=L),y.pending!==0){if(R(i),i.avail_out===0)return y.last_flush=-1,d}else if(i.avail_in===0&&W(P)<=W(D)&&P!==b)return Q(i,-5);if(y.status===666&&i.avail_in!==0)return Q(i,-5);if(i.avail_in!==0||y.lookahead!==0||P!==h&&y.status!==666){var U=y.strategy===2?function(I,Z){for(var Y;;){if(I.lookahead===0&&(_t(I),I.lookahead===0)){if(Z===h)return l;break}if(I.match_length=0,Y=n._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++,Y&&($(I,!1),I.strm.avail_out===0))return l}return I.insert=0,Z===b?($(I,!0),I.strm.avail_out===0?G:j):I.last_lit&&($(I,!1),I.strm.avail_out===0)?l:z}(y,P):y.strategy===3?function(I,Z){for(var Y,H,J,pt,st=I.window;;){if(I.lookahead<=N){if(_t(I),I.lookahead<=N&&Z===h)return l;if(I.lookahead===0)break}if(I.match_length=0,I.lookahead>=T&&0<I.strstart&&(H=st[J=I.strstart-1])===st[++J]&&H===st[++J]&&H===st[++J]){pt=I.strstart+N;do;while(H===st[++J]&&H===st[++J]&&H===st[++J]&&H===st[++J]&&H===st[++J]&&H===st[++J]&&H===st[++J]&&H===st[++J]&&J<pt);I.match_length=N-(pt-J),I.match_length>I.lookahead&&(I.match_length=I.lookahead)}if(I.match_length>=T?(Y=n._tr_tally(I,1,I.match_length-T),I.lookahead-=I.match_length,I.strstart+=I.match_length,I.match_length=0):(Y=n._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++),Y&&($(I,!1),I.strm.avail_out===0))return l}return I.insert=0,Z===b?($(I,!0),I.strm.avail_out===0?G:j):I.last_lit&&($(I,!1),I.strm.avail_out===0)?l:z}(y,P):e[y.level].func(y,P);if(U!==G&&U!==j||(y.status=666),U===l||U===G)return i.avail_out===0&&(y.last_flush=-1),d;if(U===z&&(P===1?n._tr_align(y):P!==5&&(n._tr_stored_block(y,0,0,!1),P===3&&(et(y.head),y.lookahead===0&&(y.strstart=0,y.block_start=0,y.insert=0))),R(i),i.avail_out===0))return y.last_flush=-1,d}return P!==b?d:y.wrap<=0?1:(y.wrap===2?(tt(y,255&i.adler),tt(y,i.adler>>8&255),tt(y,i.adler>>16&255),tt(y,i.adler>>24&255),tt(y,255&i.total_in),tt(y,i.total_in>>8&255),tt(y,i.total_in>>16&255),tt(y,i.total_in>>24&255)):(K(y,i.adler>>>16),K(y,65535&i.adler)),R(i),0<y.wrap&&(y.wrap=-y.wrap),y.pending!==0?d:1)},a.deflateEnd=function(i){var P;return i&&i.state?(P=i.state.status)!==E&&P!==69&&P!==73&&P!==91&&P!==103&&P!==L&&P!==666?Q(i,w):(i.state=null,P===L?Q(i,-3):d):w},a.deflateSetDictionary=function(i,P){var D,y,v,S,M,U,I,Z,Y=P.length;if(!i||!i.state||(S=(D=i.state).wrap)===2||S===1&&D.status!==E||D.lookahead)return w;for(S===1&&(i.adler=r(i.adler,P,Y,0)),D.wrap=0,Y>=D.w_size&&(S===0&&(et(D.head),D.strstart=0,D.block_start=0,D.insert=0),Z=new s.Buf8(D.w_size),s.arraySet(Z,P,Y-D.w_size,D.w_size,0),P=Z,Y=D.w_size),M=i.avail_in,U=i.next_in,I=i.input,i.avail_in=Y,i.next_in=0,i.input=P,_t(D);D.lookahead>=T;){for(y=D.strstart,v=D.lookahead-(T-1);D.ins_h=(D.ins_h<<D.hash_shift^D.window[y+T-1])&D.hash_mask,D.prev[y&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=y,y++,--v;);D.strstart=y,D.lookahead=T-1,_t(D)}return D.strstart+=D.lookahead,D.block_start=D.strstart,D.insert=D.lookahead,D.lookahead=0,D.match_length=D.prev_length=T-1,D.match_available=0,i.next_in=U,i.input=I,i.avail_in=M,D.wrap=S,d},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,u,a){u.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,u,a){u.exports=function(e,s){var n,r,o,p,h,b,d,w,c,_,m,k,C,x,A,F,O,B,T,N,q,E,L,l,z;n=e.state,r=e.next_in,l=e.input,o=r+(e.avail_in-5),p=e.next_out,z=e.output,h=p-(s-e.avail_out),b=p+(e.avail_out-257),d=n.dmax,w=n.wsize,c=n.whave,_=n.wnext,m=n.window,k=n.hold,C=n.bits,x=n.lencode,A=n.distcode,F=(1<<n.lenbits)-1,O=(1<<n.distbits)-1;t:do{C<15&&(k+=l[r++]<<C,C+=8,k+=l[r++]<<C,C+=8),B=x[k&F];e:for(;;){if(k>>>=T=B>>>24,C-=T,(T=B>>>16&255)===0)z[p++]=65535&B;else{if(!(16&T)){if(!(64&T)){B=x[(65535&B)+(k&(1<<T)-1)];continue e}if(32&T){n.mode=12;break t}e.msg="invalid literal/length code",n.mode=30;break t}N=65535&B,(T&=15)&&(C<T&&(k+=l[r++]<<C,C+=8),N+=k&(1<<T)-1,k>>>=T,C-=T),C<15&&(k+=l[r++]<<C,C+=8,k+=l[r++]<<C,C+=8),B=A[k&O];r:for(;;){if(k>>>=T=B>>>24,C-=T,!(16&(T=B>>>16&255))){if(!(64&T)){B=A[(65535&B)+(k&(1<<T)-1)];continue r}e.msg="invalid distance code",n.mode=30;break t}if(q=65535&B,C<(T&=15)&&(k+=l[r++]<<C,(C+=8)<T&&(k+=l[r++]<<C,C+=8)),d<(q+=k&(1<<T)-1)){e.msg="invalid distance too far back",n.mode=30;break t}if(k>>>=T,C-=T,(T=p-h)<q){if(c<(T=q-T)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break t}if(L=m,(E=0)===_){if(E+=w-T,T<N){for(N-=T;z[p++]=m[E++],--T;);E=p-q,L=z}}else if(_<T){if(E+=w+_-T,(T-=_)<N){for(N-=T;z[p++]=m[E++],--T;);if(E=0,_<N){for(N-=T=_;z[p++]=m[E++],--T;);E=p-q,L=z}}}else if(E+=_-T,T<N){for(N-=T;z[p++]=m[E++],--T;);E=p-q,L=z}for(;2<N;)z[p++]=L[E++],z[p++]=L[E++],z[p++]=L[E++],N-=3;N&&(z[p++]=L[E++],1<N&&(z[p++]=L[E++]))}else{for(E=p-q;z[p++]=z[E++],z[p++]=z[E++],z[p++]=z[E++],2<(N-=3););N&&(z[p++]=z[E++],1<N&&(z[p++]=z[E++]))}break}}break}}while(r<o&&p<b);r-=N=C>>3,k&=(1<<(C-=N<<3))-1,e.next_in=r,e.next_out=p,e.avail_in=r<o?o-r+5:5-(r-o),e.avail_out=p<b?b-p+257:257-(p-b),n.hold=k,n.bits=C}},{}],49:[function(t,u,a){var e=t("../utils/common"),s=t("./adler32"),n=t("./crc32"),r=t("./inffast"),o=t("./inftrees"),p=1,h=2,b=0,d=-2,w=1,c=852,_=592;function m(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(E){var L;return E&&E.state?(L=E.state,E.total_in=E.total_out=L.total=0,E.msg="",L.wrap&&(E.adler=1&L.wrap),L.mode=w,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new e.Buf32(c),L.distcode=L.distdyn=new e.Buf32(_),L.sane=1,L.back=-1,b):d}function x(E){var L;return E&&E.state?((L=E.state).wsize=0,L.whave=0,L.wnext=0,C(E)):d}function A(E,L){var l,z;return E&&E.state?(z=E.state,L<0?(l=0,L=-L):(l=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?d:(z.window!==null&&z.wbits!==L&&(z.window=null),z.wrap=l,z.wbits=L,x(E))):d}function F(E,L){var l,z;return E?(z=new k,(E.state=z).window=null,(l=A(E,L))!==b&&(E.state=null),l):d}var O,B,T=!0;function N(E){if(T){var L;for(O=new e.Buf32(512),B=new e.Buf32(32),L=0;L<144;)E.lens[L++]=8;for(;L<256;)E.lens[L++]=9;for(;L<280;)E.lens[L++]=7;for(;L<288;)E.lens[L++]=8;for(o(p,E.lens,0,288,O,0,E.work,{bits:9}),L=0;L<32;)E.lens[L++]=5;o(h,E.lens,0,32,B,0,E.work,{bits:5}),T=!1}E.lencode=O,E.lenbits=9,E.distcode=B,E.distbits=5}function q(E,L,l,z){var G,j=E.state;return j.window===null&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new e.Buf8(j.wsize)),z>=j.wsize?(e.arraySet(j.window,L,l-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):(z<(G=j.wsize-j.wnext)&&(G=z),e.arraySet(j.window,L,l-z,G,j.wnext),(z-=G)?(e.arraySet(j.window,L,l-z,z,0),j.wnext=z,j.whave=j.wsize):(j.wnext+=G,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=G))),0}a.inflateReset=x,a.inflateReset2=A,a.inflateResetKeep=C,a.inflateInit=function(E){return F(E,15)},a.inflateInit2=F,a.inflate=function(E,L){var l,z,G,j,Q,W,et,R,$,tt,K,V,_t,zt,it,ct,xt,gt,Pt,Dt,i,P,D,y,v=0,S=new e.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return d;(l=E.state).mode===12&&(l.mode=13),Q=E.next_out,G=E.output,et=E.avail_out,j=E.next_in,z=E.input,W=E.avail_in,R=l.hold,$=l.bits,tt=W,K=et,P=b;t:for(;;)switch(l.mode){case w:if(l.wrap===0){l.mode=13;break}for(;$<16;){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}if(2&l.wrap&&R===35615){S[l.check=0]=255&R,S[1]=R>>>8&255,l.check=n(l.check,S,2,0),$=R=0,l.mode=2;break}if(l.flags=0,l.head&&(l.head.done=!1),!(1&l.wrap)||(((255&R)<<8)+(R>>8))%31){E.msg="incorrect header check",l.mode=30;break}if((15&R)!=8){E.msg="unknown compression method",l.mode=30;break}if($-=4,i=8+(15&(R>>>=4)),l.wbits===0)l.wbits=i;else if(i>l.wbits){E.msg="invalid window size",l.mode=30;break}l.dmax=1<<i,E.adler=l.check=1,l.mode=512&R?10:12,$=R=0;break;case 2:for(;$<16;){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}if(l.flags=R,(255&l.flags)!=8){E.msg="unknown compression method",l.mode=30;break}if(57344&l.flags){E.msg="unknown header flags set",l.mode=30;break}l.head&&(l.head.text=R>>8&1),512&l.flags&&(S[0]=255&R,S[1]=R>>>8&255,l.check=n(l.check,S,2,0)),$=R=0,l.mode=3;case 3:for(;$<32;){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}l.head&&(l.head.time=R),512&l.flags&&(S[0]=255&R,S[1]=R>>>8&255,S[2]=R>>>16&255,S[3]=R>>>24&255,l.check=n(l.check,S,4,0)),$=R=0,l.mode=4;case 4:for(;$<16;){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}l.head&&(l.head.xflags=255&R,l.head.os=R>>8),512&l.flags&&(S[0]=255&R,S[1]=R>>>8&255,l.check=n(l.check,S,2,0)),$=R=0,l.mode=5;case 5:if(1024&l.flags){for(;$<16;){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}l.length=R,l.head&&(l.head.extra_len=R),512&l.flags&&(S[0]=255&R,S[1]=R>>>8&255,l.check=n(l.check,S,2,0)),$=R=0}else l.head&&(l.head.extra=null);l.mode=6;case 6:if(1024&l.flags&&(W<(V=l.length)&&(V=W),V&&(l.head&&(i=l.head.extra_len-l.length,l.head.extra||(l.head.extra=new Array(l.head.extra_len)),e.arraySet(l.head.extra,z,j,V,i)),512&l.flags&&(l.check=n(l.check,z,V,j)),W-=V,j+=V,l.length-=V),l.length))break t;l.length=0,l.mode=7;case 7:if(2048&l.flags){if(W===0)break t;for(V=0;i=z[j+V++],l.head&&i&&l.length<65536&&(l.head.name+=String.fromCharCode(i)),i&&V<W;);if(512&l.flags&&(l.check=n(l.check,z,V,j)),W-=V,j+=V,i)break t}else l.head&&(l.head.name=null);l.length=0,l.mode=8;case 8:if(4096&l.flags){if(W===0)break t;for(V=0;i=z[j+V++],l.head&&i&&l.length<65536&&(l.head.comment+=String.fromCharCode(i)),i&&V<W;);if(512&l.flags&&(l.check=n(l.check,z,V,j)),W-=V,j+=V,i)break t}else l.head&&(l.head.comment=null);l.mode=9;case 9:if(512&l.flags){for(;$<16;){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}if(R!==(65535&l.check)){E.msg="header crc mismatch",l.mode=30;break}$=R=0}l.head&&(l.head.hcrc=l.flags>>9&1,l.head.done=!0),E.adler=l.check=0,l.mode=12;break;case 10:for(;$<32;){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}E.adler=l.check=m(R),$=R=0,l.mode=11;case 11:if(l.havedict===0)return E.next_out=Q,E.avail_out=et,E.next_in=j,E.avail_in=W,l.hold=R,l.bits=$,2;E.adler=l.check=1,l.mode=12;case 12:if(L===5||L===6)break t;case 13:if(l.last){R>>>=7&$,$-=7&$,l.mode=27;break}for(;$<3;){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}switch(l.last=1&R,$-=1,3&(R>>>=1)){case 0:l.mode=14;break;case 1:if(N(l),l.mode=20,L!==6)break;R>>>=2,$-=2;break t;case 2:l.mode=17;break;case 3:E.msg="invalid block type",l.mode=30}R>>>=2,$-=2;break;case 14:for(R>>>=7&$,$-=7&$;$<32;){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}if((65535&R)!=(R>>>16^65535)){E.msg="invalid stored block lengths",l.mode=30;break}if(l.length=65535&R,$=R=0,l.mode=15,L===6)break t;case 15:l.mode=16;case 16:if(V=l.length){if(W<V&&(V=W),et<V&&(V=et),V===0)break t;e.arraySet(G,z,j,V,Q),W-=V,j+=V,et-=V,Q+=V,l.length-=V;break}l.mode=12;break;case 17:for(;$<14;){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}if(l.nlen=257+(31&R),R>>>=5,$-=5,l.ndist=1+(31&R),R>>>=5,$-=5,l.ncode=4+(15&R),R>>>=4,$-=4,286<l.nlen||30<l.ndist){E.msg="too many length or distance symbols",l.mode=30;break}l.have=0,l.mode=18;case 18:for(;l.have<l.ncode;){for(;$<3;){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}l.lens[M[l.have++]]=7&R,R>>>=3,$-=3}for(;l.have<19;)l.lens[M[l.have++]]=0;if(l.lencode=l.lendyn,l.lenbits=7,D={bits:l.lenbits},P=o(0,l.lens,0,19,l.lencode,0,l.work,D),l.lenbits=D.bits,P){E.msg="invalid code lengths set",l.mode=30;break}l.have=0,l.mode=19;case 19:for(;l.have<l.nlen+l.ndist;){for(;ct=(v=l.lencode[R&(1<<l.lenbits)-1])>>>16&255,xt=65535&v,!((it=v>>>24)<=$);){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}if(xt<16)R>>>=it,$-=it,l.lens[l.have++]=xt;else{if(xt===16){for(y=it+2;$<y;){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}if(R>>>=it,$-=it,l.have===0){E.msg="invalid bit length repeat",l.mode=30;break}i=l.lens[l.have-1],V=3+(3&R),R>>>=2,$-=2}else if(xt===17){for(y=it+3;$<y;){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}$-=it,i=0,V=3+(7&(R>>>=it)),R>>>=3,$-=3}else{for(y=it+7;$<y;){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}$-=it,i=0,V=11+(127&(R>>>=it)),R>>>=7,$-=7}if(l.have+V>l.nlen+l.ndist){E.msg="invalid bit length repeat",l.mode=30;break}for(;V--;)l.lens[l.have++]=i}}if(l.mode===30)break;if(l.lens[256]===0){E.msg="invalid code -- missing end-of-block",l.mode=30;break}if(l.lenbits=9,D={bits:l.lenbits},P=o(p,l.lens,0,l.nlen,l.lencode,0,l.work,D),l.lenbits=D.bits,P){E.msg="invalid literal/lengths set",l.mode=30;break}if(l.distbits=6,l.distcode=l.distdyn,D={bits:l.distbits},P=o(h,l.lens,l.nlen,l.ndist,l.distcode,0,l.work,D),l.distbits=D.bits,P){E.msg="invalid distances set",l.mode=30;break}if(l.mode=20,L===6)break t;case 20:l.mode=21;case 21:if(6<=W&&258<=et){E.next_out=Q,E.avail_out=et,E.next_in=j,E.avail_in=W,l.hold=R,l.bits=$,r(E,K),Q=E.next_out,G=E.output,et=E.avail_out,j=E.next_in,z=E.input,W=E.avail_in,R=l.hold,$=l.bits,l.mode===12&&(l.back=-1);break}for(l.back=0;ct=(v=l.lencode[R&(1<<l.lenbits)-1])>>>16&255,xt=65535&v,!((it=v>>>24)<=$);){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}if(ct&&!(240&ct)){for(gt=it,Pt=ct,Dt=xt;ct=(v=l.lencode[Dt+((R&(1<<gt+Pt)-1)>>gt)])>>>16&255,xt=65535&v,!(gt+(it=v>>>24)<=$);){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}R>>>=gt,$-=gt,l.back+=gt}if(R>>>=it,$-=it,l.back+=it,l.length=xt,ct===0){l.mode=26;break}if(32&ct){l.back=-1,l.mode=12;break}if(64&ct){E.msg="invalid literal/length code",l.mode=30;break}l.extra=15&ct,l.mode=22;case 22:if(l.extra){for(y=l.extra;$<y;){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}l.length+=R&(1<<l.extra)-1,R>>>=l.extra,$-=l.extra,l.back+=l.extra}l.was=l.length,l.mode=23;case 23:for(;ct=(v=l.distcode[R&(1<<l.distbits)-1])>>>16&255,xt=65535&v,!((it=v>>>24)<=$);){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}if(!(240&ct)){for(gt=it,Pt=ct,Dt=xt;ct=(v=l.distcode[Dt+((R&(1<<gt+Pt)-1)>>gt)])>>>16&255,xt=65535&v,!(gt+(it=v>>>24)<=$);){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}R>>>=gt,$-=gt,l.back+=gt}if(R>>>=it,$-=it,l.back+=it,64&ct){E.msg="invalid distance code",l.mode=30;break}l.offset=xt,l.extra=15&ct,l.mode=24;case 24:if(l.extra){for(y=l.extra;$<y;){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}l.offset+=R&(1<<l.extra)-1,R>>>=l.extra,$-=l.extra,l.back+=l.extra}if(l.offset>l.dmax){E.msg="invalid distance too far back",l.mode=30;break}l.mode=25;case 25:if(et===0)break t;if(V=K-et,l.offset>V){if((V=l.offset-V)>l.whave&&l.sane){E.msg="invalid distance too far back",l.mode=30;break}_t=V>l.wnext?(V-=l.wnext,l.wsize-V):l.wnext-V,V>l.length&&(V=l.length),zt=l.window}else zt=G,_t=Q-l.offset,V=l.length;for(et<V&&(V=et),et-=V,l.length-=V;G[Q++]=zt[_t++],--V;);l.length===0&&(l.mode=21);break;case 26:if(et===0)break t;G[Q++]=l.length,et--,l.mode=21;break;case 27:if(l.wrap){for(;$<32;){if(W===0)break t;W--,R|=z[j++]<<$,$+=8}if(K-=et,E.total_out+=K,l.total+=K,K&&(E.adler=l.check=l.flags?n(l.check,G,K,Q-K):s(l.check,G,K,Q-K)),K=et,(l.flags?R:m(R))!==l.check){E.msg="incorrect data check",l.mode=30;break}$=R=0}l.mode=28;case 28:if(l.wrap&&l.flags){for(;$<32;){if(W===0)break t;W--,R+=z[j++]<<$,$+=8}if(R!==(4294967295&l.total)){E.msg="incorrect length check",l.mode=30;break}$=R=0}l.mode=29;case 29:P=1;break t;case 30:P=-3;break t;case 31:return-4;case 32:default:return d}return E.next_out=Q,E.avail_out=et,E.next_in=j,E.avail_in=W,l.hold=R,l.bits=$,(l.wsize||K!==E.avail_out&&l.mode<30&&(l.mode<27||L!==4))&&q(E,E.output,E.next_out,K-E.avail_out)?(l.mode=31,-4):(tt-=E.avail_in,K-=E.avail_out,E.total_in+=tt,E.total_out+=K,l.total+=K,l.wrap&&K&&(E.adler=l.check=l.flags?n(l.check,G,K,E.next_out-K):s(l.check,G,K,E.next_out-K)),E.data_type=l.bits+(l.last?64:0)+(l.mode===12?128:0)+(l.mode===20||l.mode===15?256:0),(tt==0&&K===0||L===4)&&P===b&&(P=-5),P)},a.inflateEnd=function(E){if(!E||!E.state)return d;var L=E.state;return L.window&&(L.window=null),E.state=null,b},a.inflateGetHeader=function(E,L){var l;return E&&E.state&&2&(l=E.state).wrap?((l.head=L).done=!1,b):d},a.inflateSetDictionary=function(E,L){var l,z=L.length;return E&&E.state?(l=E.state).wrap!==0&&l.mode!==11?d:l.mode===11&&s(1,L,z,0)!==l.check?-3:q(E,L,z,z)?(l.mode=31,-4):(l.havedict=1,b):d},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,u,a){var e=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],n=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],r=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];u.exports=function(p,h,b,d,w,c,_,m){var k,C,x,A,F,O,B,T,N,q=m.bits,E=0,L=0,l=0,z=0,G=0,j=0,Q=0,W=0,et=0,R=0,$=null,tt=0,K=new e.Buf16(16),V=new e.Buf16(16),_t=null,zt=0;for(E=0;E<=15;E++)K[E]=0;for(L=0;L<d;L++)K[h[b+L]]++;for(G=q,z=15;1<=z&&K[z]===0;z--);if(z<G&&(G=z),z===0)return w[c++]=20971520,w[c++]=20971520,m.bits=1,0;for(l=1;l<z&&K[l]===0;l++);for(G<l&&(G=l),E=W=1;E<=15;E++)if(W<<=1,(W-=K[E])<0)return-1;if(0<W&&(p===0||z!==1))return-1;for(V[1]=0,E=1;E<15;E++)V[E+1]=V[E]+K[E];for(L=0;L<d;L++)h[b+L]!==0&&(_[V[h[b+L]]++]=L);if(O=p===0?($=_t=_,19):p===1?($=s,tt-=257,_t=n,zt-=257,256):($=r,_t=o,-1),E=l,F=c,Q=L=R=0,x=-1,A=(et=1<<(j=G))-1,p===1&&852<et||p===2&&592<et)return 1;for(;;){for(B=E-Q,N=_[L]<O?(T=0,_[L]):_[L]>O?(T=_t[zt+_[L]],$[tt+_[L]]):(T=96,0),k=1<<E-Q,l=C=1<<j;w[F+(R>>Q)+(C-=k)]=B<<24|T<<16|N|0,C!==0;);for(k=1<<E-1;R&k;)k>>=1;if(k!==0?(R&=k-1,R+=k):R=0,L++,--K[E]==0){if(E===z)break;E=h[b+_[L]]}if(G<E&&(R&A)!==x){for(Q===0&&(Q=G),F+=l,W=1<<(j=E-Q);j+Q<z&&!((W-=K[j+Q])<=0);)j++,W<<=1;if(et+=1<<j,p===1&&852<et||p===2&&592<et)return 1;w[x=R&A]=G<<24|j<<16|F-c|0}}return R!==0&&(w[F+R]=E-Q<<24|64<<16|0),m.bits=G,0}},{"../utils/common":41}],51:[function(t,u,a){u.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,u,a){var e=t("../utils/common"),s=0,n=1;function r(v){for(var S=v.length;0<=--S;)v[S]=0}var o=0,p=29,h=256,b=h+1+p,d=30,w=19,c=2*b+1,_=15,m=16,k=7,C=256,x=16,A=17,F=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(b+2));r(q);var E=new Array(2*d);r(E);var L=new Array(512);r(L);var l=new Array(256);r(l);var z=new Array(p);r(z);var G,j,Q,W=new Array(d);function et(v,S,M,U,I){this.static_tree=v,this.extra_bits=S,this.extra_base=M,this.elems=U,this.max_length=I,this.has_stree=v&&v.length}function R(v,S){this.dyn_tree=v,this.max_code=0,this.stat_desc=S}function $(v){return v<256?L[v]:L[256+(v>>>7)]}function tt(v,S){v.pending_buf[v.pending++]=255&S,v.pending_buf[v.pending++]=S>>>8&255}function K(v,S,M){v.bi_valid>m-M?(v.bi_buf|=S<<v.bi_valid&65535,tt(v,v.bi_buf),v.bi_buf=S>>m-v.bi_valid,v.bi_valid+=M-m):(v.bi_buf|=S<<v.bi_valid&65535,v.bi_valid+=M)}function V(v,S,M){K(v,M[2*S],M[2*S+1])}function _t(v,S){for(var M=0;M|=1&v,v>>>=1,M<<=1,0<--S;);return M>>>1}function zt(v,S,M){var U,I,Z=new Array(_+1),Y=0;for(U=1;U<=_;U++)Z[U]=Y=Y+M[U-1]<<1;for(I=0;I<=S;I++){var H=v[2*I+1];H!==0&&(v[2*I]=_t(Z[H]++,H))}}function it(v){var S;for(S=0;S<b;S++)v.dyn_ltree[2*S]=0;for(S=0;S<d;S++)v.dyn_dtree[2*S]=0;for(S=0;S<w;S++)v.bl_tree[2*S]=0;v.dyn_ltree[2*C]=1,v.opt_len=v.static_len=0,v.last_lit=v.matches=0}function ct(v){8<v.bi_valid?tt(v,v.bi_buf):0<v.bi_valid&&(v.pending_buf[v.pending++]=v.bi_buf),v.bi_buf=0,v.bi_valid=0}function xt(v,S,M,U){var I=2*S,Z=2*M;return v[I]<v[Z]||v[I]===v[Z]&&U[S]<=U[M]}function gt(v,S,M){for(var U=v.heap[M],I=M<<1;I<=v.heap_len&&(I<v.heap_len&&xt(S,v.heap[I+1],v.heap[I],v.depth)&&I++,!xt(S,U,v.heap[I],v.depth));)v.heap[M]=v.heap[I],M=I,I<<=1;v.heap[M]=U}function Pt(v,S,M){var U,I,Z,Y,H=0;if(v.last_lit!==0)for(;U=v.pending_buf[v.d_buf+2*H]<<8|v.pending_buf[v.d_buf+2*H+1],I=v.pending_buf[v.l_buf+H],H++,U===0?V(v,I,S):(V(v,(Z=l[I])+h+1,S),(Y=O[Z])!==0&&K(v,I-=z[Z],Y),V(v,Z=$(--U),M),(Y=B[Z])!==0&&K(v,U-=W[Z],Y)),H<v.last_lit;);V(v,C,S)}function Dt(v,S){var M,U,I,Z=S.dyn_tree,Y=S.stat_desc.static_tree,H=S.stat_desc.has_stree,J=S.stat_desc.elems,pt=-1;for(v.heap_len=0,v.heap_max=c,M=0;M<J;M++)Z[2*M]!==0?(v.heap[++v.heap_len]=pt=M,v.depth[M]=0):Z[2*M+1]=0;for(;v.heap_len<2;)Z[2*(I=v.heap[++v.heap_len]=pt<2?++pt:0)]=1,v.depth[I]=0,v.opt_len--,H&&(v.static_len-=Y[2*I+1]);for(S.max_code=pt,M=v.heap_len>>1;1<=M;M--)gt(v,Z,M);for(I=J;M=v.heap[1],v.heap[1]=v.heap[v.heap_len--],gt(v,Z,1),U=v.heap[1],v.heap[--v.heap_max]=M,v.heap[--v.heap_max]=U,Z[2*I]=Z[2*M]+Z[2*U],v.depth[I]=(v.depth[M]>=v.depth[U]?v.depth[M]:v.depth[U])+1,Z[2*M+1]=Z[2*U+1]=I,v.heap[1]=I++,gt(v,Z,1),2<=v.heap_len;);v.heap[--v.heap_max]=v.heap[1],function(st,Bt){var Xt,Nt,Jt,vt,ue,Ee,jt=Bt.dyn_tree,Be=Bt.max_code,Xe=Bt.stat_desc.static_tree,Je=Bt.stat_desc.has_stree,Qe=Bt.stat_desc.extra_bits,Re=Bt.stat_desc.extra_base,Qt=Bt.stat_desc.max_length,fe=0;for(vt=0;vt<=_;vt++)st.bl_count[vt]=0;for(jt[2*st.heap[st.heap_max]+1]=0,Xt=st.heap_max+1;Xt<c;Xt++)Qt<(vt=jt[2*jt[2*(Nt=st.heap[Xt])+1]+1]+1)&&(vt=Qt,fe++),jt[2*Nt+1]=vt,Be<Nt||(st.bl_count[vt]++,ue=0,Re<=Nt&&(ue=Qe[Nt-Re]),Ee=jt[2*Nt],st.opt_len+=Ee*(vt+ue),Je&&(st.static_len+=Ee*(Xe[2*Nt+1]+ue)));if(fe!==0){do{for(vt=Qt-1;st.bl_count[vt]===0;)vt--;st.bl_count[vt]--,st.bl_count[vt+1]+=2,st.bl_count[Qt]--,fe-=2}while(0<fe);for(vt=Qt;vt!==0;vt--)for(Nt=st.bl_count[vt];Nt!==0;)Be<(Jt=st.heap[--Xt])||(jt[2*Jt+1]!==vt&&(st.opt_len+=(vt-jt[2*Jt+1])*jt[2*Jt],jt[2*Jt+1]=vt),Nt--)}}(v,S),zt(Z,pt,v.bl_count)}function i(v,S,M){var U,I,Z=-1,Y=S[1],H=0,J=7,pt=4;for(Y===0&&(J=138,pt=3),S[2*(M+1)+1]=65535,U=0;U<=M;U++)I=Y,Y=S[2*(U+1)+1],++H<J&&I===Y||(H<pt?v.bl_tree[2*I]+=H:I!==0?(I!==Z&&v.bl_tree[2*I]++,v.bl_tree[2*x]++):H<=10?v.bl_tree[2*A]++:v.bl_tree[2*F]++,Z=I,pt=(H=0)===Y?(J=138,3):I===Y?(J=6,3):(J=7,4))}function P(v,S,M){var U,I,Z=-1,Y=S[1],H=0,J=7,pt=4;for(Y===0&&(J=138,pt=3),U=0;U<=M;U++)if(I=Y,Y=S[2*(U+1)+1],!(++H<J&&I===Y)){if(H<pt)for(;V(v,I,v.bl_tree),--H!=0;);else I!==0?(I!==Z&&(V(v,I,v.bl_tree),H--),V(v,x,v.bl_tree),K(v,H-3,2)):H<=10?(V(v,A,v.bl_tree),K(v,H-3,3)):(V(v,F,v.bl_tree),K(v,H-11,7));Z=I,pt=(H=0)===Y?(J=138,3):I===Y?(J=6,3):(J=7,4)}}r(W);var D=!1;function y(v,S,M,U){K(v,(o<<1)+(U?1:0),3),function(I,Z,Y,H){ct(I),tt(I,Y),tt(I,~Y),e.arraySet(I.pending_buf,I.window,Z,Y,I.pending),I.pending+=Y}(v,S,M)}a._tr_init=function(v){D||(function(){var S,M,U,I,Z,Y=new Array(_+1);for(I=U=0;I<p-1;I++)for(z[I]=U,S=0;S<1<<O[I];S++)l[U++]=I;for(l[U-1]=I,I=Z=0;I<16;I++)for(W[I]=Z,S=0;S<1<<B[I];S++)L[Z++]=I;for(Z>>=7;I<d;I++)for(W[I]=Z<<7,S=0;S<1<<B[I]-7;S++)L[256+Z++]=I;for(M=0;M<=_;M++)Y[M]=0;for(S=0;S<=143;)q[2*S+1]=8,S++,Y[8]++;for(;S<=255;)q[2*S+1]=9,S++,Y[9]++;for(;S<=279;)q[2*S+1]=7,S++,Y[7]++;for(;S<=287;)q[2*S+1]=8,S++,Y[8]++;for(zt(q,b+1,Y),S=0;S<d;S++)E[2*S+1]=5,E[2*S]=_t(S,5);G=new et(q,O,h+1,b,_),j=new et(E,B,0,d,_),Q=new et(new Array(0),T,0,w,k)}(),D=!0),v.l_desc=new R(v.dyn_ltree,G),v.d_desc=new R(v.dyn_dtree,j),v.bl_desc=new R(v.bl_tree,Q),v.bi_buf=0,v.bi_valid=0,it(v)},a._tr_stored_block=y,a._tr_flush_block=function(v,S,M,U){var I,Z,Y=0;0<v.level?(v.strm.data_type===2&&(v.strm.data_type=function(H){var J,pt=4093624447;for(J=0;J<=31;J++,pt>>>=1)if(1&pt&&H.dyn_ltree[2*J]!==0)return s;if(H.dyn_ltree[18]!==0||H.dyn_ltree[20]!==0||H.dyn_ltree[26]!==0)return n;for(J=32;J<h;J++)if(H.dyn_ltree[2*J]!==0)return n;return s}(v)),Dt(v,v.l_desc),Dt(v,v.d_desc),Y=function(H){var J;for(i(H,H.dyn_ltree,H.l_desc.max_code),i(H,H.dyn_dtree,H.d_desc.max_code),Dt(H,H.bl_desc),J=w-1;3<=J&&H.bl_tree[2*N[J]+1]===0;J--);return H.opt_len+=3*(J+1)+5+5+4,J}(v),I=v.opt_len+3+7>>>3,(Z=v.static_len+3+7>>>3)<=I&&(I=Z)):I=Z=M+5,M+4<=I&&S!==-1?y(v,S,M,U):v.strategy===4||Z===I?(K(v,2+(U?1:0),3),Pt(v,q,E)):(K(v,4+(U?1:0),3),function(H,J,pt,st){var Bt;for(K(H,J-257,5),K(H,pt-1,5),K(H,st-4,4),Bt=0;Bt<st;Bt++)K(H,H.bl_tree[2*N[Bt]+1],3);P(H,H.dyn_ltree,J-1),P(H,H.dyn_dtree,pt-1)}(v,v.l_desc.max_code+1,v.d_desc.max_code+1,Y+1),Pt(v,v.dyn_ltree,v.dyn_dtree)),it(v),U&&ct(v)},a._tr_tally=function(v,S,M){return v.pending_buf[v.d_buf+2*v.last_lit]=S>>>8&255,v.pending_buf[v.d_buf+2*v.last_lit+1]=255&S,v.pending_buf[v.l_buf+v.last_lit]=255&M,v.last_lit++,S===0?v.dyn_ltree[2*M]++:(v.matches++,S--,v.dyn_ltree[2*(l[M]+h+1)]++,v.dyn_dtree[2*$(S)]++),v.last_lit===v.lit_bufsize-1},a._tr_align=function(v){K(v,2,3),V(v,C,q),function(S){S.bi_valid===16?(tt(S,S.bi_buf),S.bi_buf=0,S.bi_valid=0):8<=S.bi_valid&&(S.pending_buf[S.pending++]=255&S.bi_buf,S.bi_buf>>=8,S.bi_valid-=8)}(v)}},{"../utils/common":41}],53:[function(t,u,a){u.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,u,a){(function(e){(function(s,n){if(!s.setImmediate){var r,o,p,h,b=1,d={},w=!1,c=s.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(s);_=_&&_.setTimeout?_:s,r={}.toString.call(s.process)==="[object process]"?function(x){process.nextTick(function(){k(x)})}:function(){if(s.postMessage&&!s.importScripts){var x=!0,A=s.onmessage;return s.onmessage=function(){x=!1},s.postMessage("","*"),s.onmessage=A,x}}()?(h="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",C,!1):s.attachEvent("onmessage",C),function(x){s.postMessage(h+x,"*")}):s.MessageChannel?((p=new MessageChannel).port1.onmessage=function(x){k(x.data)},function(x){p.port2.postMessage(x)}):c&&"onreadystatechange"in c.createElement("script")?(o=c.documentElement,function(x){var A=c.createElement("script");A.onreadystatechange=function(){k(x),A.onreadystatechange=null,o.removeChild(A),A=null},o.appendChild(A)}):function(x){setTimeout(k,0,x)},_.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var A=new Array(arguments.length-1),F=0;F<A.length;F++)A[F]=arguments[F+1];var O={callback:x,args:A};return d[b]=O,r(b),b++},_.clearImmediate=m}function m(x){delete d[x]}function k(x){if(w)setTimeout(k,0,x);else{var A=d[x];if(A){w=!0;try{(function(F){var O=F.callback,B=F.args;switch(B.length){case 0:O();break;case 1:O(B[0]);break;case 2:O(B[0],B[1]);break;case 3:O(B[0],B[1],B[2]);break;default:O.apply(n,B)}})(A)}finally{m(x),w=!1}}}}function C(x){x.source===s&&typeof x.data=="string"&&x.data.indexOf(h)===0&&k(+x.data.slice(h.length))}})(typeof self>"u"?e===void 0?this:e:self)}).call(this,typeof de<"u"?de:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ye);var dr=Ye.exports;const hr=cr(dr);async function be(g){let f=g.split("/").pop();(f===void 0||f==="")&&(f=g);try{const t=await fetch(g);if(!t.ok)throw new Error(`Failed to fetch ${g}`);const u=await t.text();return{name:f,data:u}}catch(t){return{name:f,data:"error: "+t.message}}}async function pr(g){const f=new hr;for(const[t,u]of Object.entries(g))f.file(t,u);return f.generateAsync({type:"blob"})}function Pe(g,f,t){const u=g.slice();return u[4]=f[t],u}function mr(g){let f=g[4].name+"",t,u;return{c(){t=Ft(f),u=wt()},l(a){t=Lt(a,f),u=bt(a)},m(a,e){ft(a,t,e),ft(a,u,e)},p(a,e){e&1&&f!==(f=a[4].name+"")&&oe(t,f)},d(a){a&&(X(t),X(u))}}}function Ne(g){let f,t;function u(){return g[2](g[4])}return f=new ve({props:{$$slots:{default:[mr]},$$scope:{ctx:g}}}),f.$on("click",u),{c(){Ct(f.$$.fragment)},l(a){Et(f.$$.fragment,a)},m(a,e){kt(f,a,e),t=!0},p(a,e){g=a;const s={};e&129&&(s.$$scope={dirty:e,ctx:g}),f.$set(s)},i(a){t||(ut(f.$$.fragment,a),t=!0)},o(a){dt(f.$$.fragment,a),t=!1},d(a){yt(f,a)}}}function _r(g){let f,t,u=Le(g[0]),a=[];for(let s=0;s<u.length;s+=1)a[s]=Ne(Pe(g,u,s));const e=s=>dt(a[s],1,1,()=>{a[s]=null});return{c(){for(let s=0;s<a.length;s+=1)a[s].c();f=ge()},l(s){for(let n=0;n<a.length;n+=1)a[n].l(s);f=ge()},m(s,n){for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(s,n);ft(s,f,n),t=!0},p(s,n){if(n&3){u=Le(s[0]);let r;for(r=0;r<u.length;r+=1){const o=Pe(s,u,r);a[r]?(a[r].p(o,n),ut(a[r],1)):(a[r]=Ne(o),a[r].c(),ut(a[r],1),a[r].m(f.parentNode,f))}for(Ve(),r=u.length;r<a.length;r+=1)e(r);Ge()}},i(s){if(!t){for(let n=0;n<u.length;n+=1)ut(a[n]);t=!0}},o(s){a=a.filter(Boolean);for(let n=0;n<a.length;n+=1)dt(a[n]);t=!1},d(s){s&&X(f),rr(a,s)}}}function gr(g){let f,t;return f=new Oe({props:{name:"Examples",$$slots:{default:[_r]},$$scope:{ctx:g}}}),{c(){Ct(f.$$.fragment)},l(u){Et(f.$$.fragment,u)},m(u,a){kt(f,u,a),t=!0},p(u,[a]){const e={};a&129&&(e.$$scope={dirty:a,ctx:u}),f.$set(e)},i(u){t||(ut(f.$$.fragment,u),t=!0)},o(u){dt(f.$$.fragment,u),t=!1},d(u){yt(f,u)}}}function vr(g,f,t){let u=[];ke(async()=>{e()});async function a(n,r){try{re((await be(n)).data,"main"),Ht((await be(r)).data,"processor")}catch(o){Ht(`${o.message}`,"processor")}}async function e(){const r=await(await fetch("examples/examples.json")).json();t(0,u=r.examples)}return[u,a,n=>{a(n.mainCodeUrl,n.processorCodeUrl)}]}class br extends Ot{constructor(f){super(),$t(this,f,vr,gr,It,{})}}const $e=(g,f="div")=>{let t;const u=async e=>{if(f=e,typeof f=="string"){if(t=document.querySelector(f),t===null&&(await He(),t=document.querySelector(f)),t===null)throw new Error(`No element found matching css selector: "${f}"`)}else if(f instanceof HTMLElement)t=f;else throw new TypeError(`Unknown portal target type: ${f===null?"null":typeof f}. Allowed types: string (CSS selector) or HTMLElement.`);t.appendChild(g),g.hidden=!1},a=()=>g.parentNode&&g.parentNode.removeChild(g);return u(f),{update:u,destroy:a}};function wr(g){let f,t,u,a,e;const s=g[3].default,n=Vt(s,g,g[2],null);return{c(){f=ot("dialog"),t=ot("button"),n&&n.c(),this.h()},l(r){f=at(r,"DIALOG",{class:!0});var o=ht(f);t=at(o,"BUTTON",{class:!0});var p=ht(t);n&&n.l(p),p.forEach(X),o.forEach(X),this.h()},h(){rt(t,"class","h-full px-4 py-2 w-full"),rt(f,"class","font-mono text-sm absolute bg-accent bottom-12 cursor-pointer m-0 ml-auto right-0 rounded shadow-md"),f.open=!0,mt(f,"toast-in",g[0]),mt(f,"toast-out",!g[0])},m(r,o){ft(r,f,o),nt(f,t),n&&n.m(t,null),u=!0,a||(e=[Rt(t,"click",g[4]),ye($e.call(null,f))],a=!0)},p(r,[o]){n&&n.p&&(!u||o&4)&&Gt(n,s,r,r[2],u?Yt(s,r[2],o,null):Kt(r[2]),null),(!u||o&1)&&mt(f,"toast-in",r[0]),(!u||o&1)&&mt(f,"toast-out",!r[0])},i(r){u||(ut(n,r),u=!0)},o(r){dt(n,r),u=!1},d(r){r&&X(f),n&&n.d(r),a=!1,ae(e)}}}function yr(g,f,t){let{$$slots:u={},$$scope:a}=f,{show:e=!1}=f;const s=r=>t(0,e=r),n=()=>s(!1);return g.$$set=r=>{"show"in r&&t(0,e=r.show),"$$scope"in r&&t(2,a=r.$$scope)},[e,s,a,u,n]}class qe extends Ot{constructor(f){super(),$t(this,f,yr,wr,It,{show:0,handleToggle:1})}get handleToggle(){return this.$$.ctx[1]}}const kr=Object.getPrototypeOf(async function(){}).constructor;let te=[[]],St,we,ee=48e3,Ie="";function Er(g){return Ie===""?g:g.replace(/addModule\(["'].*?["']\)/,`addModule('${Ie}')`)}function Cr(g,f,t){return g.replace(new RegExp(f,"g"),t)}function xr(g,f){const t=new RegExp(`@${f}\\s*=\\s*(\\d+)`),u=g.match(t);return u?parseInt(u[1],10):null}function Sr(g){Ie=window.URL.createObjectURL(new Blob([g],{type:"text/javascript"}))}async function zr(g){await(St==null?void 0:St.close());const f=xr(g,"sampleRate");ee=f||ee,await Ar();let t=Er(g);t=Cr(t,"context.destination","recorder).connect(context.destination"),await new kr("context","sampleRate","recorder",t)(St,ee,we)}async function Ar(){St=new AudioContext({sampleRate:ee}),await St.audioWorklet.addModule("processor/recorder-processor.js"),we=new AudioWorkletNode(St,"recorder-processor"),we.port.onmessage=g=>{g.data.channel in te||(te[g.data.channel]=[]),te[g.data.channel].push(...g.data.data)}}function Tr(){St==null||St.resume()}function Ir(){St==null||St.suspend()}function Or(){St==null||St.close(),St=void 0,we=void 0,te=[[]]}function _e(){return te}function $r(){return ee}const pe=(g,f,t)=>{for(let u=0;u<g.length;++u)f[t+u]=g.charCodeAt(u)},Ce=(g,f,t)=>{g=Math.floor(g),f[t]=g&255,f[t+1]=g>>8&255},Zt=(g,f,t)=>{g=Math.floor(g),f[t]=g&255,f[t+1]=g>>8&255,f[t+2]=g>>16&255,f[t+3]=g>>24&255},Br=g=>{const f=new ArrayBuffer(4);return new Float32Array(f)[0]=g,new Uint32Array(f)[0]|0},Rr=(g,f,t,u)=>{let a,e=0;const s=g.length,n=g.numberOfChannels;let r,o;for(a=0;a<s;++a)for(e=0;e<n;++e)r=g.getChannelData(e),o=Br(r[a]),Zt(o,f,t),t+=4},Dr=(g,f)=>{const t=g.length,u=g.numberOfChannels,a=g.sampleRate,e=32,s=e/8,n=a*u*e/8,r=u*e/8,o=t*u*s,h=44+o,b=new Uint8Array(h),d=16,w=o,c=4+(8+d)+(8+w);return pe("RIFF",b,0),Zt(c,b,4),pe("WAVE",b,8),pe("fmt ",b,12),Zt(d,b,16),Ce(3,b,20),Ce(u,b,22),Zt(a,b,24),Zt(n,b,28),Ce(r,b,32),Zt(e,b,34),pe("data",b,36),Zt(w,b,40),Rr(g,b,44),new Blob([b],{type:"audio/wav"})};function Lr(g){let f;return{c(){f=Ft("Save code")},l(t){f=Lt(t,"Save code")},m(t,u){ft(t,f,u)},d(t){t&&X(f)}}}function Fr(g){let f,t,u=".wav";return{c(){f=Ft("Export to "),t=ot("code"),t.textContent=u},l(a){f=Lt(a,"Export to "),t=at(a,"CODE",{"data-svelte-h":!0}),le(t)!=="svelte-1bldscw"&&(t.textContent=u)},m(a,e){ft(a,f,e),ft(a,t,e)},p:qt,d(a){a&&(X(f),X(t))}}}function Pr(g){let f,t,u,a;return f=new ve({props:{$$slots:{default:[Lr]},$$scope:{ctx:g}}}),f.$on("click",g[2]),u=new ve({props:{$$slots:{default:[Fr]},$$scope:{ctx:g}}}),u.$on("click",g[3]),{c(){Ct(f.$$.fragment),t=wt(),Ct(u.$$.fragment)},l(e){Et(f.$$.fragment,e),t=bt(e),Et(u.$$.fragment,e)},m(e,s){kt(f,e,s),ft(e,t,s),kt(u,e,s),a=!0},p(e,s){const n={};s&32&&(n.$$scope={dirty:s,ctx:e}),f.$set(n);const r={};s&32&&(r.$$scope={dirty:s,ctx:e}),u.$set(r)},i(e){a||(ut(f.$$.fragment,e),ut(u.$$.fragment,e),a=!0)},o(e){dt(f.$$.fragment,e),dt(u.$$.fragment,e),a=!1},d(e){e&&X(t),yt(f,e),yt(u,e)}}}function Nr(g){let f;return{c(){f=Ft(g[1])},l(t){f=Lt(t,g[1])},m(t,u){ft(t,f,u)},p(t,u){u&2&&oe(f,t[1])},d(t){t&&X(f)}}}function jr(g){let f,t,u,a,e;f=new Oe({props:{name:"File",$$slots:{default:[Pr]},$$scope:{ctx:g}}});function s(r){g[4](r)}let n={$$slots:{default:[Nr]},$$scope:{ctx:g}};return g[0]!==void 0&&(n.handleToggle=g[0]),u=new qe({props:n}),At.push(()=>Ut(u,"handleToggle",s)),{c(){Ct(f.$$.fragment),t=wt(),Ct(u.$$.fragment)},l(r){Et(f.$$.fragment,r),t=bt(r),Et(u.$$.fragment,r)},m(r,o){kt(f,r,o),ft(r,t,o),kt(u,r,o),e=!0},p(r,[o]){const p={};o&32&&(p.$$scope={dirty:o,ctx:r}),f.$set(p);const h={};o&34&&(h.$$scope={dirty:o,ctx:r}),!a&&o&1&&(a=!0,h.handleToggle=r[0],Mt(()=>a=!1)),u.$set(h)},i(r){e||(ut(f.$$.fragment,r),ut(u.$$.fragment,r),e=!0)},o(r){dt(f.$$.fragment,r),dt(u.$$.fragment,r),e=!1},d(r){r&&X(t),yt(f,r),yt(u,r)}}}function Mr(g,f,t){let u,a="";async function e(){const r=ne(),o=ie(),p={};if(r.length==0&&o.length==0){t(1,a="No code to save"),console.error(a),u(!0);return}else u(!1);r.length>0&&(p["processor.js"]=r),o.length>0&&(p["main.js"]=o);const h=await pr(p),b=URL.createObjectURL(h),d=document.createElement("a");d.href=b,d.download="code.zip",d.click(),URL.revokeObjectURL(b)}function s(){const r=_e(),o=$r();if(r.length===0||r[0].length===0){t(1,a="Recording buffer is empty"),console.error(a),u(!0);return}else u(!1);const p=r[0],h=new AudioBuffer({length:p.length,numberOfChannels:1,sampleRate:o});h.copyToChannel(new Float32Array(p),0);const b=Dr(h);console.log("exporting to wav (mono)",h);const d=URL.createObjectURL(b),w=document.createElement("a");w.href=d,w.download="recording.wav",w.click(),URL.revokeObjectURL(d)}function n(r){u=r,t(0,u)}return[u,a,e,s,n]}class Ur extends Ot{constructor(f){super(),$t(this,f,Mr,jr,It,{})}}const Wr="data:image/svg+xml,%3csvg%20width='100'%20height='170'%20viewBox='0%200%20100%20170'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M30.9312%20120.074H68.186L41.2548%20163.864H3.99999L30.9312%20120.074Z'%20fill='%2394E170'%20stroke='%23355027'%20stroke-width='8'%20stroke-linejoin='round'/%3e%3cpath%20d='M41%20107L41%20109'%20stroke='%23FD9494'%20stroke-width='8'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M69.0688%20120.074H31.814L58.7452%20166H96L69.0688%20120.074Z'%20fill='%2394E170'%20stroke='%23355027'%20stroke-width='8'%20stroke-linejoin='round'/%3e%3cpath%20d='M64%204L64%20143'%20stroke='%23FD9494'%20stroke-width='8'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M53%2010L53%2094'%20stroke='%23FD9494'%20stroke-width='8'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";function Zr(g){let f,t,u,a,e;const s=g[3].default,n=Vt(s,g,g[2],null);return{c(){f=ot("dialog"),t=ot("button"),n&&n.c(),this.h()},l(r){f=at(r,"DIALOG",{class:!0});var o=ht(f);t=at(o,"BUTTON",{class:!0});var p=ht(t);n&&n.l(p),p.forEach(X),o.forEach(X),this.h()},h(){rt(t,"class","h-full px-4 py-2 w-full"),rt(f,"class","absolute bg-white w-full max-w-2xl max-h-[75vh] cursor-pointer rounded-3xl shadow-md svelte-cb2ltm")},m(r,o){ft(r,f,o),nt(f,t),n&&n.m(t,null),g[5](f),u=!0,a||(e=[Rt(t,"click",g[4]),ye($e.call(null,f))],a=!0)},p(r,[o]){n&&n.p&&(!u||o&4)&&Gt(n,s,r,r[2],u?Yt(s,r[2],o,null):Kt(r[2]),null)},i(r){u||(ut(n,r),u=!0)},o(r){dt(n,r),u=!1},d(r){r&&X(f),n&&n.d(r),g[5](null),a=!1,ae(e)}}}function Hr(g,f,t){let{$$slots:u={},$$scope:a}=f,e;function s(o){o?e.showModal():e.close()}const n=()=>s(!1);function r(o){At[o?"unshift":"push"](()=>{e=o,t(1,e)})}return g.$$set=o=>{"$$scope"in o&&t(2,a=o.$$scope)},[s,e,a,u,n,r]}class Vr extends Ot{constructor(f){super(),$t(this,f,Hr,Zr,It,{showModal:0})}get showModal(){return this.$$.ctx[0]}}var Gr={version:"1.0.0-beta"};function Kr(g){let f;return{c(){f=Ft("About")},l(t){f=Lt(t,"About")},m(t,u){ft(t,f,u)},d(t){t&&X(f)}}}function Yr(g){let f,t;return f=new ve({props:{$$slots:{default:[Kr]},$$scope:{ctx:g}}}),f.$on("click",g[1]),{c(){Ct(f.$$.fragment)},l(u){Et(f.$$.fragment,u)},m(u,a){kt(f,u,a),t=!0},p(u,a){const e={};a&8&&(e.$$scope={dirty:a,ctx:u}),f.$set(e)},i(u){t||(ut(f.$$.fragment,u),t=!0)},o(u){dt(f.$$.fragment,u),t=!1},d(u){yt(f,u)}}}function qr(g){let f,t,u=`<div><h1 class="font-bold text-4xl mb-3 text-black">Rainfly</h1> <p>An AudioWorklet DSP Playground for Chromium Web Audio API Project
          (2024)</p> <br/> <p>Created by <a href="https://github.com/terryzfeng" class="svelte-1pxvkmx">@terryzfeng</a> and <a href="https://github.com/kizjkre" class="svelte-1pxvkmx">@kizjkre</a></p> <br/> <p>See
          <a href="https://github.com/GoogleChromeLabs/web-audio-samples" class="svelte-1pxvkmx">GitHub</a>
           for more information or to submit an issue</p></div> <div class="pl-8"><img src="splash.svg" alt="Rainfly logo" class="w-96"/></div>`,a,e,s,n,r=Gr.version+"",o;return{c(){f=ot("div"),t=ot("div"),t.innerHTML=u,a=wt(),e=ot("div"),s=ot("p"),n=Ft("ver "),o=Ft(r),this.h()},l(p){f=at(p,"DIV",{class:!0});var h=ht(f);t=at(h,"DIV",{class:!0,"data-svelte-h":!0}),le(t)!=="svelte-13ij1ld"&&(t.innerHTML=u),a=bt(h),e=at(h,"DIV",{class:!0});var b=ht(e);s=at(b,"P",{});var d=ht(s);n=Lt(d,"ver "),o=Lt(d,r),d.forEach(X),b.forEach(X),h.forEach(X),this.h()},h(){rt(t,"class","w-full flex justify-between pb-4"),rt(e,"class","text-center text-sm"),rt(f,"class","w-full h-full p-4 text-left text-sm text-gray-600")},m(p,h){ft(p,f,h),nt(f,t),nt(f,a),nt(f,e),nt(e,s),nt(s,n),nt(s,o)},p:qt,d(p){p&&X(f)}}}function Xr(g){let f,t,u,a,e;f=new Oe({props:{name:"Help",$$slots:{default:[Yr]},$$scope:{ctx:g}}});function s(r){g[2](r)}let n={$$slots:{default:[qr]},$$scope:{ctx:g}};return g[0]!==void 0&&(n.showModal=g[0]),u=new Vr({props:n}),At.push(()=>Ut(u,"showModal",s)),{c(){Ct(f.$$.fragment),t=wt(),Ct(u.$$.fragment)},l(r){Et(f.$$.fragment,r),t=bt(r),Et(u.$$.fragment,r)},m(r,o){kt(f,r,o),ft(r,t,o),kt(u,r,o),e=!0},p(r,[o]){const p={};o&9&&(p.$$scope={dirty:o,ctx:r}),f.$set(p);const h={};o&8&&(h.$$scope={dirty:o,ctx:r}),!a&&o&1&&(a=!0,h.showModal=r[0],Mt(()=>a=!1)),u.$set(h)},i(r){e||(ut(f.$$.fragment,r),ut(u.$$.fragment,r),e=!0)},o(r){dt(f.$$.fragment,r),dt(u.$$.fragment,r),e=!1},d(r){r&&X(t),yt(f,r),yt(u,r)}}}function Jr(g,f,t){let u;const a=()=>u(!0);function e(s){u=s,t(0,u)}return[u,a,e]}class Qr extends Ot{constructor(f){super(),$t(this,f,Jr,Xr,It,{})}}function tn(g){let f,t,u,a,e,s,n,r,o,p;return t=new Ur({}),a=new br({}),s=new Qr({}),{c(){f=ot("nav"),Ct(t.$$.fragment),u=wt(),Ct(a.$$.fragment),e=wt(),Ct(s.$$.fragment),n=wt(),r=ot("img"),this.h()},l(h){f=at(h,"NAV",{class:!0});var b=ht(f);Et(t.$$.fragment,b),u=bt(b),Et(a.$$.fragment,b),e=bt(b),Et(s.$$.fragment,b),b.forEach(X),n=bt(h),r=at(h,"IMG",{alt:!0,class:!0,src:!0}),this.h()},h(){rt(f,"class","w-full h-full pl-16 pr-4 py-1 mt-1 bg-secondary flex gap-6 items-center border border-x-8 border-b-4 border-white box-border rounded-full"),rt(r,"alt","rainfly logo"),rt(r,"class","absolute left-4 top-1 w-11 z-40"),Ae(r.src,o=Wr)||rt(r,"src",o)},m(h,b){ft(h,f,b),kt(t,f,null),nt(f,u),kt(a,f,null),nt(f,e),kt(s,f,null),ft(h,n,b),ft(h,r,b),p=!0},p:qt,i(h){p||(ut(t.$$.fragment,h),ut(a.$$.fragment,h),ut(s.$$.fragment,h),p=!0)},o(h){dt(t.$$.fragment,h),dt(a.$$.fragment,h),dt(s.$$.fragment,h),p=!1},d(h){h&&(X(f),X(n),X(r)),yt(t),yt(a),yt(s)}}}class en extends Ot{constructor(f){super(),$t(this,f,null,tn,It,{})}}const lt=Object.freeze({stop:0,play:1,running:2,pause:3}),Tt=Ke(lt.stop),je="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='icon%20icon-tabler%20icons-tabler-outline%20icon-tabler-player-play'%3e%3cpath%20stroke='none'%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M7%204v16l13%20-8z'%20/%3e%3c/svg%3e",rn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='icon%20icon-tabler%20icons-tabler-outline%20icon-tabler-player-stop'%3e%3cpath%20stroke='none'%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M5%205m0%202a2%202%200%200%201%202%20-2h10a2%202%200%200%201%202%202v10a2%202%200%200%201%20-2%202h-10a2%202%200%200%201%20-2%20-2z'%20/%3e%3c/svg%3e",nn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='icon%20icon-tabler%20icons-tabler-outline%20icon-tabler-player-pause'%3e%3cpath%20stroke='none'%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M6%205m0%201a1%201%200%200%201%201%20-1h2a1%201%200%200%201%201%201v12a1%201%200%200%201%20-1%201h-2a1%201%200%200%201%20-1%20-1z'%20/%3e%3cpath%20d='M14%205m0%201a1%201%200%200%201%201%20-1h2a1%201%200%200%201%201%201v12a1%201%200%200%201%20-1%201h-2a1%201%200%200%201%20-1%20-1z'%20/%3e%3c/svg%3e",sn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='icon%20icon-tabler%20icons-tabler-outline%20icon-tabler-player-play'%20version='1.1'%20id='svg6'%20sodipodi:docname='player-run-play.svg'%20inkscape:version='1.2.2%20(b0a84865,%202022-12-01)'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs10'%20/%3e%3csodipodi:namedview%20id='namedview8'%20pagecolor='%23ffffff'%20bordercolor='%23000000'%20borderopacity='0.25'%20inkscape:showpageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:deskcolor='%23d1d1d1'%20showgrid='false'%20inkscape:zoom='9.8333333'%20inkscape:cx='-5.9491526'%20inkscape:cy='13.728814'%20inkscape:window-width='1309'%20inkscape:window-height='456'%20inkscape:window-x='0'%20inkscape:window-y='38'%20inkscape:window-maximized='0'%20inkscape:current-layer='svg6'%20/%3e%3cpath%20stroke='none'%20d='M0%200h24v24H0z'%20fill='none'%20id='path2'%20/%3e%3cpath%20d='M%207,4%20V%2020%20L%2020,12%20C%2012.687818,7.1488442%2010.512361,6.06462%207,4%20Z'%20id='path4'%20sodipodi:nodetypes='cccc'%20/%3e%3cpath%20d='m%2019.936068,21.488133%201.990171,-1.75932%20-1.990171,-1.759321'%20id='path243'%20style='stroke-width:1.87119'%20/%3e%3cpath%20d='m%2016.95081,17.969492%20-1.990172,1.759321%201.990172,1.75932'%20id='path245'%20style='stroke-width:1.87119'%20/%3e%3c/svg%3e";function an(g){let f,t,u,a,e,s,n=`<img src="${rn}" alt="Stop"/>`,r,o;return{c(){f=ot("div"),t=ot("button"),u=ot("img"),e=wt(),s=ot("button"),s.innerHTML=n,this.h()},l(p){f=at(p,"DIV",{class:!0});var h=ht(f);t=at(h,"BUTTON",{class:!0});var b=ht(t);u=at(b,"IMG",{src:!0,alt:!0}),b.forEach(X),e=bt(h),s=at(h,"BUTTON",{class:!0,id:!0,"data-svelte-h":!0}),le(s)!=="svelte-t4jfce"&&(s.innerHTML=n),h.forEach(X),this.h()},h(){Ae(u.src,a=g[2])||rt(u,"src",a),rt(u,"alt",g[1]),rt(t,"class","z-50 svelte-1ivhhn3"),rt(s,"class","z-40 svelte-1ivhhn3"),rt(s,"id","stopButton"),mt(s,"fab-in",g[0]),mt(s,"fab-out",!g[0]),rt(f,"class","flex")},m(p,h){ft(p,f,h),nt(f,t),nt(t,u),nt(f,e),nt(f,s),r||(o=[Rt(t,"click",g[3]),Rt(s,"click",g[4])],r=!0)},p(p,[h]){h&4&&!Ae(u.src,a=p[2])&&rt(u,"src",a),h&2&&rt(u,"alt",p[1]),h&1&&mt(s,"fab-in",p[0]),h&1&&mt(s,"fab-out",!p[0])},i:qt,o:qt,d(p){p&&X(f),r=!1,ae(o)}}}function on(g,f,t){let u;se(g,Tt,o=>t(5,u=o));let a=!1,e="Play",s=je;function n(){u===lt.stop?Tt.set(lt.play):u===lt.play||u===lt.running?Tt.set(lt.pause):u===lt.pause&&Tt.set(lt.running)}function r(){u!==lt.stop&&Tt.set(lt.stop)}return g.$$.update=()=>{if(g.$$.dirty&32)switch(u){case lt.play:case lt.running:t(0,a=!0),t(1,e="Pause"),t(2,s=nn);break;case lt.pause:t(0,a=!0),t(1,e="Play"),t(2,s=je);break;default:case lt.stop:t(0,a=!1),t(1,e="Run"),t(2,s=sn)}},[a,e,s,n,r,u]}class ln extends Ot{constructor(f){super(),$t(this,f,on,an,It,{})}}const{window:un}=ir;function fn(g){let f,t,u="",a,e,s,n,r,o;return s=new ln({}),{c(){f=ot("section"),t=ot("canvas"),t.innerHTML=u,a=wt(),e=ot("div"),Ct(s.$$.fragment),this.h()},l(p){f=at(p,"SECTION",{class:!0});var h=ht(f);t=at(h,"CANVAS",{id:!0,class:!0,"data-svelte-h":!0}),le(t)!=="svelte-1pmpqjr"&&(t.innerHTML=u),a=bt(h),e=at(h,"DIV",{id:!0,class:!0});var b=ht(e);Et(s.$$.fragment,b),b.forEach(X),h.forEach(X),this.h()},h(){rt(t,"id","visualizer"),rt(t,"class","svelte-hdkek4"),rt(e,"id","action-buttons"),rt(e,"class","svelte-hdkek4"),rt(f,"class","svelte-hdkek4")},m(p,h){ft(p,f,h),nt(f,t),g[4](t),nt(f,a),nt(f,e),kt(s,e,null),n=!0,r||(o=[Rt(un,"resize",g[1]),Rt(t,"wheel",nr(g[2]))],r=!0)},p:qt,i(p){n||(ut(s.$$.fragment,p),n=!0)},o(p){dt(s.$$.fragment,p),n=!1},d(p){p&&X(f),g[4](null),yt(s),r=!1,ae(o)}}}const cn=250,xe="#FD9494",Se="#76B359",ze=1e3,Me=25;function dn(g,f,t){let u;se(g,Tt,c=>t(3,u=c));let a,e,s,n=0;const r={start:0,end:1/0,full:!0};ke(()=>{s=window.devicePixelRatio||1,e=a.getContext("2d"),b()});function o(){var x,A;if(e===null)return;e.clearRect(0,0,a.width,a.height);const c=a.width,_=a.height,m=.8;p(c,_,m);const k=_e();r.full&&(r.end=((x=k[0])==null?void 0:x.length)||1/0);const C=((A=k[0])==null?void 0:A.slice(r.start,r.end))||[];if(C.length>cn){const F=C.length,O=1,B=c/(F/O);e.beginPath(),e.moveTo(0,_/2);let T=0;for(let N=0;N<c;N+=B,T+=O)e.lineTo(N,_/2-C[T]*_/2*m);e.strokeStyle=Se,e.lineWidth=1.5*s,e.stroke(),e.closePath()}else{const F=C.length,O=1,B=c/(F/O);let T=0;e.beginPath();for(let q=0;q<c;q+=B,T+=O)e.moveTo(q,_/2),e.lineTo(q,_/2-C[T]*_/2*m);e.strokeStyle=Se,e.lineWidth=1.5*s,e.stroke(),e.closePath(),T=0;const N=4*s;for(let q=0;q<c;q+=B,T+=O)e.fillStyle=Se,e.fillRect(q-N/2,_/2-C[T]*_/2*m-N/2,N,N)}(u===lt.play||u===lt.running)&&requestAnimationFrame(o)}function p(c,_,m){e!==null&&(e.beginPath(),e.moveTo(0,_/2),e.lineTo(c,_/2),e.strokeStyle=xe,e.lineWidth=1*s,e.stroke(),e.closePath(),e.beginPath(),e.setLineDash([5,15]),e.moveTo(0,_/2+_/2*m),e.lineTo(c,_/2+_/2*m),e.strokeStyle=xe,e.stroke(),e.closePath(),e.beginPath(),e.setLineDash([5,15]),e.moveTo(0,_/2-_/2*m),e.lineTo(c,_/2-_/2*m),e.strokeStyle=xe,e.stroke(),e.closePath(),e.setLineDash([]))}function h(){e&&(e.clearRect(0,0,a.width,a.height),p(a.width,a.height,.8))}function b(){const c=a.clientWidth*s,_=a.clientHeight*s;t(0,a.width=c,a),t(0,a.height=_,a),o()}const d=c=>{const _=_e();if(_&&_[0].length===0)return;let m=c.deltaY;Math.abs(m)>40&&(m/=40),n=Math.max(0,Math.min(n+m,ze)),r.full=n===0;const k=_e()[0].length,C=c.clientX/window.innerWidth*(r.end-r.start)+r.start,x=(k-Me)/ze*(ze-n)+Me;r.start=Math.max(0,C-x),r.end=Math.min(k,C+x),o()};function w(c){At[c?"unshift":"push"](()=>{a=c,t(0,a)})}return g.$$.update=()=>{g.$$.dirty&8&&(u===lt.play||u===lt.running?o():u===lt.stop&&h())},[a,b,d,u,w]}class hn extends Ot{constructor(f){super(),$t(this,f,dn,fn,It,{})}}function pn(g){let f,t=`${g[2].left}px`,u=`${g[2].top}px`,a,e,s;const n=g[5].default,r=Vt(n,g,g[4],null);return{c(){f=ot("div"),r&&r.c(),this.h()},l(o){f=at(o,"DIV",{class:!0,popover:!0});var p=ht(f);r&&r.l(p),p.forEach(X),this.h()},h(){rt(f,"class","absolute bg-accent m-0 px-2 py-1 rounded shadow-md text-sm"),rt(f,"popover","manual"),mt(f,"tooltip-in",g[1]),mt(f,"tooltip-out",!g[1]),ce(f,"left",t),ce(f,"top",u)},m(o,p){ft(o,f,p),r&&r.m(f,null),g[6](f),a=!0,e||(s=ye($e.call(null,f)),e=!0)},p(o,[p]){r&&r.p&&(!a||p&16)&&Gt(r,n,o,o[4],a?Yt(n,o[4],p,null):Kt(o[4]),null),(!a||p&2)&&mt(f,"tooltip-in",o[1]),(!a||p&2)&&mt(f,"tooltip-out",!o[1]),p&4&&t!==(t=`${o[2].left}px`)&&ce(f,"left",t),p&4&&u!==(u=`${o[2].top}px`)&&ce(f,"top",u)},i(o){a||(ut(r,o),a=!0)},o(o){dt(r,o),a=!1},d(o){o&&X(f),r&&r.d(o),g[6](null),e=!1,s()}}}function mn(g,f,t){let{$$slots:u={},$$scope:a}=f,{anchor:e}=f,s,n,r=!1,o,p;const h={left:-1,top:-1},b=()=>{if(r)return;t(1,r=!0),s.showPopover(),n=s.getBoundingClientRect();const c={top:e.offsetTop-n.height-.5*o<0,right:e.offsetLeft+n.width+.5*o>p.width,bottom:e.offsetTop+n.height+.5*o>p.height,left:e.offsetLeft-n.width-.5*o<0};t(2,h.top=e.offsetTop-.5*o,h),t(2,h.left=e.offsetLeft-.5*o,h),c.top&&t(2,h.top=e.offsetTop+n.height+.5*o,h),c.right&&t(2,h.left=e.offsetLeft-n.width-.5*o,h),c.bottom&&t(2,h.top=e.offsetTop-n.height-.5*o,h),c.left&&t(2,h.left=e.offsetLeft+n.width+.5*o,h)},d=()=>{t(1,r=!1),setTimeout(()=>s.hidePopover(),50)};ke(()=>(o=parseFloat(getComputedStyle(document.documentElement).fontSize),p={width:window.innerWidth,height:window.innerHeight},(async()=>(await He(),e.addEventListener("mouseover",b),e.addEventListener("mouseleave",d)))(),()=>{e.removeEventListener("mouseover",b),e.removeEventListener("mouseleave",d)}));function w(c){At[c?"unshift":"push"](()=>{s=c,t(0,s)})}return g.$$set=c=>{"anchor"in c&&t(3,e=c.anchor),"$$scope"in c&&t(4,a=c.$$scope)},[s,r,h,e,a,u,w]}class _n extends Ot{constructor(f){super(),$t(this,f,mn,pn,It,{anchor:3})}}const gn=!1,me=Ke(gn),vn="data:image/svg+xml,%3csvg%20fill='%23000000'%20width='20'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'%3e%3c/g%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3c/g%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3ctitle%3eVIm%3c/title%3e%3cpath%20d='M26.445%2022.095l0.592-0.649h1.667l0.386%200.519-1.581%205.132h0.616l-0.1%200.261h-2.228l1.405-4.454h-2.518l-1.346%204.238h0.53l-0.091%200.217h-2.006l1.383-4.434h-2.619l-1.327%204.172h0.545l-0.090%200.261h-2.076l1.892-5.573h-0.732l0.114-0.339h2.062l0.649%200.671h1.132l0.614-0.692h1.326l0.611%200.669zM7.99%2027.033h-2.141l-0.327-0.187v-21.979h-1.545l-0.125-0.125v-1.47l0.179-0.192h9.211l0.266%200.267v1.385l-0.177%200.216h-1.348v10.857l11.006-10.857h-2.607l-0.219-0.235v-1.453l0.151-0.139h9.36l0.165%200.166v1.337l-12.615%2012.937h-0.466c-0.005-0-0.011-0-0.018-0-0.012%200-0.024%200.001-0.036%200.002l0.002-0-0.025%200.004c-0.058%200.012-0.108%200.039-0.149%200.075l0-0-0.429%200.369-0.005%200.004c-0.040%200.037-0.072%200.084-0.090%200.136l-0.001%200.002-0.37%201.037zM17.916%2018.028l0.187%200.189-0.336%201.152-0.281%200.282h-1.211l-0.226-0.226%200.389-1.088%200.36-0.309zM13.298%2027.42l1.973-5.635h-0.626l0.371-0.38h2.073l-1.953%205.692h0.779l-0.099%200.322zM30.996%2015.982h-0.034l-5.396-5.396%205.377-5.516v-2.24l-0.811-0.81h-10.245l-0.825%200.756v1.306l-3.044-3.044v-0.034l-0.019%200.018-0.018-0.018v0.034l-1.612%201.613-0.672-0.673h-10.151l-0.797%200.865v2.356l0.77%200.77h0.9v6.636l-3.382%203.38h-0.034l0.018%200.016-0.018%200.017h0.034l3.382%203.382v8.081l1.133%200.654h2.902l2.321-2.379%205.206%205.206v0.035l0.019-0.017%200.017%200.017v-0.035l3.136-3.135h0.606c0.144-0.001%200.266-0.093%200.312-0.221l0.001-0.002%200.182-0.532c0.011-0.031%200.017-0.067%200.017-0.105%200-0.073-0.024-0.14-0.064-0.195l0.001%200.001%201.827-1.827-0.765%202.452c-0.009%200.029-0.015%200.063-0.015%200.097%200%200.149%200.098%200.275%200.233%200.317l0.002%200.001c0.029%200.009%200.063%200.015%200.097%200.015%200%200%200%200%200%200h2.279c0.136-0.001%200.252-0.084%200.303-0.201l0.001-0.002%200.206-0.492c0.014-0.036%200.022-0.077%200.022-0.121%200-0.048-0.010-0.094-0.028-0.135l0.001%200.002c-0.035-0.082-0.1-0.145-0.18-0.177l-0.002-0.001c-0.036-0.015-0.077-0.024-0.121-0.025h-0.094l1.050-3.304h1.54l-1.27%204.025c-0.009%200.029-0.015%200.063-0.015%200.097%200%200.149%200.098%200.274%200.232%200.317l0.002%200.001c0.029%200.009%200.063%200.015%200.098%200.015%200%200%200.001%200%200.001%200h2.502c0%200%200.001%200%200.001%200%200.14%200%200.26-0.087%200.308-0.21l0.001-0.002%200.205-0.535c0.013-0.034%200.020-0.073%200.020-0.114%200-0.142-0.090-0.264-0.215-0.311l-0.002-0.001c-0.034-0.013-0.073-0.021-0.114-0.021h-0.181l1.413-4.59c0.011-0.031%200.017-0.066%200.017-0.103%200-0.074-0.025-0.143-0.066-0.198l0.001%200.001-0.469-0.63-0.004-0.006c-0.061-0.078-0.156-0.127-0.261-0.127h-1.795c-0.093%200-0.177%200.039-0.237%200.101l-0%200-0.5%200.549h-0.78l-0.052-0.057%205.555-5.555h0.035l-0.017-0.014z'%3e%3c/path%3e%3c/g%3e%3c/svg%3e";function Ue(g){let f,t=`<img src="${vn}" alt="Vim"/>`,u,a;return{c(){f=ot("button"),f.innerHTML=t,this.h()},l(e){f=at(e,"BUTTON",{class:!0,"data-svelte-h":!0}),le(f)!=="svelte-ts8tlz"&&(f.innerHTML=t),this.h()},h(){rt(f,"class","p-1 transition hover:bg-accent/75"),mt(f,"bg-accent",g[1])},m(e,s){ft(e,f,s),g[15](f),u||(a=Rt(f,"click",g[9]),u=!0)},p(e,s){s&2&&mt(f,"bg-accent",e[1])},d(e){e&&X(f),g[15](null),u=!1,a()}}}function bn(g){let f;return{c(){f=Ft(g[5])},l(t){f=Lt(t,g[5])},m(t,u){ft(t,f,u)},p(t,u){u&32&&oe(f,t[5])},d(t){t&&X(f)}}}function We(g){let f,t;return f=new _n({props:{anchor:g[4],$$slots:{default:[wn]},$$scope:{ctx:g}}}),{c(){Ct(f.$$.fragment)},l(u){Et(f.$$.fragment,u)},m(u,a){kt(f,u,a),t=!0},p(u,a){const e={};a&16&&(e.anchor=u[4]),a&268435456&&(e.$$scope={dirty:a,ctx:u}),f.$set(e)},i(u){t||(ut(f.$$.fragment,u),t=!0)},o(u){dt(f.$$.fragment,u),t=!1},d(u){yt(f,u)}}}function wn(g){let f;return{c(){f=Ft("Toggle Vim mode")},l(t){f=Lt(t,"Toggle Vim mode")},m(t,u){ft(t,f,u)},d(t){t&&X(f)}}}function yn(g){let f,t,u,a=g[2]===g[7].processor?"AudioWorkletProcessor":"Main",e,s,n,r,o,p,h,b,d,w,c,_,m,k,C,x=g[2]===g[7].main&&Ue(g);function A(B){g[18](B)}let F={$$slots:{default:[bn]},$$scope:{ctx:g}};g[6]!==void 0&&(F.handleToggle=g[6]),d=new qe({props:F}),At.push(()=>Ut(d,"handleToggle",A));let O=g[2]===g[7].main&&We(g);return{c(){f=ot("div"),t=ot("div"),u=ot("div"),e=Ft(a),s=wt(),x&&x.c(),n=wt(),r=ot("div"),o=wt(),p=ot("section"),h=ot("div"),b=wt(),Ct(d.$$.fragment),c=wt(),O&&O.c(),_=ge(),this.h()},l(B){f=at(B,"DIV",{class:!0});var T=ht(f);t=at(T,"DIV",{class:!0});var N=ht(t);u=at(N,"DIV",{class:!0});var q=ht(u);e=Lt(q,a),q.forEach(X),s=bt(N),x&&x.l(N),N.forEach(X),n=bt(T),r=at(T,"DIV",{class:!0}),ht(r).forEach(X),o=bt(T),p=at(T,"SECTION",{});var E=ht(p);h=at(E,"DIV",{class:!0}),ht(h).forEach(X),E.forEach(X),T.forEach(X),b=bt(B),Et(d.$$.fragment,B),c=bt(B),O&&O.l(B),_=ge(),this.h()},h(){rt(u,"class","inline-block font-semibold"),rt(t,"class","header svelte-tuvx2s"),rt(r,"class","editor-container svelte-tuvx2s"),rt(h,"class","vimBar"),mt(p,"hidden",!g[1]),rt(f,"class","container svelte-tuvx2s")},m(B,T){ft(B,f,T),nt(f,t),nt(t,u),nt(u,e),nt(t,s),x&&x.m(t,null),nt(f,n),nt(f,r),g[16](r),nt(f,o),nt(f,p),nt(p,h),g[17](h),ft(B,b,T),kt(d,B,T),ft(B,c,T),O&&O.m(B,T),ft(B,_,T),m=!0,k||(C=Rt(window,"resize",g[8]),k=!0)},p(B,[T]){(!m||T&4)&&a!==(a=B[2]===B[7].processor?"AudioWorkletProcessor":"Main")&&oe(e,a),B[2]===B[7].main?x?x.p(B,T):(x=Ue(B),x.c(),x.m(t,null)):x&&(x.d(1),x=null),(!m||T&2)&&mt(p,"hidden",!B[1]);const N={};T&268435488&&(N.$$scope={dirty:T,ctx:B}),!w&&T&64&&(w=!0,N.handleToggle=B[6],Mt(()=>w=!1)),d.$set(N),B[2]===B[7].main?O?(O.p(B,T),T&4&&ut(O,1)):(O=We(B),O.c(),ut(O,1),O.m(_.parentNode,_)):O&&(Ve(),dt(O,1,1,()=>{O=null}),Ge())},i(B){m||(ut(d.$$.fragment,B),ut(O),m=!0)},o(B){dt(d.$$.fragment,B),dt(O),m=!1},d(B){B&&(X(f),X(b),X(c),X(_)),x&&x.d(),g[16](null),g[17](null),yt(d,B),O&&O.d(B),k=!1,C()}}}function kn(g,f,t){let u,a;se(g,me,z=>t(1,u=z)),se(g,Tt,z=>t(23,a=z));let{id:e="main"}=f,s;const n=Object.freeze({processor:0,main:1});let r,o,p,h,b,d,w,c="",_,m=!1;ke(async()=>{r=(await De(async()=>{const{default:j}=await import("./me1sT0m0.js").then(Q=>Q.m);return{default:j}},__vite__mapDeps([0,1,2,3,4]),import.meta.url)).default,h=(await De(async()=>{const{initVimMode:j}=await import("./qEVCeeLp.js").then(Q=>Q.i);return{initVimMode:j}},__vite__mapDeps([5,1,2]),import.meta.url)).initVimMode;const z=s===n.processor?(await be("examples/bypass/processor.js")).data:(await be("examples/bypass/main.js")).data;o=r.editor.create(p,{minimap:{enabled:!1},fontSize:14,scrollBeyondLastLine:!1});const G=r.editor.createModel(z||'console.log("Hello World!")',"javascript");o.setModel(G),o.onDidChangeModelContent(()=>{}),O(),t(14,m=!0)}),er(()=>{r==null||r.editor.getModels().forEach(z=>z.dispose()),o==null||o.dispose()});function k(){o==null||o.layout()}function C(){return(o==null?void 0:o.getValue())||""}function x(z){o==null||o.setValue(z)}function A(z,G){const j=G==="main"?n.main:n.processor;s===j&&x(z)}async function F(){const z=C();if(z!=="")if(s===n.processor)Sr(z);else try{await zr(z),_(!1)}catch(G){throw t(5,c=G.message),_(!0),G}}function O(){o.addAction({id:"play",label:"play",keybindings:[r.KeyMod.CtrlCmd|r.KeyCode.Enter],run:()=>{a===lt.stop?Wt(Tt,a=lt.play,a):a===lt.play||a===lt.running?Wt(Tt,a=lt.pause,a):a===lt.pause&&Wt(Tt,a=lt.play,a)}}),o.addAction({id:"stop",label:"stop",keybindings:[r.KeyMod.CtrlCmd|r.KeyCode.Backspace],run:()=>{stop(),a!==lt.stop&&Wt(Tt,a=lt.stop,a)}})}function B(){b=h(o,d),Wt(me,u=!0,u),t(3,p.style.height="calc(100% - 1.75rem - 1.5rem)",p),k()}function T(){b==null||b.dispose(),Wt(me,u=!1,u),t(3,p.style.height="calc(100% - 1.75rem)",p),k()}function N(){Wt(me,u=!u,u)}function q(z){At[z?"unshift":"push"](()=>{w=z,t(4,w)})}function E(z){At[z?"unshift":"push"](()=>{p=z,t(3,p)})}function L(z){At[z?"unshift":"push"](()=>{d=z,t(0,d)})}function l(z){_=z,t(6,_)}return g.$$set=z=>{"id"in z&&t(10,e=z.id)},g.$$.update=()=>{g.$$.dirty&17411&&(t(2,s=e==="processor"?n.processor:n.main),d&&m&&(u?B():T()))},[d,u,s,p,w,c,_,n,k,N,e,C,A,F,m,q,E,L,l]}class Ze extends Ot{constructor(f){super(),$t(this,f,kn,yn,It,{id:10,getEditorCode:11,loadEditorCode:12,runEditorCode:13})}get getEditorCode(){return this.$$.ctx[11]}get loadEditorCode(){return this.$$.ctx[12]}get runEditorCode(){return this.$$.ctx[13]}}const En=g=>[...Te.entries()].forEach(([f,t])=>f!==g.target&&t({...g,currentTarget:f}));function Cn(g){let f,t,u,a,e,s,n,r,o,p,h,b,d,w,c,_,m,k,C,x,A,F;a=new en({}),n=new hn({});function O(z){g[3](z)}function B(z){g[4](z)}function T(z){g[5](z)}let N={id:"processor"};g[0]!==void 0&&(N.runEditorCode=g[0]),Ht!==void 0&&(N.loadEditorCode=Ht),ne!==void 0&&(N.getEditorCode=ne),p=new Ze({props:N}),At.push(()=>Ut(p,"runEditorCode",O)),At.push(()=>Ut(p,"loadEditorCode",B)),At.push(()=>Ut(p,"getEditorCode",T));function q(z){g[6](z)}function E(z){g[7](z)}function L(z){g[8](z)}let l={id:"main"};return g[1]!==void 0&&(l.runEditorCode=g[1]),re!==void 0&&(l.loadEditorCode=re),ie!==void 0&&(l.getEditorCode=ie),_=new Ze({props:l}),At.push(()=>Ut(_,"runEditorCode",q)),At.push(()=>Ut(_,"loadEditorCode",E)),At.push(()=>Ut(_,"getEditorCode",L)),{c(){f=wt(),t=ot("main"),u=ot("nav"),Ct(a.$$.fragment),e=wt(),s=ot("header"),Ct(n.$$.fragment),r=wt(),o=ot("section"),Ct(p.$$.fragment),w=wt(),c=ot("section"),Ct(_.$$.fragment),this.h()},l(z){f=bt(z),t=at(z,"MAIN",{class:!0});var G=ht(t);u=at(G,"NAV",{class:!0});var j=ht(u);Et(a.$$.fragment,j),j.forEach(X),e=bt(G),s=at(G,"HEADER",{class:!0});var Q=ht(s);Et(n.$$.fragment,Q),Q.forEach(X),r=bt(G),o=at(G,"SECTION",{class:!0});var W=ht(o);Et(p.$$.fragment,W),W.forEach(X),w=bt(G),c=at(G,"SECTION",{class:!0});var et=ht(c);Et(_.$$.fragment,et),et.forEach(X),G.forEach(X),this.h()},h(){rt(u,"class","col-span-2"),rt(s,"class","col-span-2"),rt(o,"class","border-r border-black"),rt(c,"class","border-l border-black"),rt(t,"class","grid grid-cols-2 grid-rows-main h-full w-full")},m(z,G){ft(z,f,G),ft(z,t,G),nt(t,u),kt(a,u,null),nt(t,e),nt(t,s),kt(n,s,null),nt(t,r),nt(t,o),kt(p,o,null),nt(t,w),nt(t,c),kt(_,c,null),x=!0,A||(F=Rt(document,"click",En),A=!0)},p(z,[G]){const j={};!h&&G&1&&(h=!0,j.runEditorCode=z[0],Mt(()=>h=!1)),!b&&G&0&&(b=!0,j.loadEditorCode=Ht,Mt(()=>b=!1)),!d&&G&0&&(d=!0,j.getEditorCode=ne,Mt(()=>d=!1)),p.$set(j);const Q={};!m&&G&2&&(m=!0,Q.runEditorCode=z[1],Mt(()=>m=!1)),!k&&G&0&&(k=!0,Q.loadEditorCode=re,Mt(()=>k=!1)),!C&&G&0&&(C=!0,Q.getEditorCode=ie,Mt(()=>C=!1)),_.$set(Q)},i(z){x||(ut(a.$$.fragment,z),ut(n.$$.fragment,z),ut(p.$$.fragment,z),ut(_.$$.fragment,z),x=!0)},o(z){dt(a.$$.fragment,z),dt(n.$$.fragment,z),dt(p.$$.fragment,z),dt(_.$$.fragment,z),x=!1},d(z){z&&(X(f),X(t)),yt(a),yt(n),yt(p),yt(_),A=!1,F()}}}let Ht,re,ne,ie;function xn(g,f,t){let u;se(g,Tt,d=>t(2,u=d));let a,e;async function s(){a();try{await e()}catch(d){throw Wt(Tt,u=lt.stop,u),d}}function n(d){a=d,t(0,a)}function r(d){Ht=d}function o(d){ne=d}function p(d){e=d,t(1,e)}function h(d){re=d}function b(d){ie=d}return g.$$.update=()=>{if(g.$$.dirty&4)switch(u){case lt.play:s();break;case lt.running:Tr();break;case lt.pause:Ir();break;default:case lt.stop:Or()}},[a,e,u,n,r,o,p,h,b]}class On extends Ot{constructor(f){super(),$t(this,f,xn,Cn,It,{})}}export{On as P,In as g};
